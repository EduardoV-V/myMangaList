(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function E0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Vd={exports:{}},go={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function wT(){if(Mv)return go;Mv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:a,key:h,ref:l!==void 0?l:null,props:u}}return go.Fragment=t,go.jsx=r,go.jsxs=r,go}var Lv;function RT(){return Lv||(Lv=1,Vd.exports=wT()),Vd.exports}var W=RT(),Od={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function CT(){if(Uv)return Dt;Uv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,B={};function V(L,nt,lt){this.props=L,this.context=nt,this.refs=B,this.updater=lt||D}V.prototype.isReactComponent={},V.prototype.setState=function(L,nt){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,nt,"setState")},V.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function X(){}X.prototype=V.prototype;function Q(L,nt,lt){this.props=L,this.context=nt,this.refs=B,this.updater=lt||D}var K=Q.prototype=new X;K.constructor=Q,P(K,V.prototype),K.isPureReactComponent=!0;var ot=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function I(L,nt,lt,it,mt,At){return lt=At.ref,{$$typeof:i,type:L,key:nt,ref:lt!==void 0?lt:null,props:At}}function w(L,nt){return I(L.type,nt,void 0,void 0,void 0,L.props)}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function O(L){var nt={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(lt){return nt[lt]})}var M=/\/+/g;function z(L,nt){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):nt.toString(36)}function x(){}function Zt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(x,x):(L.status="pending",L.then(function(nt){L.status==="pending"&&(L.status="fulfilled",L.value=nt)},function(nt){L.status==="pending"&&(L.status="rejected",L.reason=nt)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Jt(L,nt,lt,it,mt){var At=typeof L;(At==="undefined"||At==="boolean")&&(L=null);var pt=!1;if(L===null)pt=!0;else switch(At){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(L.$$typeof){case i:case t:pt=!0;break;case E:return pt=L._init,Jt(pt(L._payload),nt,lt,it,mt)}}if(pt)return mt=mt(L),pt=it===""?"."+z(L,0):it,ot(mt)?(lt="",pt!=null&&(lt=pt.replace(M,"$&/")+"/"),Jt(mt,nt,lt,"",function(Re){return Re})):mt!=null&&(R(mt)&&(mt=w(mt,lt+(mt.key==null||L&&L.key===mt.key?"":(""+mt.key).replace(M,"$&/")+"/")+pt)),nt.push(mt)),1;pt=0;var he=it===""?".":it+":";if(ot(L))for(var Pt=0;Pt<L.length;Pt++)it=L[Pt],At=he+z(it,Pt),pt+=Jt(it,nt,lt,At,mt);else if(Pt=S(L),typeof Pt=="function")for(L=Pt.call(L),Pt=0;!(it=L.next()).done;)it=it.value,At=he+z(it,Pt++),pt+=Jt(it,nt,lt,At,mt);else if(At==="object"){if(typeof L.then=="function")return Jt(Zt(L),nt,lt,it,mt);throw nt=String(L),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return pt}function $(L,nt,lt){if(L==null)return L;var it=[],mt=0;return Jt(L,it,"","",function(At){return nt.call(lt,At,mt++)}),it}function st(L){if(L._status===-1){var nt=L._result;nt=nt(),nt.then(function(lt){(L._status===0||L._status===-1)&&(L._status=1,L._result=lt)},function(lt){(L._status===0||L._status===-1)&&(L._status=2,L._result=lt)}),L._status===-1&&(L._status=0,L._result=nt)}if(L._status===1)return L._result.default;throw L._result}var gt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ct(){}return Dt.Children={map:$,forEach:function(L,nt,lt){$(L,function(){nt.apply(this,arguments)},lt)},count:function(L){var nt=0;return $(L,function(){nt++}),nt},toArray:function(L){return $(L,function(nt){return nt})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Dt.Component=V,Dt.Fragment=r,Dt.Profiler=l,Dt.PureComponent=Q,Dt.StrictMode=a,Dt.Suspense=g,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return at.H.useMemoCache(L)}},Dt.cache=function(L){return function(){return L.apply(null,arguments)}},Dt.cloneElement=function(L,nt,lt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var it=P({},L.props),mt=L.key,At=void 0;if(nt!=null)for(pt in nt.ref!==void 0&&(At=void 0),nt.key!==void 0&&(mt=""+nt.key),nt)!ct.call(nt,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&nt.ref===void 0||(it[pt]=nt[pt]);var pt=arguments.length-2;if(pt===1)it.children=lt;else if(1<pt){for(var he=Array(pt),Pt=0;Pt<pt;Pt++)he[Pt]=arguments[Pt+2];it.children=he}return I(L.type,mt,void 0,void 0,At,it)},Dt.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Dt.createElement=function(L,nt,lt){var it,mt={},At=null;if(nt!=null)for(it in nt.key!==void 0&&(At=""+nt.key),nt)ct.call(nt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=nt[it]);var pt=arguments.length-2;if(pt===1)mt.children=lt;else if(1<pt){for(var he=Array(pt),Pt=0;Pt<pt;Pt++)he[Pt]=arguments[Pt+2];mt.children=he}if(L&&L.defaultProps)for(it in pt=L.defaultProps,pt)mt[it]===void 0&&(mt[it]=pt[it]);return I(L,At,void 0,void 0,null,mt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(L){return{$$typeof:m,render:L}},Dt.isValidElement=R,Dt.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:st}},Dt.memo=function(L,nt){return{$$typeof:y,type:L,compare:nt===void 0?null:nt}},Dt.startTransition=function(L){var nt=at.T,lt={};at.T=lt;try{var it=L(),mt=at.S;mt!==null&&mt(lt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ct,gt)}catch(At){gt(At)}finally{at.T=nt}},Dt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Dt.use=function(L){return at.H.use(L)},Dt.useActionState=function(L,nt,lt){return at.H.useActionState(L,nt,lt)},Dt.useCallback=function(L,nt){return at.H.useCallback(L,nt)},Dt.useContext=function(L){return at.H.useContext(L)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(L,nt){return at.H.useDeferredValue(L,nt)},Dt.useEffect=function(L,nt,lt){var it=at.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(L,nt)},Dt.useId=function(){return at.H.useId()},Dt.useImperativeHandle=function(L,nt,lt){return at.H.useImperativeHandle(L,nt,lt)},Dt.useInsertionEffect=function(L,nt){return at.H.useInsertionEffect(L,nt)},Dt.useLayoutEffect=function(L,nt){return at.H.useLayoutEffect(L,nt)},Dt.useMemo=function(L,nt){return at.H.useMemo(L,nt)},Dt.useOptimistic=function(L,nt){return at.H.useOptimistic(L,nt)},Dt.useReducer=function(L,nt,lt){return at.H.useReducer(L,nt,lt)},Dt.useRef=function(L){return at.H.useRef(L)},Dt.useState=function(L){return at.H.useState(L)},Dt.useSyncExternalStore=function(L,nt,lt){return at.H.useSyncExternalStore(L,nt,lt)},Dt.useTransition=function(){return at.H.useTransition()},Dt.version="19.1.1",Dt}var Pv;function xm(){return Pv||(Pv=1,Od.exports=CT()),Od.exports}var C=xm();const Ee=E0(C);var Md={exports:{}},po={},Ld={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function DT(){return zv||(zv=1,(function(i){function t($,st){var gt=$.length;$.push(st);t:for(;0<gt;){var Ct=gt-1>>>1,L=$[Ct];if(0<l(L,st))$[Ct]=st,$[gt]=L,gt=Ct;else break t}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var st=$[0],gt=$.pop();if(gt!==st){$[0]=gt;t:for(var Ct=0,L=$.length,nt=L>>>1;Ct<nt;){var lt=2*(Ct+1)-1,it=$[lt],mt=lt+1,At=$[mt];if(0>l(it,gt))mt<L&&0>l(At,it)?($[Ct]=At,$[mt]=gt,Ct=mt):($[Ct]=it,$[lt]=gt,Ct=lt);else if(mt<L&&0>l(At,gt))$[Ct]=At,$[mt]=gt,Ct=mt;else break t}}return st}function l($,st){var gt=$.sortIndex-st.sortIndex;return gt!==0?gt:$.id-st.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],y=[],E=1,T=null,S=3,D=!1,P=!1,B=!1,V=!1,X=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ot($){for(var st=r(y);st!==null;){if(st.callback===null)a(y);else if(st.startTime<=$)a(y),st.sortIndex=st.expirationTime,t(g,st);else break;st=r(y)}}function at($){if(B=!1,ot($),!P)if(r(g)!==null)P=!0,ct||(ct=!0,z());else{var st=r(y);st!==null&&Jt(at,st.startTime-$)}}var ct=!1,I=-1,w=5,R=-1;function O(){return V?!0:!(i.unstable_now()-R<w)}function M(){if(V=!1,ct){var $=i.unstable_now();R=$;var st=!0;try{t:{P=!1,B&&(B=!1,Q(I),I=-1),D=!0;var gt=S;try{e:{for(ot($),T=r(g);T!==null&&!(T.expirationTime>$&&O());){var Ct=T.callback;if(typeof Ct=="function"){T.callback=null,S=T.priorityLevel;var L=Ct(T.expirationTime<=$);if($=i.unstable_now(),typeof L=="function"){T.callback=L,ot($),st=!0;break e}T===r(g)&&a(g),ot($)}else a(g);T=r(g)}if(T!==null)st=!0;else{var nt=r(y);nt!==null&&Jt(at,nt.startTime-$),st=!1}}break t}finally{T=null,S=gt,D=!1}st=void 0}}finally{st?z():ct=!1}}}var z;if(typeof K=="function")z=function(){K(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Zt=x.port2;x.port1.onmessage=M,z=function(){Zt.postMessage(null)}}else z=function(){X(M,0)};function Jt($,st){I=X(function(){$(i.unstable_now())},st)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function($){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var gt=S;S=st;try{return $()}finally{S=gt}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function($,st){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var gt=S;S=$;try{return st()}finally{S=gt}},i.unstable_scheduleCallback=function($,st,gt){var Ct=i.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Ct+gt:Ct):gt=Ct,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=gt+L,$={id:E++,callback:st,priorityLevel:$,startTime:gt,expirationTime:L,sortIndex:-1},gt>Ct?($.sortIndex=gt,t(y,$),r(g)===null&&$===r(y)&&(B?(Q(I),I=-1):B=!0,Jt(at,gt-Ct))):($.sortIndex=L,t(g,$),P||D||(P=!0,ct||(ct=!0,z()))),$},i.unstable_shouldYield=O,i.unstable_wrapCallback=function($){var st=S;return function(){var gt=S;S=st;try{return $.apply(this,arguments)}finally{S=gt}}}})(Ud)),Ud}var kv;function xT(){return kv||(kv=1,Ld.exports=DT()),Ld.exports}var Pd={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function NT(){if(Bv)return cn;Bv=1;var i=xm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:g,containerInfo:y,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},cn.flushSync=function(g){var y=h.T,E=a.p;try{if(h.T=null,a.p=2,g)return g()}finally{h.T=y,a.p=E,a.d.f()}},cn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},cn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},cn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:D}):E==="script"&&a.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},cn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);a.d.L(g,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},cn.requestFormReset=function(g){a.d.r(g)},cn.unstable_batchedUpdates=function(g,y){return g(y)},cn.useFormState=function(g,y,E){return h.H.useFormState(g,y,E)},cn.useFormStatus=function(){return h.H.useHostTransitionStatus()},cn.version="19.1.1",cn}var jv;function b0(){if(jv)return Pd.exports;jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Pd.exports=NT(),Pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function IT(){if(qv)return po;qv=1;var i=xT(),t=xm(),r=b0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),e;if(d===o)return m(f),n;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=d;else{for(var _=!1,b=f.child;b;){if(b===s){_=!0,s=f,o=d;break}if(b===o){_=!0,o=f,s=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===s){_=!0,s=d,o=f;break}if(b===o){_=!0,o=d,s=f;break}b=b.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case V:return"Profiler";case B:return"StrictMode";case at:return"Suspense";case ct:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case K:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case ot:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Zt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Zt(e(n))}catch{}}return null}var Jt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Ct=[],L=-1;function nt(e){return{current:e}}function lt(e){0>L||(e.current=Ct[L],Ct[L]=null,L--)}function it(e,n){L++,Ct[L]=e.current,e.current=n}var mt=nt(null),At=nt(null),pt=nt(null),he=nt(null);function Pt(e,n){switch(it(pt,n),it(At,e),it(mt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ov(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ov(n),e=uv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(mt),it(mt,e)}function Re(){lt(mt),lt(At),lt(pt)}function It(e){e.memoizedState!==null&&it(he,e);var n=mt.current,s=uv(n,e.type);n!==s&&(it(At,e),it(mt,s))}function mn(e){At.current===e&&(lt(mt),lt(At)),he.current===e&&(lt(he),uo._currentValue=gt)}var Ge=Object.prototype.hasOwnProperty,Tn=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,Bn=i.unstable_shouldYield,nr=i.unstable_requestPaint,gn=i.unstable_now,es=i.unstable_getCurrentPriorityLevel,Hr=i.unstable_ImmediatePriority,pn=i.unstable_UserBlockingPriority,jn=i.unstable_NormalPriority,wi=i.unstable_LowPriority,Gr=i.unstable_IdlePriority,Ri=i.log,ns=i.unstable_setDisableYieldValue,ue=null,Mt=null;function Ce(e){if(typeof Ri=="function"&&ns(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(ue,e)}catch{}}var pe=Math.clz32?Math.clz32:gr,ma=Math.log,qn=Math.LN2;function gr(e){return e>>>=0,e===0?32:31-(ma(e)/qn|0)|0}var Fr=256,Qr=4194304;function yn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yr(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~d,o!==0?f=yn(o):(_&=b,_!==0?f=yn(_):s||(s=b&~e,s!==0&&(f=yn(s))))):(b=o&~d,b!==0?f=yn(b):_!==0?f=yn(_):s||(s=o&~e,s!==0&&(f=yn(s)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:f}function Xr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ci(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ga(){var e=Fr;return Fr<<=1,(Fr&4194048)===0&&(Fr=256),e}function pa(){var e=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),e}function rr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ae(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,n,s,o,f,d){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,N=e.expirationTimes,H=e.hiddenUpdates;for(s=_&~s;0<s;){var Z=31-pe(s),tt=1<<Z;b[Z]=0,N[Z]=-1;var G=H[Z];if(G!==null)for(H[Z]=null,Z=0;Z<G.length;Z++){var F=G[Z];F!==null&&(F.lane&=-536870913)}s&=~tt}o!==0&&ce(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function ce(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-pe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function Sn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-pe(s),f=1<<o;f&n|e[o]&n&&(e[o]|=n),s&=~f}}function be(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ue(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Dv(e.type))}function ir(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var Rt=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Rt,Ft="__reactProps$"+Rt,ye="__reactContainer$"+Rt,ar="__reactEvents$"+Rt,Kr="__reactListeners$"+Rt,We="__reactHandles$"+Rt,pr="__reactResources$"+Rt,sr="__reactMarker$"+Rt;function Di(e){delete e[Wt],delete e[Ft],delete e[ar],delete e[Kr],delete e[We]}function $r(e){var n=e[Wt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ye]||s[Wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=dv(e);e!==null;){if(s=e[Wt])return s;e=dv(e)}return n}e=s,s=e.parentNode}return null}function yr(e){if(e=e[Wt]||e[ye]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function vr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function vn(e){var n=e[pr];return n||(n=e[pr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[sr]=!0}var gl=new Set,rs={};function lr(e,n){Zr(e,n),Zr(e+"Capture",n)}function Zr(e,n){for(rs[e]=n,e=0;e<n.length;e++)gl.add(n[e])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),iu={},ya={};function au(e){return Ge.call(ya,e)?!0:Ge.call(iu,e)?!1:ru.test(e)?ya[e]=!0:(iu[e]=!0,!1)}function xi(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function _r(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function tn(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var va,su;function Jr(e){if(va===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);va=n&&n[1]||"",su=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+e+su}var is=!1;function as(e,n){if(!e||is)return"";is=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var G=F}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(F){G=F}e.call(tt.prototype)}}else{try{throw Error()}catch(F){G=F}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&G&&typeof F.stack=="string")return[F.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),H=b.split(`
`);for(f=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(o===N.length||f===H.length)for(o=N.length-1,f=H.length-1;1<=o&&0<=f&&N[o]!==H[f];)f--;for(;1<=o&&0<=f;o--,f--)if(N[o]!==H[f]){if(o!==1||f!==1)do if(o--,f--,0>f||N[o]!==H[f]){var Z=`
`+N[o].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=o&&0<=f);break}}}finally{is=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Jr(s):""}function pl(e){switch(e.tag){case 26:case 27:case 5:return Jr(e.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 15:return as(e.type,!1);case 11:return as(e.type.render,!1);case 1:return as(e.type,!0);case 31:return Jr("Activity");default:return""}}function ss(e){try{var n="";do n+=pl(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uf(e){var n=yl(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ls(e){e._valueTracker||(e._valueTracker=Uf(e))}function vl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=yl(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function _a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pf=/[\n"\\]/g;function xe(e){return e.replace(Pf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function In(e,n,s,o,f,d,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+_n(n)):e.value!==""+_n(n)&&(e.value=""+_n(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Ni(e,_,_n(n)):s!=null?Ni(e,_,_n(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+_n(b):e.removeAttribute("name")}function Ea(e,n,s,o,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+_n(s):"",n=n!=null?""+_n(n):s,b||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Ni(e,n,s){n==="number"&&_a(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Wr(e,n,s,o){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+_n(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function te(e,n,s){if(n!=null&&(n=""+_n(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+_n(s):""}function ba(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Jt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=_n(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function Hn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Ta.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function _l(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&lu(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&lu(e,d,n[d])}function El(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(e){return kf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ti=null;function Gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ei=null,ni=null;function bl(e){var n=yr(e);if(n&&(e=n.stateNode)){var s=e[Ft]||null;t:switch(e=n.stateNode,n.type){case"input":if(In(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xe(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var f=o[Ft]||null;if(!f)throw Error(a(90));In(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&vl(o)}break t;case"textarea":te(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Wr(e,!!s.multiple,n,!1)}}}var Er=!1;function ou(e,n,s){if(Er)return e(n,s);Er=!0;try{var o=e(n);return o}finally{if(Er=!1,(ei!==null||ni!==null)&&(ec(),ei&&(n=ei,e=ni,ni=ei=null,bl(n),e)))for(n=0;n<e.length;n++)bl(e[n])}}function Sa(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ft]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(or)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{Fn=!1}var br=null,Ii=null,ri=null;function Tl(){if(ri)return ri;var e,n=Ii,s=n.length,o,f="value"in br?br.value:br.textContent,d=f.length;for(e=0;e<s&&n[e]===f[e];e++);var _=s-e;for(o=1;o<=_&&n[s-o]===f[d-o];o++);return ri=f.slice(e,1<o?1-o:void 0)}function Tr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Sr(){return!0}function Sl(){return!1}function Fe(e){function n(s,o,f,d,_){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Sr:Sl,this.isPropagationStopped=Sl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),n}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Fe(Yt),wa=E({},Yt,{view:0,detail:0}),uu=Fe(wa),cs,fs,Ar,Ra=E({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ar&&(Ar&&e.type==="mousemove"?(cs=e.screenX-Ar.screenX,fs=e.screenY-Ar.screenY):fs=cs=0,Ar=e),cs)},movementY:function(e){return"movementY"in e?e.movementY:fs}}),Qn=Fe(Ra),cu=E({},Ra,{dataTransfer:0}),Bf=Fe(cu),Ca=E({},wa,{relatedTarget:0}),hs=Fe(Ca),Al=E({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),ds=Fe(Al),fu=E({},Yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ms=Fe(fu),jf=E({},Yt,{data:0}),wl=Fe(jf),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function xa(){return Rl}var mu=E({},wa,{key:function(e){if(e.key){var n=Da[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gs=Fe(mu),gu=E({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cl=Fe(gu),ii=E({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),pu=Fe(ii),yu=E({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Fe(yu),_u=E({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ps=Fe(_u),En=E({},Yt,{newState:0,oldState:0}),Eu=Fe(En),bu=[9,13,27,32],wr=or&&"CompositionEvent"in window,c=null;or&&"documentMode"in document&&(c=document.documentMode);var p=or&&"TextEvent"in window&&!c,v=or&&(!wr||c&&8<c&&11>=c),A=" ",j=!1;function Y(e,n){switch(e){case"keyup":return bu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function Pe(e,n){switch(e){case"compositionend":return ut(n);case"keypress":return n.which!==32?null:(j=!0,A);case"textInput":return e=n.data,e===A&&j?null:e;default:return null}}function Bt(e,n){if(kt)return e==="compositionend"||!wr&&Y(e,n)?(e=Tl(),ri=Ii=br=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ze(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Qe[e.type]:n==="textarea"}function ai(e,n,s,o){ei?ni?ni.push(o):ni=[o]:ei=o,n=lc(n,"onChange"),0<n.length&&(s=new us("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var en=null,Rr=null;function Dl(e){rv(e,0)}function Tu(e){var n=vr(e);if(vl(n))return e}function Ag(e,n){if(e==="change")return n}var wg=!1;if(or){var qf;if(or){var Hf="oninput"in document;if(!Hf){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Hf=typeof Rg.oninput=="function"}qf=Hf}else qf=!1;wg=qf&&(!document.documentMode||9<document.documentMode)}function Cg(){en&&(en.detachEvent("onpropertychange",Dg),Rr=en=null)}function Dg(e){if(e.propertyName==="value"&&Tu(Rr)){var n=[];ai(n,Rr,e,Gn(e)),ou(Dl,n)}}function e1(e,n,s){e==="focusin"?(Cg(),en=n,Rr=s,en.attachEvent("onpropertychange",Dg)):e==="focusout"&&Cg()}function n1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Rr)}function r1(e,n){if(e==="click")return Tu(n)}function i1(e,n){if(e==="input"||e==="change")return Tu(n)}function a1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Vn=typeof Object.is=="function"?Object.is:a1;function xl(e,n){if(Vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Ge.call(n,f)||!Vn(e[f],n[f]))return!1}return!0}function xg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ng(e,n){var s=xg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=xg(s)}}function Ig(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ig(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_a(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=_a(e.document)}return n}function Gf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var s1=or&&"documentMode"in document&&11>=document.documentMode,ys=null,Ff=null,Nl=null,Qf=!1;function Og(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qf||ys==null||ys!==_a(o)||(o=ys,"selectionStart"in o&&Gf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Nl&&xl(Nl,o)||(Nl=o,o=lc(Ff,"onSelect"),0<o.length&&(n=new us("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ys)))}function Na(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var vs={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Yf={},Mg={};or&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Ia(e){if(Yf[e])return Yf[e];if(!vs[e])return e;var n=vs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Mg)return Yf[e]=n[s];return e}var Lg=Ia("animationend"),Ug=Ia("animationiteration"),Pg=Ia("animationstart"),l1=Ia("transitionrun"),o1=Ia("transitionstart"),u1=Ia("transitioncancel"),zg=Ia("transitionend"),kg=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function ur(e,n){kg.set(e,n),lr(n,[e])}var Bg=new WeakMap;function Yn(e,n){if(typeof e=="object"&&e!==null){var s=Bg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ss(n)},Bg.set(e,n),n)}return{value:e,source:n,stack:ss(n)}}var Xn=[],_s=0,Kf=0;function Su(){for(var e=_s,n=Kf=_s=0;n<e;){var s=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var f=Xn[n];Xn[n++]=null;var d=Xn[n];if(Xn[n++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}d!==0&&jg(s,f,d)}}function Au(e,n,s,o){Xn[_s++]=e,Xn[_s++]=n,Xn[_s++]=s,Xn[_s++]=o,Kf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $f(e,n,s,o){return Au(e,n,s,o),wu(e)}function Es(e,n){return Au(e,null,null,n),wu(e)}function jg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-pe(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=s|536870912),d):null}function wu(e){if(50<eo)throw eo=0,nd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var bs={};function c1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,n,s,o){return new c1(e,n,s,o)}function Zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function si(e,n){var s=e.alternate;return s===null?(s=On(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function qg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,f,d){var _=0;if(o=e,typeof e=="function")Zf(e)&&(_=1);else if(typeof e=="string")_=hT(e,s,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=On(31,s,n,f),e.elementType=R,e.lanes=d,e;case P:return Va(s.children,f,d,n);case B:_=8,f|=24;break;case V:return e=On(12,s,n,f|2),e.elementType=V,e.lanes=d,e;case at:return e=On(13,s,n,f),e.elementType=at,e.lanes=d,e;case ct:return e=On(19,s,n,f),e.elementType=ct,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:case K:_=10;break t;case Q:_=9;break t;case ot:_=11;break t;case I:_=14;break t;case w:_=16,o=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=On(_,s,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function Va(e,n,s,o){return e=On(7,e,o,n),e.lanes=s,e}function Jf(e,n,s){return e=On(6,e,null,n),e.lanes=s,e}function Wf(e,n,s){return n=On(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ts=[],Ss=0,Cu=null,Du=0,Kn=[],$n=0,Oa=null,li=1,oi="";function Ma(e,n){Ts[Ss++]=Du,Ts[Ss++]=Cu,Cu=e,Du=n}function Hg(e,n,s){Kn[$n++]=li,Kn[$n++]=oi,Kn[$n++]=Oa,Oa=e;var o=li;e=oi;var f=32-pe(o)-1;o&=~(1<<f),s+=1;var d=32-pe(n)+f;if(30<d){var _=f-f%5;d=(o&(1<<_)-1).toString(32),o>>=_,f-=_,li=1<<32-pe(n)+f|s<<f|o,oi=d+e}else li=1<<d|s<<f|o,oi=e}function th(e){e.return!==null&&(Ma(e,1),Hg(e,1,0))}function eh(e){for(;e===Cu;)Cu=Ts[--Ss],Ts[Ss]=null,Du=Ts[--Ss],Ts[Ss]=null;for(;e===Oa;)Oa=Kn[--$n],Kn[$n]=null,oi=Kn[--$n],Kn[$n]=null,li=Kn[--$n],Kn[$n]=null}var bn=null,ve=null,Qt=!1,La=null,Cr=!1,nh=Error(a(519));function Ua(e){var n=Error(a(418,""));throw Ol(Yn(n,e)),nh}function Gg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Wt]=e,n[Ft]=o,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<ro.length;s++)Ot(ro[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Ea(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ls(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),ba(n,o.value,o.defaultValue,o.children),ls(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||lv(n.textContent,s)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=oc),n=!0):n=!1,n||Ua(e)}function Fg(e){for(bn=e.return;bn;)switch(bn.tag){case 5:case 13:Cr=!1;return;case 27:case 3:Cr=!0;return;default:bn=bn.return}}function Il(e){if(e!==bn)return!1;if(!Qt)return Fg(e),Qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||vd(e.type,e.memoizedProps)),s=!s),s&&ve&&Ua(e),Fg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ve=fr(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ve=null}}else n===27?(n=ve,Yi(e.type)?(e=Td,Td=null,ve=e):ve=n):ve=bn?fr(e.stateNode.nextSibling):null;return!0}function Vl(){ve=bn=null,Qt=!1}function Qg(){var e=La;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),La=null),e}function Ol(e){La===null?La=[e]:La.push(e)}var rh=nt(null),Pa=null,ui=null;function Vi(e,n,s){it(rh,n._currentValue),n._currentValue=s}function ci(e){e._currentValue=rh.current,lt(rh)}function ih(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function ah(e,n,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=f;for(var N=0;N<n.length;N++)if(b.context===n[N]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),ih(d.return,s,e),o||(_=null);break t}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),ih(_,s,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ml(e,n,s,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var b=f.type;Vn(f.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(f===he.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(uo):e=[uo])}f=f.return}e!==null&&ah(n,e,s,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!Vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function za(e){Pa=e,ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function un(e){return Yg(Pa,e)}function Nu(e,n){return Pa===null&&za(e),Yg(e,n)}function Yg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ui===null){if(e===null)throw Error(a(308));ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ui=ui.next=n;return s}var f1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},h1=i.unstable_scheduleCallback,d1=i.unstable_NormalPriority,ke={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new f1,data:new Map,refCount:0}}function Ll(e){e.refCount--,e.refCount===0&&h1(d1,function(){e.controller.abort()})}var Ul=null,lh=0,As=0,ws=null;function m1(e,n){if(Ul===null){var s=Ul=[];lh=0,As=ud(),ws={status:"pending",value:void 0,then:function(o){s.push(o)}}}return lh++,n.then(Xg,Xg),n}function Xg(){if(--lh===0&&Ul!==null){ws!==null&&(ws.status="fulfilled");var e=Ul;Ul=null,As=0,ws=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function g1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var Kg=$.S;$.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&m1(e,n),Kg!==null&&Kg(e,n)};var ka=nt(null);function oh(){var e=ka.current;return e!==null?e:se.pooledCache}function Iu(e,n){n===null?it(ka,ka.current):it(ka,n.pool)}function $g(){var e=oh();return e===null?null:{parent:ke._currentValue,pool:e}}var Pl=Error(a(460)),Zg=Error(a(474)),Vu=Error(a(542)),uh={then:function(){}};function Jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ou(){}function Wg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Ou,Ou),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ep(e),e;default:if(typeof n.status=="string")n.then(Ou,Ou);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ep(e),e}throw zl=n,Pl}}var zl=null;function tp(){if(zl===null)throw Error(a(459));var e=zl;return zl=null,e}function ep(e){if(e===Pl||e===Vu)throw Error(a(483))}var Oi=!1;function ch(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Li(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=wu(e),jg(e,null,s),n}return Au(e,o,n,s),wu(e)}function kl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Sn(e,s)}}function hh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?f=d=n:d=d.next=n}else f=d=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var dh=!1;function Bl(){if(dh){var e=ws;if(e!==null)throw e}}function jl(e,n,s,o){dh=!1;var f=e.updateQueue;Oi=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=H:b.next=H,Z.lastBaseUpdate=N))}if(d!==null){var tt=f.baseState;_=0,Z=H=N=null,b=d;do{var G=b.lane&-536870913,F=G!==b.lane;if(F?(jt&G)===G:(o&G)===G){G!==0&&G===As&&(dh=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var Tt=e,_t=b;G=n;var re=s;switch(_t.tag){case 1:if(Tt=_t.payload,typeof Tt=="function"){tt=Tt.call(re,tt,G);break t}tt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=_t.payload,G=typeof Tt=="function"?Tt.call(re,tt,G):Tt,G==null)break t;tt=E({},tt,G);break t;case 2:Oi=!0}}G=b.callback,G!==null&&(e.flags|=64,F&&(e.flags|=8192),F=f.callbacks,F===null?f.callbacks=[G]:F.push(G))}else F={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(H=Z=F,N=tt):Z=Z.next=F,_|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;F=b,b=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);Z===null&&(N=tt),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Hi|=_,e.lanes=_,e.memoizedState=tt}}function np(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function rp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)np(s[e],n)}var Rs=nt(null),Mu=nt(0);function ip(e,n){e=yi,it(Mu,e),it(Rs,n),yi=e|n.baseLanes}function mh(){it(Mu,yi),it(Rs,Rs.current)}function gh(){yi=Mu.current,lt(Rs),lt(Mu)}var Ui=0,xt=null,ee=null,Ne=null,Lu=!1,Cs=!1,Ba=!1,Uu=0,ql=0,Ds=null,p1=0;function Se(){throw Error(a(321))}function ph(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Vn(e[s],n[s]))return!1;return!0}function yh(e,n,s,o,f,d){return Ui=d,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?jp:qp,Ba=!1,d=s(o,f),Ba=!1,Cs&&(d=sp(n,s,o,f)),ap(e),d}function ap(e){$.H=qu;var n=ee!==null&&ee.next!==null;if(Ui=0,Ne=ee=xt=null,Lu=!1,ql=0,Ds=null,n)throw Error(a(300));e===null||Ye||(e=e.dependencies,e!==null&&xu(e)&&(Ye=!0))}function sp(e,n,s,o){xt=e;var f=0;do{if(Cs&&(Ds=null),ql=0,Cs=!1,25<=f)throw Error(a(301));if(f+=1,Ne=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=S1,d=n(s,o)}while(Cs);return d}function y1(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(xt.flags|=1024),n}function vh(){var e=Uu!==0;return Uu=0,e}function _h(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Eh(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Ui=0,Ne=ee=xt=null,Cs=!1,ql=Uu=0,Ds=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?xt.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Ie(){if(ee===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ne===null?xt.memoizedState:Ne.next;if(n!==null)Ne=n,ee=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ne===null?xt.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=ql;return ql+=1,Ds===null&&(Ds=[]),e=Wg(Ds,e,n),n=xt,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?jp:qp),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===K)return un(e)}throw Error(a(438,String(e)))}function Th(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=bh(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=O;return n.index++,s}function fi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=Ie();return Sh(n,ee,e)}function Sh(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var b=_=null,N=null,H=n,Z=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(jt&tt)===tt:(Ui&tt)===tt){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===As&&(Z=!0);else if((Ui&G)===G){H=H.next,G===As&&(Z=!0);continue}else tt={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(b=N=tt,_=d):N=N.next=tt,xt.lanes|=G,Hi|=G;tt=H.action,Ba&&s(d,tt),d=H.hasEagerState?H.eagerState:s(d,tt)}else G={lane:tt,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(b=N=G,_=d):N=N.next=G,xt.lanes|=tt,Hi|=tt;H=H.next}while(H!==null&&H!==n);if(N===null?_=d:N.next=b,!Vn(d,e.memoizedState)&&(Ye=!0,Z&&(s=ws,s!==null)))throw s;e.memoizedState=d,e.baseState=_,e.baseQueue=N,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ah(e){var n=Ie(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=n.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);Vn(d,n.memoizedState)||(Ye=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function lp(e,n,s){var o=xt,f=Ie(),d=Qt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!Vn((ee||f).memoizedState,s);_&&(f.memoizedState=s,Ye=!0),f=f.queue;var b=cp.bind(null,o,f,e);if(Gl(2048,8,b,[e]),f.getSnapshot!==n||_||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,xs(9,ku(),up.bind(null,o,f,s,n),null),se===null)throw Error(a(349));d||(Ui&124)!==0||op(o,n,s)}return s}function op(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=bh(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function up(e,n,s,o){n.value=s,n.getSnapshot=o,fp(n)&&hp(e)}function cp(e,n,s){return s(function(){fp(n)&&hp(e)})}function fp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Vn(e,s)}catch{return!0}}function hp(e){var n=Es(e,2);n!==null&&zn(n,e,2)}function wh(e){var n=An();if(typeof e=="function"){var s=e;if(e=s(),Ba){Ce(!0);try{s()}finally{Ce(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},n}function dp(e,n,s,o){return e.baseState=s,Sh(e,ee,typeof o=="function"?o:fi)}function v1(e,n,s,o,f){if(ju(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,mp(n,d)):(d.next=s.next,n.pending=s.next=d)}}function mp(e,n){var s=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=$.T,_={};$.T=_;try{var b=s(f,o),N=$.S;N!==null&&N(_,b),gp(e,n,b)}catch(H){Rh(e,n,H)}finally{$.T=d}}else try{d=s(f,o),gp(e,n,d)}catch(H){Rh(e,n,H)}}function gp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){pp(e,n,o)},function(o){return Rh(e,n,o)}):pp(e,n,s)}function pp(e,n,s){n.status="fulfilled",n.value=s,yp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,mp(e,s)))}function Rh(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,yp(n),n=n.next;while(n!==o)}e.action=null}function yp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vp(e,n){return n}function _p(e,n){if(Qt){var s=se.formState;if(s!==null){t:{var o=xt;if(Qt){if(ve){e:{for(var f=ve,d=Cr;f.nodeType!==8;){if(!d){f=null;break e}if(f=fr(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ve=fr(f.nextSibling),o=f.data==="F!";break t}}Ua(o)}o=!1}o&&(n=s[0])}}return s=An(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},s.queue=o,s=zp.bind(null,xt,o),o.dispatch=s,o=wh(!1),d=Ih.bind(null,xt,!1,o.queue),o=An(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,s=v1.bind(null,xt,f,d,s),f.dispatch=s,o.memoizedState=e,[n,s,!1]}function Ep(e){var n=Ie();return bp(n,ee,e)}function bp(e,n,s){if(n=Sh(e,n,vp)[0],e=zu(fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Hl(n)}catch(_){throw _===Pl?Vu:_}else o=n;n=Ie();var f=n.queue,d=f.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,xs(9,ku(),_1.bind(null,f,s),null)),[o,d,e]}function _1(e,n){e.action=n}function Tp(e){var n=Ie(),s=ee;if(s!==null)return bp(n,s,e);Ie(),n=n.memoizedState,s=Ie();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function xs(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=xt.updateQueue,n===null&&(n=bh(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function ku(){return{destroy:void 0,resource:void 0}}function Sp(){return Ie().memoizedState}function Bu(e,n,s,o){var f=An();o=o===void 0?null:o,xt.flags|=e,f.memoizedState=xs(1|n,ku(),s,o)}function Gl(e,n,s,o){var f=Ie();o=o===void 0?null:o;var d=f.memoizedState.inst;ee!==null&&o!==null&&ph(o,ee.memoizedState.deps)?f.memoizedState=xs(n,d,s,o):(xt.flags|=e,f.memoizedState=xs(1|n,d,s,o))}function Ap(e,n){Bu(8390656,8,e,n)}function wp(e,n){Gl(2048,8,e,n)}function Rp(e,n){return Gl(4,2,e,n)}function Cp(e,n){return Gl(4,4,e,n)}function Dp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function xp(e,n,s){s=s!=null?s.concat([e]):null,Gl(4,4,Dp.bind(null,n,e),s)}function Ch(){}function Np(e,n){var s=Ie();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ph(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ip(e,n){var s=Ie();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ph(n,o[1]))return o[0];if(o=e(),Ba){Ce(!0);try{e()}finally{Ce(!1)}}return s.memoizedState=[o,n],o}function Dh(e,n,s){return s===void 0||(Ui&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=My(),xt.lanes|=e,Hi|=e,s)}function Vp(e,n,s,o){return Vn(s,n)?s:Rs.current!==null?(e=Dh(e,s,o),Vn(e,n)||(Ye=!0),e):(Ui&42)===0?(Ye=!0,e.memoizedState=s):(e=My(),xt.lanes|=e,Hi|=e,n)}function Op(e,n,s,o,f){var d=st.p;st.p=d!==0&&8>d?d:8;var _=$.T,b={};$.T=b,Ih(e,!1,n,s);try{var N=f(),H=$.S;if(H!==null&&H(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=g1(N,o);Fl(e,n,Z,Pn(e))}else Fl(e,n,o,Pn(e))}catch(tt){Fl(e,n,{then:function(){},status:"rejected",reason:tt},Pn())}finally{st.p=d,$.T=_}}function E1(){}function xh(e,n,s,o){if(e.tag!==5)throw Error(a(476));var f=Mp(e).queue;Op(e,f,n,gt,s===null?E1:function(){return Lp(e),s(o)})}function Mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:gt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lp(e){var n=Mp(e).next.queue;Fl(e,n,{},Pn())}function Nh(){return un(uo)}function Up(){return Ie().memoizedState}function Pp(){return Ie().memoizedState}function b1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Pn();e=Mi(s);var o=Li(n,e,s);o!==null&&(zn(o,n,s),kl(o,n,s)),n={cache:sh()},e.payload=n;return}n=n.return}}function T1(e,n,s){var o=Pn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ju(e)?kp(n,s):(s=$f(e,n,s,o),s!==null&&(zn(s,e,o),Bp(s,n,o)))}function zp(e,n,s){var o=Pn();Fl(e,n,s,o)}function Fl(e,n,s,o){var f={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(e))kp(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,b=d(_,s);if(f.hasEagerState=!0,f.eagerState=b,Vn(b,_))return Au(e,n,f,0),se===null&&Su(),!1}catch{}finally{}if(s=$f(e,n,f,o),s!==null)return zn(s,e,o),Bp(s,n,o),!0}return!1}function Ih(e,n,s,o){if(o={lane:2,revertLane:ud(),action:o,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(a(479))}else n=$f(e,s,o,2),n!==null&&zn(n,e,2)}function ju(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function kp(e,n){Cs=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Bp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Sn(e,s)}}var qu={readContext:un,use:Pu,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se},jp={readContext:un,use:Pu,useCallback:function(e,n){return An().memoizedState=[e,n===void 0?null:n],e},useContext:un,useEffect:Ap,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Bu(4194308,4,Dp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var s=An();n=n===void 0?null:n;var o=e();if(Ba){Ce(!0);try{e()}finally{Ce(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=An();if(s!==void 0){var f=s(n);if(Ba){Ce(!0);try{s(n)}finally{Ce(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=T1.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var n=An();return e={current:e},n.memoizedState=e},useState:function(e){e=wh(e);var n=e.queue,s=zp.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Ch,useDeferredValue:function(e,n){var s=An();return Dh(s,e,n)},useTransition:function(){var e=wh(!1);return e=Op.bind(null,xt,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=xt,f=An();if(Qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(jt&124)!==0||op(o,n,s)}f.memoizedState=s;var d={value:s,getSnapshot:n};return f.queue=d,Ap(cp.bind(null,o,d,e),[e]),o.flags|=2048,xs(9,ku(),up.bind(null,o,d,s,n),null),s},useId:function(){var e=An(),n=se.identifierPrefix;if(Qt){var s=oi,o=li;s=(o&~(1<<32-pe(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=p1++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Nh,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=An();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ih.bind(null,xt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Th,useCacheRefresh:function(){return An().memoizedState=b1.bind(null,xt)}},qp={readContext:un,use:Pu,useCallback:Np,useContext:un,useEffect:wp,useImperativeHandle:xp,useInsertionEffect:Rp,useLayoutEffect:Cp,useMemo:Ip,useReducer:zu,useRef:Sp,useState:function(){return zu(fi)},useDebugValue:Ch,useDeferredValue:function(e,n){var s=Ie();return Vp(s,ee.memoizedState,e,n)},useTransition:function(){var e=zu(fi)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:lp,useId:Up,useHostTransitionStatus:Nh,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var s=Ie();return dp(s,ee,e,n)},useMemoCache:Th,useCacheRefresh:Pp},S1={readContext:un,use:Pu,useCallback:Np,useContext:un,useEffect:wp,useImperativeHandle:xp,useInsertionEffect:Rp,useLayoutEffect:Cp,useMemo:Ip,useReducer:Ah,useRef:Sp,useState:function(){return Ah(fi)},useDebugValue:Ch,useDeferredValue:function(e,n){var s=Ie();return ee===null?Dh(s,e,n):Vp(s,ee.memoizedState,e,n)},useTransition:function(){var e=Ah(fi)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:lp,useId:Up,useHostTransitionStatus:Nh,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,n){var s=Ie();return ee!==null?dp(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Th,useCacheRefresh:Pp},Ns=null,Ql=0;function Hu(e){var n=Ql;return Ql+=1,Ns===null&&(Ns=[]),Wg(Ns,e,n)}function Yl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gu(e,n){throw n.$$typeof===T?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hp(e){var n=e._init;return n(e._payload)}function Gp(e){function n(k,U){if(e){var q=k.deletions;q===null?(k.deletions=[U],k.flags|=16):q.push(U)}}function s(k,U){if(!e)return null;for(;U!==null;)n(k,U),U=U.sibling;return null}function o(k){for(var U=new Map;k!==null;)k.key!==null?U.set(k.key,k):U.set(k.index,k),k=k.sibling;return U}function f(k,U){return k=si(k,U),k.index=0,k.sibling=null,k}function d(k,U,q){return k.index=q,e?(q=k.alternate,q!==null?(q=q.index,q<U?(k.flags|=67108866,U):q):(k.flags|=67108866,U)):(k.flags|=1048576,U)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,U,q,J){return U===null||U.tag!==6?(U=Jf(q,k.mode,J),U.return=k,U):(U=f(U,q),U.return=k,U)}function N(k,U,q,J){var ht=q.type;return ht===P?Z(k,U,q.props.children,J,q.key):U!==null&&(U.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Hp(ht)===U.type)?(U=f(U,q.props),Yl(U,q),U.return=k,U):(U=Ru(q.type,q.key,q.props,null,k.mode,J),Yl(U,q),U.return=k,U)}function H(k,U,q,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Wf(q,k.mode,J),U.return=k,U):(U=f(U,q.children||[]),U.return=k,U)}function Z(k,U,q,J,ht){return U===null||U.tag!==7?(U=Va(q,k.mode,J,ht),U.return=k,U):(U=f(U,q),U.return=k,U)}function tt(k,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Jf(""+U,k.mode,q),U.return=k,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return q=Ru(U.type,U.key,U.props,null,k.mode,q),Yl(q,U),q.return=k,q;case D:return U=Wf(U,k.mode,q),U.return=k,U;case w:var J=U._init;return U=J(U._payload),tt(k,U,q)}if(Jt(U)||z(U))return U=Va(U,k.mode,q,null),U.return=k,U;if(typeof U.then=="function")return tt(k,Hu(U),q);if(U.$$typeof===K)return tt(k,Nu(k,U),q);Gu(k,U)}return null}function G(k,U,q,J){var ht=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ht!==null?null:b(k,U,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===ht?N(k,U,q,J):null;case D:return q.key===ht?H(k,U,q,J):null;case w:return ht=q._init,q=ht(q._payload),G(k,U,q,J)}if(Jt(q)||z(q))return ht!==null?null:Z(k,U,q,J,null);if(typeof q.then=="function")return G(k,U,Hu(q),J);if(q.$$typeof===K)return G(k,U,Nu(k,q),J);Gu(k,q)}return null}function F(k,U,q,J,ht){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(q)||null,b(U,k,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return k=k.get(J.key===null?q:J.key)||null,N(U,k,J,ht);case D:return k=k.get(J.key===null?q:J.key)||null,H(U,k,J,ht);case w:var Nt=J._init;return J=Nt(J._payload),F(k,U,q,J,ht)}if(Jt(J)||z(J))return k=k.get(q)||null,Z(U,k,J,ht,null);if(typeof J.then=="function")return F(k,U,q,Hu(J),ht);if(J.$$typeof===K)return F(k,U,q,Nu(U,J),ht);Gu(U,J)}return null}function Tt(k,U,q,J){for(var ht=null,Nt=null,yt=U,Et=U=0,Ke=null;yt!==null&&Et<q.length;Et++){yt.index>Et?(Ke=yt,yt=null):Ke=yt.sibling;var Gt=G(k,yt,q[Et],J);if(Gt===null){yt===null&&(yt=Ke);break}e&&yt&&Gt.alternate===null&&n(k,yt),U=d(Gt,U,Et),Nt===null?ht=Gt:Nt.sibling=Gt,Nt=Gt,yt=Ke}if(Et===q.length)return s(k,yt),Qt&&Ma(k,Et),ht;if(yt===null){for(;Et<q.length;Et++)yt=tt(k,q[Et],J),yt!==null&&(U=d(yt,U,Et),Nt===null?ht=yt:Nt.sibling=yt,Nt=yt);return Qt&&Ma(k,Et),ht}for(yt=o(yt);Et<q.length;Et++)Ke=F(yt,k,Et,q[Et],J),Ke!==null&&(e&&Ke.alternate!==null&&yt.delete(Ke.key===null?Et:Ke.key),U=d(Ke,U,Et),Nt===null?ht=Ke:Nt.sibling=Ke,Nt=Ke);return e&&yt.forEach(function(Ji){return n(k,Ji)}),Qt&&Ma(k,Et),ht}function _t(k,U,q,J){if(q==null)throw Error(a(151));for(var ht=null,Nt=null,yt=U,Et=U=0,Ke=null,Gt=q.next();yt!==null&&!Gt.done;Et++,Gt=q.next()){yt.index>Et?(Ke=yt,yt=null):Ke=yt.sibling;var Ji=G(k,yt,Gt.value,J);if(Ji===null){yt===null&&(yt=Ke);break}e&&yt&&Ji.alternate===null&&n(k,yt),U=d(Ji,U,Et),Nt===null?ht=Ji:Nt.sibling=Ji,Nt=Ji,yt=Ke}if(Gt.done)return s(k,yt),Qt&&Ma(k,Et),ht;if(yt===null){for(;!Gt.done;Et++,Gt=q.next())Gt=tt(k,Gt.value,J),Gt!==null&&(U=d(Gt,U,Et),Nt===null?ht=Gt:Nt.sibling=Gt,Nt=Gt);return Qt&&Ma(k,Et),ht}for(yt=o(yt);!Gt.done;Et++,Gt=q.next())Gt=F(yt,k,Et,Gt.value,J),Gt!==null&&(e&&Gt.alternate!==null&&yt.delete(Gt.key===null?Et:Gt.key),U=d(Gt,U,Et),Nt===null?ht=Gt:Nt.sibling=Gt,Nt=Gt);return e&&yt.forEach(function(AT){return n(k,AT)}),Qt&&Ma(k,Et),ht}function re(k,U,q,J){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:t:{for(var ht=q.key;U!==null;){if(U.key===ht){if(ht=q.type,ht===P){if(U.tag===7){s(k,U.sibling),J=f(U,q.props.children),J.return=k,k=J;break t}}else if(U.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Hp(ht)===U.type){s(k,U.sibling),J=f(U,q.props),Yl(J,q),J.return=k,k=J;break t}s(k,U);break}else n(k,U);U=U.sibling}q.type===P?(J=Va(q.props.children,k.mode,J,q.key),J.return=k,k=J):(J=Ru(q.type,q.key,q.props,null,k.mode,J),Yl(J,q),J.return=k,k=J)}return _(k);case D:t:{for(ht=q.key;U!==null;){if(U.key===ht)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){s(k,U.sibling),J=f(U,q.children||[]),J.return=k,k=J;break t}else{s(k,U);break}else n(k,U);U=U.sibling}J=Wf(q,k.mode,J),J.return=k,k=J}return _(k);case w:return ht=q._init,q=ht(q._payload),re(k,U,q,J)}if(Jt(q))return Tt(k,U,q,J);if(z(q)){if(ht=z(q),typeof ht!="function")throw Error(a(150));return q=ht.call(q),_t(k,U,q,J)}if(typeof q.then=="function")return re(k,U,Hu(q),J);if(q.$$typeof===K)return re(k,U,Nu(k,q),J);Gu(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(s(k,U.sibling),J=f(U,q),J.return=k,k=J):(s(k,U),J=Jf(q,k.mode,J),J.return=k,k=J),_(k)):s(k,U)}return function(k,U,q,J){try{Ql=0;var ht=re(k,U,q,J);return Ns=null,ht}catch(yt){if(yt===Pl||yt===Vu)throw yt;var Nt=On(29,yt,null,k.mode);return Nt.lanes=J,Nt.return=k,Nt}finally{}}}var Is=Gp(!0),Fp=Gp(!1),Zn=nt(null),Dr=null;function Pi(e){var n=e.alternate;it(Be,Be.current&1),it(Zn,e),Dr===null&&(n===null||Rs.current!==null||n.memoizedState!==null)&&(Dr=e)}function Qp(e){if(e.tag===22){if(it(Be,Be.current),it(Zn,e),Dr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Dr=e)}}else zi()}function zi(){it(Be,Be.current),it(Zn,Zn.current)}function hi(e){lt(Zn),Dr===e&&(Dr=null),lt(Be)}var Be=nt(0);function Fu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||bd(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Vh(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Oh={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Pn(),f=Mi(o);f.payload=n,s!=null&&(f.callback=s),n=Li(e,f,o),n!==null&&(zn(n,e,o),kl(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Pn(),f=Mi(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Li(e,f,o),n!==null&&(zn(n,e,o),kl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Pn(),o=Mi(s);o.tag=2,n!=null&&(o.callback=n),n=Li(e,o,s),n!==null&&(zn(n,e,s),kl(n,e,s))}};function Yp(e,n,s,o,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):n.prototype&&n.prototype.isPureReactComponent?!xl(s,o)||!xl(f,d):!0}function Xp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Oh.enqueueReplaceState(n,n.state,null)}function ja(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var Qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Kp(e){Qu(e)}function $p(e){console.error(e)}function Zp(e){Qu(e)}function Yu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Jp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Mh(e,n,s){return s=Mi(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(e,n)},s}function Wp(e){return e=Mi(e),e.tag=3,e}function ty(e,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){Jp(n,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Jp(n,s,o),typeof f!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function A1(e,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ml(n,s,f,!0),s=Zn.current,s!==null){switch(s.tag){case 13:return Dr===null?id():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===uh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),sd(e,o,f)),!1;case 22:return s.flags|=65536,o===uh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),sd(e,o,f)),!1}throw Error(a(435,s.tag))}return sd(e,o,f),id(),!1}if(Qt)return n=Zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==nh&&(e=Error(a(422),{cause:o}),Ol(Yn(e,s)))):(o!==nh&&(n=Error(a(423),{cause:o}),Ol(Yn(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Yn(o,s),f=Mh(e.stateNode,o,f),hh(e,f),_e!==4&&(_e=2)),!1;var d=Error(a(520),{cause:o});if(d=Yn(d,s),to===null?to=[d]:to.push(d),_e!==4&&(_e=2),n===null)return!0;o=Yn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=Mh(s.stateNode,o,e),hh(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gi===null||!Gi.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Wp(f),ty(f,e,s,o),hh(s,f),!1}s=s.return}while(s!==null);return!1}var ey=Error(a(461)),Ye=!1;function nn(e,n,s,o){n.child=e===null?Fp(n,null,s,o):Is(n,e.child,s,o)}function ny(e,n,s,o,f){s=s.render;var d=n.ref;if("ref"in o){var _={};for(var b in o)b!=="ref"&&(_[b]=o[b])}else _=o;return za(n),o=yh(e,n,s,_,d,f),b=vh(),e!==null&&!Ye?(_h(e,n,f),di(e,n,f)):(Qt&&b&&th(n),n.flags|=1,nn(e,n,o,f),n.child)}function ry(e,n,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!Zf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,iy(e,n,d,o,f)):(e=Ru(s.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!qh(e,f)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:xl,s(_,o)&&e.ref===n.ref)return di(e,n,f)}return n.flags|=1,e=si(d,o),e.ref=n.ref,e.return=n,n.child=e}function iy(e,n,s,o,f){if(e!==null){var d=e.memoizedProps;if(xl(d,o)&&e.ref===n.ref)if(Ye=!1,n.pendingProps=o=d,qh(e,f))(e.flags&131072)!==0&&(Ye=!0);else return n.lanes=e.lanes,di(e,n,f)}return Lh(e,n,s,o,f)}function ay(e,n,s){var o=n.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return sy(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(n,d!==null?d.cachePool:null),d!==null?ip(n,d):mh(),Qp(n);else return n.lanes=n.childLanes=536870912,sy(e,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(Iu(n,d.cachePool),ip(n,d),zi(),n.memoizedState=null):(e!==null&&Iu(n,null),mh(),zi());return nn(e,n,f,s),n.child}function sy(e,n,s,o){var f=oh();return f=f===null?null:{parent:ke._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Iu(n,null),mh(),Qp(n),e!==null&&Ml(e,n,o,!0),null}function Xu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Lh(e,n,s,o,f){return za(n),s=yh(e,n,s,o,void 0,f),o=vh(),e!==null&&!Ye?(_h(e,n,f),di(e,n,f)):(Qt&&o&&th(n),n.flags|=1,nn(e,n,s,f),n.child)}function ly(e,n,s,o,f,d){return za(n),n.updateQueue=null,s=sp(n,o,s,f),ap(e),o=vh(),e!==null&&!Ye?(_h(e,n,d),di(e,n,d)):(Qt&&o&&th(n),n.flags|=1,nn(e,n,s,d),n.child)}function oy(e,n,s,o,f){if(za(n),n.stateNode===null){var d=bs,_=s.contextType;typeof _=="object"&&_!==null&&(d=un(_)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Oh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},ch(n),_=s.contextType,d.context=typeof _=="object"&&_!==null?un(_):bs,d.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Vh(n,s,_,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Oh.enqueueReplaceState(d,d.state,null),jl(n,o,d,f),Bl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var b=n.memoizedProps,N=ja(s,b);d.props=N;var H=d.context,Z=s.contextType;_=bs,typeof Z=="object"&&Z!==null&&(_=un(Z));var tt=s.getDerivedStateFromProps;Z=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&Xp(n,d,o,_),Oi=!1;var G=n.memoizedState;d.state=G,jl(n,o,d,f),Bl(),H=n.memoizedState,b||G!==H||Oi?(typeof tt=="function"&&(Vh(n,s,tt,o),H=n.memoizedState),(N=Oi||Yp(n,s,N,o,G,H,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=H),d.props=o,d.state=H,d.context=_,o=N):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,fh(e,n),_=n.memoizedProps,Z=ja(s,_),d.props=Z,tt=n.pendingProps,G=d.context,H=s.contextType,N=bs,typeof H=="object"&&H!==null&&(N=un(H)),b=s.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||G!==N)&&Xp(n,d,o,N),Oi=!1,G=n.memoizedState,d.state=G,jl(n,o,d,f),Bl();var F=n.memoizedState;_!==tt||G!==F||Oi||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof b=="function"&&(Vh(n,s,b,o),F=n.memoizedState),(Z=Oi||Yp(n,s,Z,o,G,F,N)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,F,N)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),d.props=o,d.state=F,d.context=N,o=Z):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Xu(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=Is(n,e.child,null,f),n.child=Is(n,null,s,f)):nn(e,n,s,f),n.memoizedState=d.state,e=n.child):e=di(e,n,f),e}function uy(e,n,s,o){return Vl(),n.flags|=256,nn(e,n,s,o),n.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(e){return{baseLanes:e,cachePool:$g()}}function zh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Jn),e}function cy(e,n,s){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(f?Pi(n):zi(),Qt){var b=ve,N;if(N=b){t:{for(N=b,b=Cr;N.nodeType!==8;){if(!b){b=null;break t}if(N=fr(N.nextSibling),N===null){b=null;break t}}b=N}b!==null?(n.memoizedState={dehydrated:b,treeContext:Oa!==null?{id:li,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},N=On(18,null,null,0),N.stateNode=b,N.return=n,n.child=N,bn=n,ve=null,N=!0):N=!1}N||Ua(n)}if(b=n.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return bd(b)?n.lanes=32:n.lanes=536870912,null;hi(n)}return b=o.children,o=o.fallback,f?(zi(),f=n.mode,b=Ku({mode:"hidden",children:b},f),o=Va(o,f,s,null),b.return=n,o.return=n,b.sibling=o,n.child=b,f=n.child,f.memoizedState=Ph(s),f.childLanes=zh(e,_,s),n.memoizedState=Uh,o):(Pi(n),kh(n,b))}if(N=e.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(d)n.flags&256?(Pi(n),n.flags&=-257,n=Bh(e,n,s)):n.memoizedState!==null?(zi(),n.child=e.child,n.flags|=128,n=null):(zi(),f=o.fallback,b=n.mode,o=Ku({mode:"visible",children:o.children},b),f=Va(f,b,s,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,Is(n,e.child,null,s),o=n.child,o.memoizedState=Ph(s),o.childLanes=zh(e,_,s),n.memoizedState=Uh,n=f);else if(Pi(n),bd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,o=Error(a(419)),o.stack="",o.digest=_,Ol({value:o,source:null,stack:null}),n=Bh(e,n,s)}else if(Ye||Ml(e,n,s,!1),_=(s&e.childLanes)!==0,Ye||_){if(_=se,_!==null&&(o=s&-s,o=(o&42)!==0?1:be(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==N.retryLane))throw N.retryLane=o,Es(e,o),zn(_,e,o),ey;b.data==="$?"||id(),n=Bh(e,n,s)}else b.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,ve=fr(b.nextSibling),bn=n,Qt=!0,La=null,Cr=!1,e!==null&&(Kn[$n++]=li,Kn[$n++]=oi,Kn[$n++]=Oa,li=e.id,oi=e.overflow,Oa=n),n=kh(n,o.children),n.flags|=4096);return n}return f?(zi(),f=o.fallback,b=n.mode,N=e.child,H=N.sibling,o=si(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,H!==null?f=si(H,f):(f=Va(f,b,s,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,b=e.child.memoizedState,b===null?b=Ph(s):(N=b.cachePool,N!==null?(H=ke._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=$g(),b={baseLanes:b.baseLanes|s,cachePool:N}),f.memoizedState=b,f.childLanes=zh(e,_,s),n.memoizedState=Uh,o):(Pi(n),s=e.child,e=s.sibling,s=si(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function kh(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=On(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Bh(e,n,s){return Is(n,e.child,null,s),e=kh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ih(e.return,n,s)}function jh(e,n,s,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=f)}function hy(e,n,s){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(nn(e,n,o.children,s),o=Be.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fy(e,s,n);else if(e.tag===19)fy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(it(Be,o),f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&Fu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),jh(n,!1,f,s,d);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Fu(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}jh(n,!0,s,null,d);break;case"together":jh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function di(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Hi|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ml(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=si(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=si(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function qh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function w1(e,n,s){switch(n.tag){case 3:Pt(n,n.stateNode.containerInfo),Vi(n,ke,e.memoizedState.cache),Vl();break;case 27:case 5:It(n);break;case 4:Pt(n,n.stateNode.containerInfo);break;case 10:Vi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Pi(n),n.flags|=128,null):(s&n.child.childLanes)!==0?cy(e,n,s):(Pi(n),e=di(e,n,s),e!==null?e.sibling:null);Pi(n);break;case 19:var f=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ml(e,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return hy(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Be,Be.current),o)break;return null;case 22:case 23:return n.lanes=0,ay(e,n,s);case 24:Vi(n,ke,e.memoizedState.cache)}return di(e,n,s)}function dy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ye=!0;else{if(!qh(e,s)&&(n.flags&128)===0)return Ye=!1,w1(e,n,s);Ye=(e.flags&131072)!==0}else Ye=!1,Qt&&(n.flags&1048576)!==0&&Hg(n,Du,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")Zf(o)?(e=ja(o,e),n.tag=1,n=oy(null,n,o,e,s)):(n.tag=0,n=Lh(null,n,o,e,s));else{if(o!=null){if(f=o.$$typeof,f===ot){n.tag=11,n=ny(null,n,o,e,s);break t}else if(f===I){n.tag=14,n=ry(null,n,o,e,s);break t}}throw n=Zt(o)||o,Error(a(306,n,""))}}return n;case 0:return Lh(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=ja(o,n.pendingProps),oy(e,n,o,f,s);case 3:t:{if(Pt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,fh(e,n),jl(n,o,null,s);var _=n.memoizedState;if(o=_.cache,Vi(n,ke,o),o!==d.cache&&ah(n,[ke],s,!0),Bl(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=uy(e,n,o,s);break t}else if(o!==f){f=Yn(Error(a(424)),n),Ol(f),n=uy(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ve=fr(e.firstChild),bn=n,Qt=!0,La=null,Cr=!0,s=Fp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Vl(),o===f){n=di(e,n,s);break t}nn(e,n,o,s)}n=n.child}return n;case 26:return Xu(e,n),e===null?(s=yv(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qt||(s=n.type,e=n.pendingProps,o=uc(pt.current).createElement(s),o[Wt]=n,o[Ft]=e,an(o,s,e),Te(o),n.stateNode=o):n.memoizedState=yv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return It(n),e===null&&Qt&&(o=n.stateNode=mv(n.type,n.pendingProps,pt.current),bn=n,Cr=!0,f=ve,Yi(n.type)?(Td=f,ve=fr(o.firstChild)):ve=f),nn(e,n,n.pendingProps.children,s),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((f=o=ve)&&(o=W1(o,n.type,n.pendingProps,Cr),o!==null?(n.stateNode=o,bn=n,ve=fr(o.firstChild),Cr=!1,f=!0):f=!1),f||Ua(n)),It(n),f=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,vd(f,d)?o=null:_!==null&&vd(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=yh(e,n,y1,null,null,s),uo._currentValue=f),Xu(e,n),nn(e,n,o,s),n.child;case 6:return e===null&&Qt&&((e=s=ve)&&(s=tT(s,n.pendingProps,Cr),s!==null?(n.stateNode=s,bn=n,ve=null,e=!0):e=!1),e||Ua(n)),null;case 13:return cy(e,n,s);case 4:return Pt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Is(n,null,o,s):nn(e,n,o,s),n.child;case 11:return ny(e,n,n.type,n.pendingProps,s);case 7:return nn(e,n,n.pendingProps,s),n.child;case 8:return nn(e,n,n.pendingProps.children,s),n.child;case 12:return nn(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Vi(n,n.type,o.value),nn(e,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,za(n),f=un(f),o=o(f),n.flags|=1,nn(e,n,o,s),n.child;case 14:return ry(e,n,n.type,n.pendingProps,s);case 15:return iy(e,n,n.type,n.pendingProps,s);case 19:return hy(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=Ku(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=si(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return ay(e,n,s);case 24:return za(n),o=un(ke),e===null?(f=oh(),f===null&&(f=se,d=sh(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),n.memoizedState={parent:o,cache:f},ch(n),Vi(n,ke,f)):((e.lanes&s)!==0&&(fh(e,n),jl(n,null,null,s),Bl()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Vi(n,ke,o)):(o=d.cache,Vi(n,ke,o),o!==f.cache&&ah(n,[ke],s,!0))),nn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function mi(e){e.flags|=4}function my(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tv(n)){if(n=Zn.current,n!==null&&((jt&4194048)===jt?Dr!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==Dr))throw zl=uh,Zg;e.flags|=8192}}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?pa():536870912,e.lanes|=n,Ls|=n)}function Xl(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function R1(e,n,s){var o=n.pendingProps;switch(eh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ci(ke),Re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Il(n)?mi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qg())),de(n),null;case 26:return s=n.memoizedState,e===null?(mi(n),s!==null?(de(n),my(n,s)):(de(n),n.flags&=-16777217)):s?s!==e.memoizedState?(mi(n),de(n),my(n,s)):(de(n),n.flags&=-16777217):(e.memoizedProps!==o&&mi(n),de(n),n.flags&=-16777217),null;case 27:mn(n),s=pt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&mi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=mt.current,Il(n)?Gg(n):(e=mv(f,o,s),n.stateNode=e,mi(n))}return de(n),null;case 5:if(mn(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&mi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(e=mt.current,Il(n))Gg(n);else{switch(f=uc(pt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(s,{is:o.is}):f.createElement(s)}}e[Wt]=n,e[Ft]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(an(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&mi(n)}}return de(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&mi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=pt.current,Il(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,f=bn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Wt]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||lv(e.nodeValue,s)),e||Ua(n)}else e=uc(e).createTextNode(o),e[Wt]=n,n.stateNode=e}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Il(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Wt]=n}else Vl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),f=!1}else f=Qg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(hi(n),n):(hi(n),null)}if(hi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),de(n),null;case 4:return Re(),e===null&&dd(n.stateNode.containerInfo),de(n),null;case 10:return ci(n.type),de(n),null;case 19:if(lt(Be),f=n.memoizedState,f===null)return de(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)Xl(f,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Fu(e),d!==null){for(n.flags|=128,Xl(f,!1),e=d.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)qg(s,e),s=s.sibling;return it(Be,Be.current&1|2),n.child}e=e.sibling}f.tail!==null&&gn()>Wu&&(n.flags|=128,o=!0,Xl(f,!1),n.lanes=4194304)}else{if(!o)if(e=Fu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Xl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Qt)return de(n),null}else 2*gn()-f.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,o=!0,Xl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=gn(),n.sibling=null,e=Be.current,it(Be,o?e&1|2:e&1),n):(de(n),null);case 22:case 23:return hi(n),gh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&lt(ka),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ci(ke),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function C1(e,n){switch(eh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ci(ke),Re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return mn(n),null;case 13:if(hi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return lt(Be),null;case 4:return Re(),null;case 10:return ci(n.type),null;case 22:case 23:return hi(n),gh(),e!==null&&lt(ka),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ci(ke),null;case 25:return null;default:return null}}function gy(e,n){switch(eh(n),n.tag){case 3:ci(ke),Re();break;case 26:case 27:case 5:mn(n);break;case 4:Re();break;case 13:hi(n);break;case 19:lt(Be);break;case 10:ci(n.type);break;case 22:case 23:hi(n),gh(),e!==null&&lt(ka);break;case 24:ci(ke)}}function Kl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,_=s.inst;o=d(),_.destroy=o}s=s.next}while(s!==f)}}catch(b){ie(n,n.return,b)}}function ki(e,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var _=o.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=n;var N=s,H=b;try{H()}catch(Z){ie(f,N,Z)}}}o=o.next}while(o!==d)}}catch(Z){ie(n,n.return,Z)}}function py(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{rp(n,s)}catch(o){ie(e,e.return,o)}}}function yy(e,n,s){s.props=ja(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ie(e,n,o)}}function $l(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){ie(e,n,f)}}function xr(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){ie(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){ie(e,n,f)}else s.current=null}function vy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){ie(e,e.return,f)}}function Hh(e,n,s){try{var o=e.stateNode;X1(o,e.type,s,n),o[Ft]=n}catch(f){ie(e,e.return,f)}}function _y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yi(e.type)||e.tag===4}function Gh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fh(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=oc));else if(o!==4&&(o===27&&Yi(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Fh(e,n,s),e=e.sibling;e!==null;)Fh(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Yi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function Ey(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);an(n,o,s),n[Wt]=e,n[Ft]=s}catch(d){ie(e,e.return,d)}}var gi=!1,Ae=!1,Qh=!1,by=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function D1(e,n){if(e=e.containerInfo,pd=gc,e=Vg(e),Gf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var _=0,b=-1,N=-1,H=0,Z=0,tt=e,G=null;e:for(;;){for(var F;tt!==s||f!==0&&tt.nodeType!==3||(b=_+f),tt!==d||o!==0&&tt.nodeType!==3||(N=_+o),tt.nodeType===3&&(_+=tt.nodeValue.length),(F=tt.firstChild)!==null;)G=tt,tt=F;for(;;){if(tt===e)break e;if(G===s&&++H===f&&(b=_),G===d&&++Z===o&&(N=_),(F=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=F}s=b===-1||N===-1?null:{start:b,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(yd={focusedElem:e,selectionRange:s},gc=!1,Xe=n;Xe!==null;)if(n=Xe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Xe=e;else for(;Xe!==null;){switch(n=Xe,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Tt=ja(s.type,f,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(Tt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){ie(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Ed(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Xe=e;break}Xe=n.return}}function Ty(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(e,s),o&4&&Kl(5,s);break;case 1:if(Bi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(_){ie(s,s.return,_)}else{var f=ja(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ie(s,s.return,_)}}o&64&&py(s),o&512&&$l(s,s.return);break;case 3:if(Bi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{rp(e,n)}catch(_){ie(s,s.return,_)}}break;case 27:n===null&&o&4&&Ey(s);case 26:case 5:Bi(e,s),n===null&&o&4&&vy(s),o&512&&$l(s,s.return);break;case 12:Bi(e,s);break;case 13:Bi(e,s),o&4&&wy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=P1.bind(null,s),eT(e,s))));break;case 22:if(o=s.memoizedState!==null||gi,!o){n=n!==null&&n.memoizedState!==null||Ae,f=gi;var d=Ae;gi=o,(Ae=n)&&!d?ji(e,s,(s.subtreeFlags&8772)!==0):Bi(e,s),gi=f,Ae=d}break;case 30:break;default:Bi(e,s)}}function Sy(e){var n=e.alternate;n!==null&&(e.alternate=null,Sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Di(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,wn=!1;function pi(e,n,s){for(s=s.child;s!==null;)Ay(e,n,s),s=s.sibling}function Ay(e,n,s){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(ue,s)}catch{}switch(s.tag){case 26:Ae||xr(s,n),pi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ae||xr(s,n);var o=fe,f=wn;Yi(s.type)&&(fe=s.stateNode,wn=!1),pi(e,n,s),ao(s.stateNode),fe=o,wn=f;break;case 5:Ae||xr(s,n);case 6:if(o=fe,f=wn,fe=null,pi(e,n,s),fe=o,wn=f,fe!==null)if(wn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(d){ie(s,n,d)}else try{fe.removeChild(s.stateNode)}catch(d){ie(s,n,d)}break;case 18:fe!==null&&(wn?(e=fe,hv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),mo(e)):hv(fe,s.stateNode));break;case 4:o=fe,f=wn,fe=s.stateNode.containerInfo,wn=!0,pi(e,n,s),fe=o,wn=f;break;case 0:case 11:case 14:case 15:Ae||ki(2,s,n),Ae||ki(4,s,n),pi(e,n,s);break;case 1:Ae||(xr(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&yy(s,n,o)),pi(e,n,s);break;case 21:pi(e,n,s);break;case 22:Ae=(o=Ae)||s.memoizedState!==null,pi(e,n,s),Ae=o;break;default:pi(e,n,s)}}function wy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mo(e)}catch(s){ie(n,n.return,s)}}function x1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new by),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new by),n;default:throw Error(a(435,e.tag))}}function Yh(e,n){var s=x1(e);n.forEach(function(o){var f=z1.bind(null,e,o);s.has(o)||(s.add(o),o.then(f,f))})}function Mn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,_=n,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(Yi(b.type)){fe=b.stateNode,wn=!1;break t}break;case 5:fe=b.stateNode,wn=!1;break t;case 3:case 4:fe=b.stateNode.containerInfo,wn=!0;break t}b=b.return}if(fe===null)throw Error(a(160));Ay(d,_,f),fe=null,wn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ry(n,e),n=n.sibling}var cr=null;function Ry(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mn(n,e),Ln(e),o&4&&(ki(3,e,e.return),Kl(3,e),ki(5,e,e.return));break;case 1:Mn(n,e),Ln(e),o&512&&(Ae||s===null||xr(s,s.return)),o&64&&gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=cr;if(Mn(n,e),Ln(e),o&512&&(Ae||s===null||xr(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[sr]||d[Wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),an(d,o,s),d[Wt]=e,Te(d),o=d;break t;case"link":var _=Ev("link","href",f).get(o+(s.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(b,1);break e}}d=f.createElement(o),an(d,o,s),f.head.appendChild(d);break;case"meta":if(_=Ev("meta","content",f).get(o+(s.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(b,1);break e}}d=f.createElement(o),an(d,o,s),f.head.appendChild(d);break;default:throw Error(a(468,o))}d[Wt]=e,Te(d),o=d}e.stateNode=o}else bv(f,e.type,e.stateNode);else e.stateNode=_v(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?bv(f,e.type,e.stateNode):_v(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hh(e,e.memoizedProps,s.memoizedProps)}break;case 27:Mn(n,e),Ln(e),o&512&&(Ae||s===null||xr(s,s.return)),s!==null&&o&4&&Hh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Mn(n,e),Ln(e),o&512&&(Ae||s===null||xr(s,s.return)),e.flags&32){f=e.stateNode;try{Hn(f,"")}catch(F){ie(e,e.return,F)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Hh(e,f,s!==null?s.memoizedProps:f)),o&1024&&(Qh=!0);break;case 6:if(Mn(n,e),Ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(F){ie(e,e.return,F)}}break;case 3:if(hc=null,f=cr,cr=cc(n.containerInfo),Mn(n,e),cr=f,Ln(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{mo(n.containerInfo)}catch(F){ie(e,e.return,F)}Qh&&(Qh=!1,Cy(e));break;case 4:o=cr,cr=cc(e.stateNode.containerInfo),Mn(n,e),Ln(e),cr=o;break;case 12:Mn(n,e),Ln(e);break;case 13:Mn(n,e),Ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wh=gn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yh(e,o)));break;case 22:f=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,H=gi,Z=Ae;if(gi=H||f,Ae=Z||N,Mn(n,e),Ae=Z,gi=H,Ln(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||N||gi||Ae||qa(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var tt=N.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(F){ie(N,N.return,F)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(F){ie(N,N.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Yh(e,s))));break;case 19:Mn(n,e),Ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yh(e,o)));break;case 30:break;case 21:break;default:Mn(n,e),Ln(e)}}function Ln(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(_y(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Gh(e);Zu(e,d,f);break;case 5:var _=s.stateNode;s.flags&32&&(Hn(_,""),s.flags&=-33);var b=Gh(e);Zu(e,b,_);break;case 3:case 4:var N=s.stateNode.containerInfo,H=Gh(e);Fh(e,H,N);break;default:throw Error(a(161))}}catch(Z){ie(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Cy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Bi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ty(e,n.alternate,n),n=n.sibling}function qa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ki(4,n,n.return),qa(n);break;case 1:xr(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&yy(n,n.return,s),qa(n);break;case 27:ao(n.stateNode);case 26:case 5:xr(n,n.return),qa(n);break;case 22:n.memoizedState===null&&qa(n);break;case 30:qa(n);break;default:qa(n)}e=e.sibling}}function ji(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:ji(f,d,s),Kl(4,d);break;case 1:if(ji(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ie(o,o.return,H)}if(o=d,f=o.updateQueue,f!==null){var b=o.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)np(N[f],b)}catch(H){ie(o,o.return,H)}}s&&_&64&&py(d),$l(d,d.return);break;case 27:Ey(d);case 26:case 5:ji(f,d,s),s&&o===null&&_&4&&vy(d),$l(d,d.return);break;case 12:ji(f,d,s);break;case 13:ji(f,d,s),s&&_&4&&wy(f,d);break;case 22:d.memoizedState===null&&ji(f,d,s),$l(d,d.return);break;case 30:break;default:ji(f,d,s)}n=n.sibling}}function Xh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ll(s))}function Kh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ll(e))}function Nr(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(e,n,s,o),n=n.sibling}function Dy(e,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Nr(e,n,s,o),f&2048&&Kl(9,n);break;case 1:Nr(e,n,s,o);break;case 3:Nr(e,n,s,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ll(e)));break;case 12:if(f&2048){Nr(e,n,s,o),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ie(n,n.return,N)}}else Nr(e,n,s,o);break;case 13:Nr(e,n,s,o);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?Nr(e,n,s,o):Zl(e,n):d._visibility&2?Nr(e,n,s,o):(d._visibility|=2,Vs(e,n,s,o,(n.subtreeFlags&10256)!==0)),f&2048&&Xh(_,n);break;case 24:Nr(e,n,s,o),f&2048&&Kh(n.alternate,n);break;default:Nr(e,n,s,o)}}function Vs(e,n,s,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,_=n,b=s,N=o,H=_.flags;switch(_.tag){case 0:case 11:case 15:Vs(d,_,b,N,f),Kl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Vs(d,_,b,N,f):Zl(d,_):(Z._visibility|=2,Vs(d,_,b,N,f)),f&&H&2048&&Xh(_.alternate,_);break;case 24:Vs(d,_,b,N,f),f&&H&2048&&Kh(_.alternate,_);break;default:Vs(d,_,b,N,f)}n=n.sibling}}function Zl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,f=o.flags;switch(o.tag){case 22:Zl(s,o),f&2048&&Xh(o.alternate,o);break;case 24:Zl(s,o),f&2048&&Kh(o.alternate,o);break;default:Zl(s,o)}n=n.sibling}}var Jl=8192;function Os(e){if(e.subtreeFlags&Jl)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 26:Os(e),e.flags&Jl&&e.memoizedState!==null&&mT(cr,e.memoizedState,e.memoizedProps);break;case 5:Os(e);break;case 3:case 4:var n=cr;cr=cc(e.stateNode.containerInfo),Os(e),cr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Jl,Jl=16777216,Os(e),Jl=n):Os(e));break;default:Os(e)}}function Ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Xe=o,Vy(o,e)}Ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Iy(e),e=e.sibling}function Iy(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&ki(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):Wl(e);break;default:Wl(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Xe=o,Vy(o,e)}Ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ki(8,n,n.return),Ju(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function Vy(e,n){for(;Xe!==null;){var s=Xe;switch(s.tag){case 0:case 11:case 15:ki(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ll(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Xe=o;else t:for(s=e;Xe!==null;){o=Xe;var f=o.sibling,d=o.return;if(Sy(o),o===s){Xe=null;break t}if(f!==null){f.return=d,Xe=f;break t}Xe=d}}}var N1={getCacheForType:function(e){var n=un(ke),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},I1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Vt=null,jt=0,$t=0,Un=null,qi=!1,Ms=!1,$h=!1,yi=0,_e=0,Hi=0,Ha=0,Zh=0,Jn=0,Ls=0,to=null,Rn=null,Jh=!1,Wh=0,Wu=1/0,tc=null,Gi=null,rn=0,Fi=null,Us=null,Ps=0,td=0,ed=null,Oy=null,eo=0,nd=null;function Pn(){if((Kt&2)!==0&&jt!==0)return jt&-jt;if($.T!==null){var e=As;return e!==0?e:ud()}return Ue()}function My(){Jn===0&&(Jn=(jt&536870912)===0||Qt?ga():536870912);var e=Zn.current;return e!==null&&(e.flags|=32),Jn}function zn(e,n,s){(e===se&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(zs(e,0),Qi(e,jt,Jn,!1)),ae(e,s),((Kt&2)===0||e!==se)&&(e===se&&((Kt&2)===0&&(Ha|=s),_e===4&&Qi(e,jt,Jn,!1)),Ir(e))}function Ly(e,n,s){if((Kt&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Xr(e,n),f=o?M1(e,n):ad(e,n,!0),d=o;do{if(f===0){Ms&&!o&&Qi(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!V1(s)){f=ad(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var b=e;f=to;var N=b.current.memoizedState.isDehydrated;if(N&&(zs(b,_).flags|=256),_=ad(b,_,!1),_!==2){if($h&&!N){b.errorRecoveryDisabledLanes|=d,Ha|=d,f=4;break t}d=Rn,Rn=f,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){zs(e,0),Qi(e,n,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Qi(o,n,Jn,!qi);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Wh+300-gn(),10<f)){if(Qi(o,n,Jn,!qi),Yr(o,0,!0)!==0)break t;o.timeoutHandle=cv(Uy.bind(null,o,s,Rn,tc,Jh,n,Jn,Ha,Ls,qi,d,2,-0,0),f);break t}Uy(o,s,Rn,tc,Jh,n,Jn,Ha,Ls,qi,d,0,-0,0)}}break}while(!0);Ir(e)}function Uy(e,n,s,o,f,d,_,b,N,H,Z,tt,G,F){if(e.timeoutHandle=-1,tt=n.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(oo={stylesheets:null,count:0,unsuspend:dT},xy(n),tt=gT(),tt!==null)){e.cancelPendingCommit=tt(Hy.bind(null,e,n,d,s,o,f,_,b,N,Z,1,G,F)),Qi(e,d,_,!H);return}Hy(e,n,d,s,o,f,_,b,N)}function V1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!Vn(d(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qi(e,n,s,o){n&=~Zh,n&=~Ha,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-pe(f),_=1<<d;o[d]=-1,f&=~_}s!==0&&ce(e,s,n)}function ec(){return(Kt&6)===0?(no(0),!1):!0}function rd(){if(Vt!==null){if($t===0)var e=Vt.return;else e=Vt,ui=Pa=null,Eh(e),Ns=null,Ql=0,e=Vt;for(;e!==null;)gy(e.alternate,e),e=e.return;Vt=null}}function zs(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,$1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rd(),se=e,Vt=s=si(e.current,null),jt=n,$t=0,Un=null,qi=!1,Ms=Xr(e,n),$h=!1,Ls=Jn=Zh=Ha=Hi=_e=0,Rn=to=null,Jh=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-pe(o),d=1<<f;n|=e[f],o&=~d}return yi=n,Su(),s}function Py(e,n){xt=null,$.H=qu,n===Pl||n===Vu?(n=tp(),$t=3):n===Zg?(n=tp(),$t=4):$t=n===ey?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Un=n,Vt===null&&(_e=1,Yu(e,Yn(n,e.current)))}function zy(){var e=$.H;return $.H=qu,e===null?qu:e}function ky(){var e=$.A;return $.A=N1,e}function id(){_e=4,qi||(jt&4194048)!==jt&&Zn.current!==null||(Ms=!0),(Hi&134217727)===0&&(Ha&134217727)===0||se===null||Qi(se,jt,Jn,!1)}function ad(e,n,s){var o=Kt;Kt|=2;var f=zy(),d=ky();(se!==e||jt!==n)&&(tc=null,zs(e,n)),n=!1;var _=_e;t:do try{if($t!==0&&Vt!==null){var b=Vt,N=Un;switch($t){case 8:rd(),_=6;break t;case 3:case 2:case 9:case 6:Zn.current===null&&(n=!0);var H=$t;if($t=0,Un=null,ks(e,b,N,H),s&&Ms){_=0;break t}break;default:H=$t,$t=0,Un=null,ks(e,b,N,H)}}O1(),_=_e;break}catch(Z){Py(e,Z)}while(!0);return n&&e.shellSuspendCounter++,ui=Pa=null,Kt=o,$.H=f,$.A=d,Vt===null&&(se=null,jt=0,Su()),_}function O1(){for(;Vt!==null;)By(Vt)}function M1(e,n){var s=Kt;Kt|=2;var o=zy(),f=ky();se!==e||jt!==n?(tc=null,Wu=gn()+500,zs(e,n)):Ms=Xr(e,n);t:do try{if($t!==0&&Vt!==null){n=Vt;var d=Un;e:switch($t){case 1:$t=0,Un=null,ks(e,n,d,1);break;case 2:case 9:if(Jg(d)){$t=0,Un=null,jy(n);break}n=function(){$t!==2&&$t!==9||se!==e||($t=7),Ir(e)},d.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Jg(d)?($t=0,Un=null,jy(n)):($t=0,Un=null,ks(e,n,d,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var b=Vt;if(!_||Tv(_)){$t=0,Un=null;var N=b.sibling;if(N!==null)Vt=N;else{var H=b.return;H!==null?(Vt=H,nc(H)):Vt=null}break e}}$t=0,Un=null,ks(e,n,d,5);break;case 6:$t=0,Un=null,ks(e,n,d,6);break;case 8:rd(),_e=6;break t;default:throw Error(a(462))}}L1();break}catch(Z){Py(e,Z)}while(!0);return ui=Pa=null,$.H=o,$.A=f,Kt=s,Vt!==null?0:(se=null,jt=0,Su(),_e)}function L1(){for(;Vt!==null&&!Bn();)By(Vt)}function By(e){var n=dy(e.alternate,e,yi);e.memoizedProps=e.pendingProps,n===null?nc(e):Vt=n}function jy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ly(s,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=ly(s,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:Eh(n);default:gy(s,n),n=Vt=qg(n,yi),n=dy(s,n,yi)}e.memoizedProps=e.pendingProps,n===null?nc(e):Vt=n}function ks(e,n,s,o){ui=Pa=null,Eh(n),Ns=null,Ql=0;var f=n.return;try{if(A1(e,f,n,s,jt)){_e=1,Yu(e,Yn(s,e.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;_e=1,Yu(e,Yn(s,e.current)),Vt=null;return}n.flags&32768?(Qt||o===1?e=!0:Ms||(jt&536870912)!==0?e=!1:(qi=e=!0,(o===2||o===9||o===3||o===6)&&(o=Zn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(n,e)):nc(n)}function nc(e){var n=e;do{if((n.flags&32768)!==0){qy(n,qi);return}e=n.return;var s=R1(n.alternate,n,yi);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);_e===0&&(_e=5)}function qy(e,n){do{var s=C1(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);_e=6,Vt=null}function Hy(e,n,s,o,f,d,_,b,N){e.cancelPendingCommit=null;do rc();while(rn!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=Kf,Le(e,s,d,_,b,N),e===se&&(Vt=se=null,jt=0),Us=n,Fi=e,Ps=s,td=d,ed=f,Oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,k1(jn,function(){return Xy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,f=st.p,st.p=2,_=Kt,Kt|=4;try{D1(e,n,s)}finally{Kt=_,st.p=f,$.T=o}}rn=1,Gy(),Fy(),Qy()}}function Gy(){if(rn===1){rn=0;var e=Fi,n=Us,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var o=st.p;st.p=2;var f=Kt;Kt|=4;try{Ry(n,e);var d=yd,_=Vg(e.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Ig(b.ownerDocument.documentElement,b)){if(N!==null&&Gf(b)){var H=N.start,Z=N.end;if(Z===void 0&&(Z=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(Z,b.value.length);else{var tt=b.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var F=G.getSelection(),Tt=b.textContent.length,_t=Math.min(N.start,Tt),re=N.end===void 0?_t:Math.min(N.end,Tt);!F.extend&&_t>re&&(_=re,re=_t,_t=_);var k=Ng(b,_t),U=Ng(b,re);if(k&&U&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==U.node||F.focusOffset!==U.offset)){var q=tt.createRange();q.setStart(k.node,k.offset),F.removeAllRanges(),_t>re?(F.addRange(q),F.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),F.addRange(q))}}}}for(tt=[],F=b;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var J=tt[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}gc=!!pd,yd=pd=null}finally{Kt=f,st.p=o,$.T=s}}e.current=n,rn=2}}function Fy(){if(rn===2){rn=0;var e=Fi,n=Us,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var o=st.p;st.p=2;var f=Kt;Kt|=4;try{Ty(e,n.alternate,n)}finally{Kt=f,st.p=o,$.T=s}}rn=3}}function Qy(){if(rn===4||rn===3){rn=0,nr();var e=Fi,n=Us,s=Ps,o=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?rn=5:(rn=0,Us=Fi=null,Yy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Gi=null),De(s),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(ue,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,f=st.p,st.p=2,$.T=null;try{for(var d=e.onRecoverableError,_=0;_<o.length;_++){var b=o[_];d(b.value,{componentStack:b.stack})}}finally{$.T=n,st.p=f}}(Ps&3)!==0&&rc(),Ir(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===nd?eo++:(eo=0,nd=e):eo=0,no(0)}}function Yy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ll(n)))}function rc(e){return Gy(),Fy(),Qy(),Xy()}function Xy(){if(rn!==5)return!1;var e=Fi,n=td;td=0;var s=De(Ps),o=$.T,f=st.p;try{st.p=32>s?32:s,$.T=null,s=ed,ed=null;var d=Fi,_=Ps;if(rn=0,Us=Fi=null,Ps=0,(Kt&6)!==0)throw Error(a(331));var b=Kt;if(Kt|=4,Iy(d.current),Dy(d,d.current,_,s),Kt=b,no(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{st.p=f,$.T=o,Yy(e,n)}}function Ky(e,n,s){n=Yn(s,n),n=Mh(e.stateNode,n,2),e=Li(e,n,2),e!==null&&(ae(e,2),Ir(e))}function ie(e,n,s){if(e.tag===3)Ky(e,e,s);else for(;n!==null;){if(n.tag===3){Ky(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gi===null||!Gi.has(o))){e=Yn(s,e),s=Wp(2),o=Li(n,s,2),o!==null&&(ty(s,o,n,e),ae(o,2),Ir(o));break}}n=n.return}}function sd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new I1;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||($h=!0,f.add(s),e=U1.bind(null,e,n,s),n.then(e,e))}function U1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(jt&s)===s&&(_e===4||_e===3&&(jt&62914560)===jt&&300>gn()-Wh?(Kt&2)===0&&zs(e,0):Zh|=s,Ls===jt&&(Ls=0)),Ir(e)}function $y(e,n){n===0&&(n=pa()),e=Es(e,n),e!==null&&(ae(e,n),Ir(e))}function P1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),$y(e,s)}function z1(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),$y(e,s)}function k1(e,n){return Tn(e,n)}var ic=null,Bs=null,ld=!1,ac=!1,od=!1,Ga=0;function Ir(e){e!==Bs&&e.next===null&&(Bs===null?ic=Bs=e:Bs=Bs.next=e),ac=!0,ld||(ld=!0,j1())}function no(e,n){if(!od&&ac){od=!0;do for(var s=!1,o=ic;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var _=o.suspendedLanes,b=o.pingedLanes;d=(1<<31-pe(42|e)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,tv(o,d))}else d=jt,d=Yr(o,o===se?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Xr(o,d)||(s=!0,tv(o,d));o=o.next}while(s);od=!1}}function B1(){Zy()}function Zy(){ac=ld=!1;var e=0;Ga!==0&&(K1()&&(e=Ga),Ga=0);for(var n=gn(),s=null,o=ic;o!==null;){var f=o.next,d=Jy(o,n);d===0?(o.next=null,s===null?ic=f:s.next=f,f===null&&(Bs=s)):(s=o,(e!==0||(d&3)!==0)&&(ac=!0)),o=f}no(e)}function Jy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-pe(d),b=1<<_,N=f[_];N===-1?((b&s)===0||(b&o)!==0)&&(f[_]=Ci(b,n)):N<=n&&(e.expiredLanes|=b),d&=~b}if(n=se,s=jt,s=Yr(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Je(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Xr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Je(o),De(s)){case 2:case 8:s=pn;break;case 32:s=jn;break;case 268435456:s=Gr;break;default:s=jn}return o=Wy.bind(null,e),s=Tn(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Je(o),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,n){if(rn!==0&&rn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var o=jt;return o=Yr(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ly(e,o,n),Jy(e,gn()),e.callbackNode!=null&&e.callbackNode===s?Wy.bind(null,e):null)}function tv(e,n){if(rc())return null;Ly(e,n,!0)}function j1(){Z1(function(){(Kt&6)!==0?Tn(Hr,B1):Zy()})}function ud(){return Ga===0&&(Ga=ga()),Ga}function ev(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:os(""+e)}function nv(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function q1(e,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var d=ev((f[Ft]||null).action),_=o.submitter;_&&(n=(n=_[Ft]||null)?ev(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var b=new us("action","action",null,o,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ga!==0){var N=_?nv(f,_):new FormData(f);xh(s,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?nv(f,_):new FormData(f),xh(s,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var cd=0;cd<Xf.length;cd++){var fd=Xf[cd],H1=fd.toLowerCase(),G1=fd[0].toUpperCase()+fd.slice(1);ur(H1,"on"+G1)}ur(Lg,"onAnimationEnd"),ur(Ug,"onAnimationIteration"),ur(Pg,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(l1,"onTransitionRun"),ur(o1,"onTransitionStart"),ur(u1,"onTransitionCancel"),ur(zg,"onTransitionEnd"),Zr("onMouseEnter",["mouseout","mouseover"]),Zr("onMouseLeave",["mouseout","mouseover"]),Zr("onPointerEnter",["pointerout","pointerover"]),Zr("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function rv(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var _=o.length-1;0<=_;_--){var b=o[_],N=b.instance,H=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=H;try{d(f)}catch(Z){Qu(Z)}f.currentTarget=null,d=N}else for(_=0;_<o.length;_++){if(b=o[_],N=b.instance,H=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=H;try{d(f)}catch(Z){Qu(Z)}f.currentTarget=null,d=N}}}}function Ot(e,n){var s=n[ar];s===void 0&&(s=n[ar]=new Set);var o=e+"__bubble";s.has(o)||(iv(n,e,2,!1),s.add(o))}function hd(e,n,s){var o=0;n&&(o|=4),iv(s,e,o,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[sc]){e[sc]=!0,gl.forEach(function(s){s!=="selectionchange"&&(F1.has(s)||hd(s,!1,e),hd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,hd("selectionchange",!1,n))}}function iv(e,n,s,o){switch(Dv(n)){case 2:var f=vT;break;case 8:f=_T;break;default:f=Cd}s=f.bind(null,n,s,e),f=void 0,!Fn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function md(e,n,s,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var b=o.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=$r(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=d=_;continue t}b=b.parentNode}}o=o.return}ou(function(){var H=d,Z=Gn(s),tt=[];t:{var G=kg.get(e);if(G!==void 0){var F=us,Tt=e;switch(e){case"keypress":if(Tr(s)===0)break t;case"keydown":case"keyup":F=gs;break;case"focusin":Tt="focus",F=hs;break;case"focusout":Tt="blur",F=hs;break;case"beforeblur":case"afterblur":F=hs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=pu;break;case Lg:case Ug:case Pg:F=ds;break;case zg:F=vu;break;case"scroll":case"scrollend":F=uu;break;case"wheel":F=ps;break;case"copy":case"cut":case"paste":F=ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Cl;break;case"toggle":case"beforetoggle":F=Eu}var _t=(n&4)!==0,re=!_t&&(e==="scroll"||e==="scrollend"),k=_t?G!==null?G+"Capture":null:G;_t=[];for(var U=H,q;U!==null;){var J=U;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||k===null||(J=Sa(U,k),J!=null&&_t.push(io(U,J,q))),re)break;U=U.return}0<_t.length&&(G=new F(G,Tt,null,s,Z),tt.push({event:G,listeners:_t}))}}if((n&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",G&&s!==ti&&(Tt=s.relatedTarget||s.fromElement)&&($r(Tt)||Tt[ye]))break t;if((F||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,F?(Tt=s.relatedTarget||s.toElement,F=H,Tt=Tt?$r(Tt):null,Tt!==null&&(re=u(Tt),_t=Tt.tag,Tt!==re||_t!==5&&_t!==27&&_t!==6)&&(Tt=null)):(F=null,Tt=H),F!==Tt)){if(_t=Qn,J="onMouseLeave",k="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Cl,J="onPointerLeave",k="onPointerEnter",U="pointer"),re=F==null?G:vr(F),q=Tt==null?G:vr(Tt),G=new _t(J,U+"leave",F,s,Z),G.target=re,G.relatedTarget=q,J=null,$r(Z)===H&&(_t=new _t(k,U+"enter",Tt,s,Z),_t.target=q,_t.relatedTarget=re,J=_t),re=J,F&&Tt)e:{for(_t=F,k=Tt,U=0,q=_t;q;q=js(q))U++;for(q=0,J=k;J;J=js(J))q++;for(;0<U-q;)_t=js(_t),U--;for(;0<q-U;)k=js(k),q--;for(;U--;){if(_t===k||k!==null&&_t===k.alternate)break e;_t=js(_t),k=js(k)}_t=null}else _t=null;F!==null&&av(tt,G,F,_t,!1),Tt!==null&&re!==null&&av(tt,re,Tt,_t,!0)}}t:{if(G=H?vr(H):window,F=G.nodeName&&G.nodeName.toLowerCase(),F==="select"||F==="input"&&G.type==="file")var ht=Ag;else if(ze(G))if(wg)ht=i1;else{ht=n1;var Nt=e1}else F=G.nodeName,!F||F.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&El(H.elementType)&&(ht=Ag):ht=r1;if(ht&&(ht=ht(e,H))){ai(tt,ht,s,Z);break t}Nt&&Nt(e,G,H),e==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Ni(G,"number",G.value)}switch(Nt=H?vr(H):window,e){case"focusin":(ze(Nt)||Nt.contentEditable==="true")&&(ys=Nt,Ff=H,Nl=null);break;case"focusout":Nl=Ff=ys=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Og(tt,s,Z);break;case"selectionchange":if(s1)break;case"keydown":case"keyup":Og(tt,s,Z)}var yt;if(wr)t:{switch(e){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else kt?Y(e,s)&&(Et="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Et="onCompositionStart");Et&&(v&&s.locale!=="ko"&&(kt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&kt&&(yt=Tl()):(br=Z,Ii="value"in br?br.value:br.textContent,kt=!0)),Nt=lc(H,Et),0<Nt.length&&(Et=new wl(Et,e,null,s,Z),tt.push({event:Et,listeners:Nt}),yt?Et.data=yt:(yt=ut(s),yt!==null&&(Et.data=yt)))),(yt=p?Pe(e,s):Bt(e,s))&&(Et=lc(H,"onBeforeInput"),0<Et.length&&(Nt=new wl("onBeforeInput","beforeinput",null,s,Z),tt.push({event:Nt,listeners:Et}),Nt.data=yt)),q1(tt,e,H,s,Z)}rv(tt,n)})}function io(e,n,s){return{instance:e,listener:n,currentTarget:s}}function lc(e,n){for(var s=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Sa(e,s),f!=null&&o.unshift(io(e,f,d)),f=Sa(e,n),f!=null&&o.push(io(e,f,d))),e.tag===3)return o;e=e.return}return[]}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function av(e,n,s,o,f){for(var d=n._reactName,_=[];s!==null&&s!==o;){var b=s,N=b.alternate,H=b.stateNode;if(b=b.tag,N!==null&&N===o)break;b!==5&&b!==26&&b!==27||H===null||(N=H,f?(H=Sa(s,d),H!=null&&_.unshift(io(s,H,N))):f||(H=Sa(s,d),H!=null&&_.push(io(s,H,N)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var Q1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function sv(e){return(typeof e=="string"?e:""+e).replace(Q1,`
`).replace(Y1,"")}function lv(e,n){return n=sv(n),sv(e)===n}function oc(){}function ne(e,n,s,o,f,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Hn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Hn(e,""+o);break;case"className":_r(e,"class",o);break;case"tabIndex":_r(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(e,s,o);break;case"style":_l(e,o,d);break;case"data":if(n!=="object"){_r(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=os(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",f.name,f,null),ne(e,n,"formEncType",f.formEncType,f,null),ne(e,n,"formMethod",f.formMethod,f,null),ne(e,n,"formTarget",f.formTarget,f,null)):(ne(e,n,"encType",f.encType,f,null),ne(e,n,"method",f.method,f,null),ne(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=os(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=oc);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=os(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),xi(e,"popover",o);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":xi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=zf.get(s)||s,xi(e,s,o))}}function gd(e,n,s,o,f,d){switch(s){case"style":_l(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Hn(e,o):(typeof o=="number"||typeof o=="bigint")&&Hn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),d=e[Ft]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,f);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):xi(e,s,o)}}}function an(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,d,_,s,null)}}f&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":Ot("invalid",e);var b=d=_=f=null,N=null,H=null;for(o in s)if(s.hasOwnProperty(o)){var Z=s[o];if(Z!=null)switch(o){case"name":f=Z;break;case"type":_=Z;break;case"checked":N=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,n));break;default:ne(e,n,o,Z,s,null)}}Ea(e,d,b,N,H,_,f,!1),ls(e);return;case"select":Ot("invalid",e),o=_=d=null;for(f in s)if(s.hasOwnProperty(f)&&(b=s[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":o=b;default:ne(e,n,f,b,s,null)}n=d,s=_,e.multiple=!!o,n!=null?Wr(e,!!o,n,!1):s!=null&&Wr(e,!!o,s,!0);return;case"textarea":Ot("invalid",e),d=f=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(b=s[_],b!=null))switch(_){case"value":o=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:ne(e,n,_,b,s,null)}ba(e,o,f,d),ls(e);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(o=s[N],o!=null))switch(N){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,n,N,o,s,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<ro.length;o++)Ot(ro[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(o=s[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,H,o,s,null)}return;default:if(El(n)){for(Z in s)s.hasOwnProperty(Z)&&(o=s[Z],o!==void 0&&gd(e,n,Z,o,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(o=s[b],o!=null&&ne(e,n,b,o,s,null))}function X1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,N=null,H=null,Z=null;for(F in s){var tt=s[F];if(s.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=tt;default:o.hasOwnProperty(F)||ne(e,n,F,null,o,tt)}}for(var G in o){var F=o[G];if(tt=s[G],o.hasOwnProperty(G)&&(F!=null||tt!=null))switch(G){case"type":d=F;break;case"name":f=F;break;case"checked":H=F;break;case"defaultChecked":Z=F;break;case"value":_=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==tt&&ne(e,n,G,F,o,tt)}}In(e,_,b,N,H,Z,d,f);return;case"select":F=_=b=G=null;for(d in s)if(N=s[d],s.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:o.hasOwnProperty(d)||ne(e,n,d,null,o,N)}for(f in o)if(d=o[f],N=s[f],o.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&ne(e,n,f,d,o,N)}n=b,s=_,o=F,G!=null?Wr(e,!!s,G,!1):!!o!=!!s&&(n!=null?Wr(e,!!s,n,!0):Wr(e,!!s,s?[]:"",!1));return;case"textarea":F=G=null;for(b in s)if(f=s[b],s.hasOwnProperty(b)&&f!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ne(e,n,b,null,o,f)}for(_ in o)if(f=o[_],d=s[_],o.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&ne(e,n,_,f,o,d)}te(e,G,F);return;case"option":for(var Tt in s)if(G=s[Tt],s.hasOwnProperty(Tt)&&G!=null&&!o.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:ne(e,n,Tt,null,o,G)}for(N in o)if(G=o[N],F=s[N],o.hasOwnProperty(N)&&G!==F&&(G!=null||F!=null))switch(N){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ne(e,n,N,G,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)G=s[_t],s.hasOwnProperty(_t)&&G!=null&&!o.hasOwnProperty(_t)&&ne(e,n,_t,null,o,G);for(H in o)if(G=o[H],F=s[H],o.hasOwnProperty(H)&&G!==F&&(G!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ne(e,n,H,G,o,F)}return;default:if(El(n)){for(var re in s)G=s[re],s.hasOwnProperty(re)&&G!==void 0&&!o.hasOwnProperty(re)&&gd(e,n,re,void 0,o,G);for(Z in o)G=o[Z],F=s[Z],!o.hasOwnProperty(Z)||G===F||G===void 0&&F===void 0||gd(e,n,Z,G,o,F);return}}for(var k in s)G=s[k],s.hasOwnProperty(k)&&G!=null&&!o.hasOwnProperty(k)&&ne(e,n,k,null,o,G);for(tt in o)G=o[tt],F=s[tt],!o.hasOwnProperty(tt)||G===F||G==null&&F==null||ne(e,n,tt,G,o,F)}var pd=null,yd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function ov(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function K1(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(e){return fv.resolve(null).then(e).catch(J1)}:cv;function J1(e){setTimeout(function(){throw e})}function Yi(e){return e==="head"}function hv(e,n){var s=n,o=0,f=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var _=e.ownerDocument;if(s&1&&ao(_.documentElement),s&2&&ao(_.body),s&4)for(s=_.head,ao(s),_=s.firstChild;_;){var b=_.nextSibling,N=_.nodeName;_[sr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=b}}if(f===0){e.removeChild(d),mo(n);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);mo(n)}function Ed(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ed(s),Di(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function W1(e,n,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[sr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=fr(e.nextSibling),e===null)break}return null}function tT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=fr(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function eT(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function fr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Td=null;function dv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function mv(e,n,s){switch(n=uc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ao(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Di(e)}var Wn=new Map,gv=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vi=st.d;st.d={f:nT,r:rT,D:iT,C:aT,L:sT,m:lT,X:uT,S:oT,M:cT};function nT(){var e=vi.f(),n=ec();return e||n}function rT(e){var n=yr(e);n!==null&&n.tag===5&&n.type==="form"?Lp(n):vi.r(e)}var qs=typeof document>"u"?null:document;function pv(e,n,s){var o=qs;if(o&&typeof n=="string"&&n){var f=xe(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),gv.has(f)||(gv.add(f),e={rel:e,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),an(n,"link",e),Te(n),o.head.appendChild(n)))}}function iT(e){vi.D(e),pv("dns-prefetch",e,null)}function aT(e,n){vi.C(e,n),pv("preconnect",e,n)}function sT(e,n,s){vi.L(e,n,s);var o=qs;if(o&&e&&n){var f='link[rel="preload"][as="'+xe(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+xe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+xe(s.imageSizes)+'"]')):f+='[href="'+xe(e)+'"]';var d=f;switch(n){case"style":d=Hs(e);break;case"script":d=Gs(e)}Wn.has(d)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Wn.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(so(d))||n==="script"&&o.querySelector(lo(d))||(n=o.createElement("link"),an(n,"link",e),Te(n),o.head.appendChild(n)))}}function lT(e,n){vi.m(e,n);var s=qs;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+xe(o)+'"][href="'+xe(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Gs(e)}if(!Wn.has(d)&&(e=E({rel:"modulepreload",href:e},n),Wn.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(lo(d)))return}o=s.createElement("link"),an(o,"link",e),Te(o),s.head.appendChild(o)}}}function oT(e,n,s){vi.S(e,n,s);var o=qs;if(o&&e){var f=vn(o).hoistableStyles,d=Hs(e);n=n||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=o.querySelector(so(d)))b.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Wn.get(d))&&Sd(e,s);var N=_=o.createElement("link");Te(N),an(N,"link",e),N._p=new Promise(function(H,Z){N.onload=H,N.onerror=Z}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,fc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function uT(e,n){vi.X(e,n);var s=qs;if(s&&e){var o=vn(s).hoistableScripts,f=Gs(e),d=o.get(f);d||(d=s.querySelector(lo(f)),d||(e=E({src:e,async:!0},n),(n=Wn.get(f))&&Ad(e,n),d=s.createElement("script"),Te(d),an(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function cT(e,n){vi.M(e,n);var s=qs;if(s&&e){var o=vn(s).hoistableScripts,f=Gs(e),d=o.get(f);d||(d=s.querySelector(lo(f)),d||(e=E({src:e,async:!0,type:"module"},n),(n=Wn.get(f))&&Ad(e,n),d=s.createElement("script"),Te(d),an(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function yv(e,n,s,o){var f=(f=pt.current)?cc(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Hs(s.href),s=vn(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Hs(s.href);var d=vn(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(so(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Wn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Wn.set(e,s),d||fT(f,e,s,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Gs(s),s=vn(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Hs(e){return'href="'+xe(e)+'"'}function so(e){return'link[rel="stylesheet"]['+e+"]"}function vv(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function fT(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",s),Te(n),e.head.appendChild(n))}function Gs(e){return'[src="'+xe(e)+'"]'}function lo(e){return"script[async]"+e}function _v(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+xe(s.href)+'"]');if(o)return n.instance=o,Te(o),o;var f=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),an(o,"style",f),fc(o,s.precedence,e),n.instance=o;case"stylesheet":f=Hs(s.href);var d=e.querySelector(so(f));if(d)return n.state.loading|=4,n.instance=d,Te(d),d;o=vv(s),(f=Wn.get(f))&&Sd(o,f),d=(e.ownerDocument||e).createElement("link"),Te(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),an(d,"link",o),n.state.loading|=4,fc(d,s.precedence,e),n.instance=d;case"script":return d=Gs(s.src),(f=e.querySelector(lo(d)))?(n.instance=f,Te(f),f):(o=s,(f=Wn.get(d))&&(o=E({},s),Ad(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Te(f),an(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,_=0;_<o.length;_++){var b=o[_];if(b.dataset.precedence===n)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hc=null;function Ev(e,n,s){if(hc===null){var o=new Map,f=hc=new Map;f.set(s,o)}else f=hc,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[sr]||d[Wt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var b=o.get(_);b?b.push(d):o.set(_,[d])}}return o}function bv(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function hT(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Tv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var oo=null;function dT(){}function mT(e,n,s){if(oo===null)throw Error(a(475));var o=oo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Hs(s.href),d=e.querySelector(so(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=dc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,Te(d);return}d=e.ownerDocument||e,s=vv(s),(f=Wn.get(f))&&Sd(s,f),d=d.createElement("link"),Te(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),an(d,"link",s),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=dc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function gT(){if(oo===null)throw Error(a(475));var e=oo;return e.stylesheets&&e.count===0&&wd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&wd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function dc(){if(this.count--,this.count===0){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function wd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(pT,e),mc=null,dc.call(e))}function pT(e,n){if(!(n.state.loading&4)){var s=mc.get(e);if(s)var o=s.get(null);else{s=new Map,mc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}f=n.instance,_=f.getAttribute("data-precedence"),d=s.get(_)||o,d===o&&s.set(null,f),s.set(_,f),this.count++,o=dc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var uo={$$typeof:K,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function yT(e,n,s,o,f,d,_,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Sv(e,n,s,o,f,d,_,b,N,H,Z,tt){return e=new yT(e,n,s,_,b,N,H,tt),n=1,d===!0&&(n|=24),d=On(3,null,null,n),e.current=d,d.stateNode=e,n=sh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},ch(d),e}function Av(e){return e?(e=bs,e):bs}function wv(e,n,s,o,f,d){f=Av(f),o.context===null?o.context=f:o.pendingContext=f,o=Mi(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Li(e,o,n),s!==null&&(zn(s,e,n),kl(s,e,n))}function Rv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Rd(e,n){Rv(e,n),(e=e.alternate)&&Rv(e,n)}function Cv(e){if(e.tag===13){var n=Es(e,67108864);n!==null&&zn(n,e,67108864),Rd(e,67108864)}}var gc=!0;function vT(e,n,s,o){var f=$.T;$.T=null;var d=st.p;try{st.p=2,Cd(e,n,s,o)}finally{st.p=d,$.T=f}}function _T(e,n,s,o){var f=$.T;$.T=null;var d=st.p;try{st.p=8,Cd(e,n,s,o)}finally{st.p=d,$.T=f}}function Cd(e,n,s,o){if(gc){var f=Dd(o);if(f===null)md(e,n,o,pc,s),xv(e,o);else if(bT(f,e,n,s,o))o.stopPropagation();else if(xv(e,o),n&4&&-1<ET.indexOf(e)){for(;f!==null;){var d=yr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-pe(_);b.entanglements[1]|=N,_&=~N}Ir(d),(Kt&6)===0&&(Wu=gn()+500,no(0))}}break;case 13:b=Es(d,2),b!==null&&zn(b,d,2),ec(),Rd(d,2)}if(d=Dd(o),d===null&&md(e,n,o,pc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else md(e,n,o,null,s)}}function Dd(e){return e=Gn(e),xd(e)}var pc=null;function xd(e){if(pc=null,e=$r(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pc=e,null}function Dv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case Hr:return 2;case pn:return 8;case jn:case wi:return 32;case Gr:return 268435456;default:return 32}default:return 32}}var Nd=!1,Xi=null,Ki=null,$i=null,co=new Map,fo=new Map,Zi=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(e,n){switch(e){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function ho(e,n,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=yr(n),n!==null&&Cv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function bT(e,n,s,o,f){switch(n){case"focusin":return Xi=ho(Xi,e,n,s,o,f),!0;case"dragenter":return Ki=ho(Ki,e,n,s,o,f),!0;case"mouseover":return $i=ho($i,e,n,s,o,f),!0;case"pointerover":var d=f.pointerId;return co.set(d,ho(co.get(d)||null,e,n,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,fo.set(d,ho(fo.get(d)||null,e,n,s,o,f)),!0}return!1}function Nv(e){var n=$r(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,ir(e.priority,function(){if(s.tag===13){var o=Pn();o=be(o);var f=Es(s,o);f!==null&&zn(f,s,o),Rd(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Dd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);ti=o,s.target.dispatchEvent(o),ti=null}else return n=yr(s),n!==null&&Cv(n),e.blockedOn=s,!1;n.shift()}return!0}function Iv(e,n,s){yc(e)&&s.delete(n)}function TT(){Nd=!1,Xi!==null&&yc(Xi)&&(Xi=null),Ki!==null&&yc(Ki)&&(Ki=null),$i!==null&&yc($i)&&($i=null),co.forEach(Iv),fo.forEach(Iv)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,TT)))}var _c=null;function Vv(e){_c!==e&&(_c=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(xd(o||s)===null)continue;break}var d=yr(s);d!==null&&(e.splice(n,3),n-=3,xh(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function mo(e){function n(N){return vc(N,e)}Xi!==null&&vc(Xi,e),Ki!==null&&vc(Ki,e),$i!==null&&vc($i,e),co.forEach(n),fo.forEach(n);for(var s=0;s<Zi.length;s++){var o=Zi[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Zi.length&&(s=Zi[0],s.blockedOn===null);)Nv(s),s.blockedOn===null&&Zi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],_=f[Ft]||null;if(typeof d=="function")_||Vv(s);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ft]||null)b=_.formAction;else if(xd(f)!==null)continue}else b=_.action;typeof b=="function"?s[o+1]=b:(s.splice(o,3),o-=3),Vv(s)}}}function Id(e){this._internalRoot=e}Ec.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Pn();wv(s,o,e,n,null,null)},Ec.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;wv(e.current,2,null,e,null,null),ec(),n[ye]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ue();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Zi.length&&n!==0&&n<Zi[s].priority;s++);Zi.splice(s,0,e),s===0&&Nv(e)}};var Ov=t.version;if(Ov!=="19.1.1")throw Error(a(527,Ov,"19.1.1"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var ST={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{ue=bc.inject(ST),Mt=bc}catch{}}return po.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",f=Kp,d=$p,_=Zp,b=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks)),n=Sv(e,1,!1,null,null,s,o,f,d,_,b,null),e[ye]=n.current,dd(e),new Id(n)},po.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,f="",d=Kp,_=$p,b=Zp,N=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),n=Sv(e,1,!0,n,s??null,o,f,d,_,b,N,H),n.context=Av(null),s=n.current,o=Pn(),o=be(o),f=Mi(o),f.callback=null,Li(s,f,o),s=o,n.current.lanes=s,ae(n,s),Ir(n),e[ye]=n.current,dd(e),new Ec(n)},po.version="19.1.1",po}var Hv;function VT(){if(Hv)return Md.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Md.exports=IT(),Md.exports}var OT=VT();const MT=E0(OT);var T0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gv=Ee.createContext&&Ee.createContext(T0),LT=["attr","size","title"];function UT(i,t){if(i==null)return{};var r=PT(i,t),a,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(l=0;l<u.length;l++)a=u[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(r[a]=i[a])}return r}function PT(i,t){if(i==null)return{};var r={};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){if(t.indexOf(a)>=0)continue;r[a]=i[a]}return r}function Bc(){return Bc=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},Bc.apply(this,arguments)}function Fv(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function jc(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fv(Object(r),!0).forEach(function(a){zT(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Fv(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}function zT(i,t,r){return t=kT(t),t in i?Object.defineProperty(i,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[t]=r,i}function kT(i){var t=BT(i,"string");return typeof t=="symbol"?t:t+""}function BT(i,t){if(typeof i!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var a=r.call(i,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function S0(i){return i&&i.map((t,r)=>Ee.createElement(t.tag,jc({key:r},t.attr),S0(t.child)))}function cf(i){return t=>Ee.createElement(jT,Bc({attr:jc({},i.attr)},t),S0(i.child))}function jT(i){var t=r=>{var{attr:a,size:l,title:u}=i,h=UT(i,LT),m=l||r.size||"1em",g;return r.className&&(g=r.className),i.className&&(g=(g?g+" ":"")+i.className),Ee.createElement("svg",Bc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,h,{className:g,style:jc(jc({color:i.color||r.color},r.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Ee.createElement("title",null,u),i.children)};return Gv!==void 0?Ee.createElement(Gv.Consumer,null,r=>t(r)):t(T0)}function qT(i){return cf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(i)}function HT(i){return cf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(i)}function GT(i){return cf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(i)}function FT(i){return cf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(i)}/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qv="popstate";function QT(i={}){function t(l,u){let{pathname:h="/",search:m="",hash:g=""}=$a(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),tm("",{pathname:h,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){let h=l.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=l.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Io(u))}function a(l,u){hr(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return XT(t,r,a,i)}function me(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function hr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YT(){return Math.random().toString(36).substring(2,10)}function Yv(i,t){return{usr:i.state,key:i.key,idx:t}}function tm(i,t,r=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?$a(t):t,state:r,key:t&&t.key||a||YT()}}function Io({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function $a(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function XT(i,t,r,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,h=l.history,m="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let V=E(),X=V==null?null:V-y;y=V,g&&g({action:m,location:B.location,delta:X})}function S(V,X){m="PUSH";let Q=tm(B.location,V,X);r&&r(Q,V),y=E()+1;let K=Yv(Q,y),ot=B.createHref(Q);try{h.pushState(K,"",ot)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;l.location.assign(ot)}u&&g&&g({action:m,location:B.location,delta:1})}function D(V,X){m="REPLACE";let Q=tm(B.location,V,X);r&&r(Q,V),y=E();let K=Yv(Q,y),ot=B.createHref(Q);h.replaceState(K,"",ot),u&&g&&g({action:m,location:B.location,delta:0})}function P(V){return KT(V)}let B={get action(){return m},get location(){return i(l,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Qv,T),g=V,()=>{l.removeEventListener(Qv,T),g=null}},createHref(V){return t(l,V)},createURL:P,encodeLocation(V){let X=P(V);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:S,replace:D,go(V){return h.go(V)}};return B}function KT(i,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),me(r,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Io(i);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function A0(i,t,r="/"){return $T(i,t,r,!1)}function $T(i,t,r,a){let l=typeof t=="string"?$a(t):t,u=bi(l.pathname||"/",r);if(u==null)return null;let h=w0(i);ZT(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=oS(u);m=sS(h[g],y,a)}return m}function w0(i,t=[],r=[],a="",l=!1){let u=(h,m,g=l,y)=>{let E={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&g)return;me(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let T=_i([a,E.relativePath]),S=r.concat(E);h.children&&h.children.length>0&&(me(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),w0(h.children,t,S,T,g)),!(h.path==null&&!h.index)&&t.push({path:T,score:iS(T,h.index),routesMeta:S})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of R0(h.path))u(h,m,!0,g)}),t}function R0(i){let t=i.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let h=R0(a.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function ZT(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:aS(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var JT=/^:[\w-]+$/,WT=3,tS=2,eS=1,nS=10,rS=-2,Xv=i=>i==="*";function iS(i,t){let r=i.split("/"),a=r.length;return r.some(Xv)&&(a+=rS),t&&(a+=tS),r.filter(l=>!Xv(l)).reduce((l,u)=>l+(JT.test(u)?WT:u===""?eS:nS),a)}function aS(i,t){return i.length===t.length&&i.slice(0,-1).every((a,l)=>a===t[l])?i[i.length-1]-t[t.length-1]:0}function sS(i,t,r=!1){let{routesMeta:a}=i,l={},u="/",h=[];for(let m=0;m<a.length;++m){let g=a[m],y=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),S=g.route;if(!T&&y&&r&&!a[a.length-1].route.index&&(T=qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(l,T.params),h.push({params:l,pathname:_i([u,T.pathname]),pathnameBase:hS(_i([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=_i([u,T.pathnameBase]))}return h}function qc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,a]=lS(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:T},S)=>{if(E==="*"){let P=m[S]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const D=m[S];return T&&!D?y[E]=void 0:y[E]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function lS(i,t=!1,r=!0){hr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function oS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function bi(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=i.charAt(r);return a&&a!=="/"?null:i.slice(r)||"/"}function uS(i,t="/"){let{pathname:r,search:a="",hash:l=""}=typeof i=="string"?$a(i):i;return{pathname:r?r.startsWith("/")?r:cS(r,t):t,search:dS(a),hash:mS(l)}}function cS(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function zd(i,t,r,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fS(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function C0(i){let t=fS(i);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function D0(i,t,r,a=!1){let l;typeof i=="string"?l=$a(i):(l={...i},me(!l.pathname||!l.pathname.includes("?"),zd("?","pathname","search",l)),me(!l.pathname||!l.pathname.includes("#"),zd("#","pathname","hash",l)),me(!l.search||!l.search.includes("#"),zd("#","search","hash",l)));let u=i===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=r;else{let T=t.length-1;if(!a&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;l.pathname=S.join("/")}m=T>=0?t[T]:"/"}let g=uS(l,m),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var _i=i=>i.join("/").replace(/\/\/+/g,"/"),hS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),dS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,mS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function gS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var x0=["POST","PUT","PATCH","DELETE"];new Set(x0);var pS=["GET",...x0];new Set(pS);var sl=C.createContext(null);sl.displayName="DataRouter";var ff=C.createContext(null);ff.displayName="DataRouterState";C.createContext(!1);var N0=C.createContext({isTransitioning:!1});N0.displayName="ViewTransition";var yS=C.createContext(new Map);yS.displayName="Fetchers";var vS=C.createContext(null);vS.displayName="Await";var jr=C.createContext(null);jr.displayName="Navigation";var Fo=C.createContext(null);Fo.displayName="Location";var qr=C.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var Nm=C.createContext(null);Nm.displayName="RouteError";function _S(i,{relative:t}={}){me(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=C.useContext(jr),{hash:l,pathname:u,search:h}=Yo(i,{relative:t}),m=u;return r!=="/"&&(m=u==="/"?r:_i([r,u])),a.createHref({pathname:m,search:h,hash:l})}function Qo(){return C.useContext(Fo)!=null}function Za(){return me(Qo(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Fo).location}var I0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V0(i){C.useContext(jr).static||C.useLayoutEffect(i)}function O0(){let{isDataRoute:i}=C.useContext(qr);return i?OS():ES()}function ES(){me(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let i=C.useContext(sl),{basename:t,navigator:r}=C.useContext(jr),{matches:a}=C.useContext(qr),{pathname:l}=Za(),u=JSON.stringify(C0(a)),h=C.useRef(!1);return V0(()=>{h.current=!0}),C.useCallback((g,y={})=>{if(hr(h.current,I0),!h.current)return;if(typeof g=="number"){r.go(g);return}let E=D0(g,JSON.parse(u),l,y.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:_i([t,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[t,r,u,l,i])}C.createContext(null);function bS(){let{matches:i}=C.useContext(qr),t=i[i.length-1];return t?t.params:{}}function Yo(i,{relative:t}={}){let{matches:r}=C.useContext(qr),{pathname:a}=Za(),l=JSON.stringify(C0(r));return C.useMemo(()=>D0(i,JSON.parse(l),a,t==="path"),[i,l,a,t])}function TS(i,t){return M0(i,t)}function M0(i,t,r,a,l){me(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(jr),{matches:h}=C.useContext(qr),m=h[h.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let Q=T&&T.path||"";L0(y,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=Za(),D;if(t){let Q=typeof t=="string"?$a(t):t;me(E==="/"||Q.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),D=Q}else D=S;let P=D.pathname||"/",B=P;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");B="/"+P.replace(/^\//,"").split("/").slice(Q.length).join("/")}let V=A0(i,{pathname:B});hr(T||V!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),hr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=CS(V&&V.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:_i([E,u.encodeLocation?u.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:_i([E,u.encodeLocation?u.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,r,a,l);return t&&X?C.createElement(Fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},X):X}function SS(){let i=VS(),t=gS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:l},r):null,h)}var AS=C.createElement(SS,null),wS=class extends C.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?C.createElement(qr.Provider,{value:this.props.routeContext},C.createElement(Nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RS({routeContext:i,match:t,children:r}){let a=C.useContext(sl);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(qr.Provider,{value:i},r)}function CS(i,t=[],r=null,a=null,l=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let u=i,h=r?.errors;if(h!=null){let y=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);me(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,g=-1;if(r)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:T,errors:S}=r,D=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||D){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,E,T)=>{let S,D=!1,P=null,B=null;r&&(S=h&&E.route.id?h[E.route.id]:void 0,P=E.route.errorElement||AS,m&&(g<0&&T===0?(L0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,B=null):g===T&&(D=!0,B=E.route.hydrateFallbackElement||null)));let V=t.concat(u.slice(0,T+1)),X=()=>{let Q;return S?Q=P:D?Q=B:E.route.Component?Q=C.createElement(E.route.Component,null):E.route.element?Q=E.route.element:Q=y,C.createElement(RS,{match:E,routeContext:{outlet:y,matches:V,isDataRoute:r!=null},children:Q})};return r&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?C.createElement(wS,{location:r.location,revalidation:r.revalidation,component:P,error:S,children:X(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:a}):X()},null)}function Im(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DS(i){let t=C.useContext(sl);return me(t,Im(i)),t}function xS(i){let t=C.useContext(ff);return me(t,Im(i)),t}function NS(i){let t=C.useContext(qr);return me(t,Im(i)),t}function Vm(i){let t=NS(i),r=t.matches[t.matches.length-1];return me(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function IS(){return Vm("useRouteId")}function VS(){let i=C.useContext(Nm),t=xS("useRouteError"),r=Vm("useRouteError");return i!==void 0?i:t.errors?.[r]}function OS(){let{router:i}=DS("useNavigate"),t=Vm("useNavigate"),r=C.useRef(!1);return V0(()=>{r.current=!0}),C.useCallback(async(l,u={})=>{hr(r.current,I0),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var Kv={};function L0(i,t,r){!t&&!Kv[i]&&(Kv[i]=!0,hr(!1,r))}C.memo(MS);function MS({routes:i,future:t,state:r,unstable_onError:a}){return M0(i,void 0,r,a,t)}function Nc(i){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LS({basename:i="/",children:t=null,location:r,navigationType:a="POP",navigator:l,static:u=!1}){me(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=C.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof r=="string"&&(r=$a(r));let{pathname:g="/",search:y="",hash:E="",state:T=null,key:S="default"}=r,D=C.useMemo(()=>{let P=bi(g,h);return P==null?null:{location:{pathname:P,search:y,hash:E,state:T,key:S},navigationType:a}},[h,g,y,E,T,S,a]);return hr(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:C.createElement(jr.Provider,{value:m},C.createElement(Fo.Provider,{children:t,value:D}))}function US({children:i,location:t}){return TS(em(i),t)}function em(i,t=[]){let r=[];return C.Children.forEach(i,(a,l)=>{if(!C.isValidElement(a))return;let u=[...t,l];if(a.type===C.Fragment){r.push.apply(r,em(a.props.children,u));return}me(a.type===Nc,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=em(a.props.children,u)),r.push(h)}),r}var Ic="get",Vc="application/x-www-form-urlencoded";function hf(i){return i!=null&&typeof i.tagName=="string"}function PS(i){return hf(i)&&i.tagName.toLowerCase()==="button"}function zS(i){return hf(i)&&i.tagName.toLowerCase()==="form"}function kS(i){return hf(i)&&i.tagName.toLowerCase()==="input"}function BS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function jS(i,t){return i.button===0&&(!t||t==="_self")&&!BS(i)}var Tc=null;function qS(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var HS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kd(i){return i!=null&&!HS.has(i)?(hr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):i}function GS(i,t){let r,a,l,u,h;if(zS(i)){let m=i.getAttribute("action");a=m?bi(m,t):null,r=i.getAttribute("method")||Ic,l=kd(i.getAttribute("enctype"))||Vc,u=new FormData(i)}else if(PS(i)||kS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(a=g?bi(g,t):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||Ic,l=kd(i.getAttribute("formenctype"))||kd(m.getAttribute("enctype"))||Vc,u=new FormData(m,i),!qS()){let{name:y,type:E,value:T}=i;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,T)}}else{if(hf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ic,a=null,l=Vc,h=i}return u&&l==="text/plain"&&(h=u,u=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Om(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function FS(i,t,r){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&bi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function QS(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function XS(i,t,r){let a=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await QS(u,r);return h.links?h.links():[]}return[]}));return JS(a.flat(1).filter(YS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function $v(i,t,r,a,l,u){let h=(g,y)=>r[y]?g.route.id!==r[y].route.id:!0,m=(g,y)=>r[y].pathname!==g.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>h(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function KS(i,t,{includeHydrateFallback:r}={}){return $S(i.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function $S(i){return[...new Set(i)]}function ZS(i){let t={},r=Object.keys(i).sort();for(let a of r)t[a]=i[a];return t}function JS(i,t){let r=new Set;return new Set(t),i.reduce((a,l)=>{let u=JSON.stringify(ZS(l));return r.has(u)||(r.add(u),a.push({key:u,link:l})),a},[])}function U0(){let i=C.useContext(sl);return Om(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function WS(){let i=C.useContext(ff);return Om(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Mm=C.createContext(void 0);Mm.displayName="FrameworkContext";function P0(){let i=C.useContext(Mm);return Om(i,"You must render this element inside a <HydratedRouter> element"),i}function tA(i,t){let r=C.useContext(Mm),[a,l]=C.useState(!1),[u,h]=C.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=t,S=C.useRef(null);C.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=X=>{X.forEach(Q=>{h(Q.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[i]),C.useEffect(()=>{if(a){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[a]);let D=()=>{l(!0)},P=()=>{l(!1),h(!1)};return r?i!=="intent"?[u,S,{}]:[u,S,{onFocus:yo(m,D),onBlur:yo(g,P),onMouseEnter:yo(y,D),onMouseLeave:yo(E,P),onTouchStart:yo(T,D)}]:[!1,S,{}]}function yo(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function eA({page:i,...t}){let{router:r}=U0(),a=C.useMemo(()=>A0(r.routes,i,r.basename),[r.routes,i,r.basename]);return a?C.createElement(rA,{page:i,matches:a,...t}):null}function nA(i){let{manifest:t,routeModules:r}=P0(),[a,l]=C.useState([]);return C.useEffect(()=>{let u=!1;return XS(i,t,r).then(h=>{u||l(h)}),()=>{u=!0}},[i,t,r]),a}function rA({page:i,matches:t,...r}){let a=Za(),{manifest:l,routeModules:u}=P0(),{basename:h}=U0(),{loaderData:m,matches:g}=WS(),y=C.useMemo(()=>$v(i,t,g,l,a,"data"),[i,t,g,l,a]),E=C.useMemo(()=>$v(i,t,g,l,a,"assets"),[i,t,g,l,a]),T=C.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let P=new Set,B=!1;if(t.forEach(X=>{let Q=l.routes[X.route.id];!Q||!Q.hasLoader||(!y.some(K=>K.route.id===X.route.id)&&X.route.id in m&&u[X.route.id]?.shouldRevalidate||Q.hasClientLoader?B=!0:P.add(X.route.id))}),P.size===0)return[];let V=FS(i,h,"data");return B&&P.size>0&&V.searchParams.set("_routes",t.filter(X=>P.has(X.route.id)).map(X=>X.route.id).join(",")),[V.pathname+V.search]},[h,m,a,l,y,t,i,u]),S=C.useMemo(()=>KS(E,l),[E,l]),D=nA(E);return C.createElement(C.Fragment,null,T.map(P=>C.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...r})),S.map(P=>C.createElement("link",{key:P,rel:"modulepreload",href:P,...r})),D.map(({key:P,link:B})=>C.createElement("link",{key:P,nonce:r.nonce,...B})))}function iA(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z0&&(window.__reactRouterVersion="7.8.2")}catch{}function aA({basename:i,children:t,window:r}){let a=C.useRef();a.current==null&&(a.current=QT({window:r,v5Compat:!0}));let l=a.current,[u,h]=C.useState({action:l.action,location:l.location}),m=C.useCallback(g=>{C.startTransition(()=>h(g))},[h]);return C.useLayoutEffect(()=>l.listen(m),[l,m]),C.createElement(LS,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:l})}var k0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vo=C.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:l,reloadDocument:u,replace:h,state:m,target:g,to:y,preventScrollReset:E,viewTransition:T,...S},D){let{basename:P}=C.useContext(jr),B=typeof y=="string"&&k0.test(y),V,X=!1;if(typeof y=="string"&&B&&(V=y,z0))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=bi(O.pathname,P);O.origin===R.origin&&M!=null?y=M+O.search+O.hash:X=!0}catch{hr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=_S(y,{relative:l}),[K,ot,at]=tA(a,S),ct=uA(y,{replace:h,state:m,target:g,preventScrollReset:E,relative:l,viewTransition:T});function I(R){t&&t(R),R.defaultPrevented||ct(R)}let w=C.createElement("a",{...S,...at,href:V||Q,onClick:X||u?t:I,ref:iA(D,ot),target:g,"data-discover":!B&&r==="render"?"true":void 0});return K&&!B?C.createElement(C.Fragment,null,w,C.createElement(eA,{page:Q})):w});Vo.displayName="Link";var sA=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:l=!1,style:u,to:h,viewTransition:m,children:g,...y},E){let T=Yo(h,{relative:y.relative}),S=Za(),D=C.useContext(ff),{navigator:P,basename:B}=C.useContext(jr),V=D!=null&&mA(T)&&m===!0,X=P.encodeLocation?P.encodeLocation(T).pathname:T.pathname,Q=S.pathname,K=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;r||(Q=Q.toLowerCase(),K=K?K.toLowerCase():null,X=X.toLowerCase()),K&&B&&(K=bi(K,B)||K);const ot=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let at=Q===X||!l&&Q.startsWith(X)&&Q.charAt(ot)==="/",ct=K!=null&&(K===X||!l&&K.startsWith(X)&&K.charAt(X.length)==="/"),I={isActive:at,isPending:ct,isTransitioning:V},w=at?t:void 0,R;typeof a=="function"?R=a(I):R=[a,at?"active":null,ct?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(I):u;return C.createElement(Vo,{...y,"aria-current":w,className:R,ref:E,style:O,to:h,viewTransition:m},typeof g=="function"?g(I):g)});sA.displayName="NavLink";var lA=C.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:l,state:u,method:h=Ic,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:T,...S},D)=>{let P=hA(),B=dA(m,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&k0.test(m),Q=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let ot=K.nativeEvent.submitter,at=ot?.getAttribute("formmethod")||h;P(ot||K.currentTarget,{fetcherKey:t,method:at,navigate:r,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:T})};return C.createElement("form",{ref:D,method:V,action:B,onSubmit:a?g:Q,...S,"data-discover":!X&&i==="render"?"true":void 0})});lA.displayName="Form";function oA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B0(i){let t=C.useContext(sl);return me(t,oA(i)),t}function uA(i,{target:t,replace:r,state:a,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=O0(),g=Za(),y=Yo(i,{relative:u});return C.useCallback(E=>{if(jS(E,t)){E.preventDefault();let T=r!==void 0?r:Io(g)===Io(y);m(i,{replace:T,state:a,preventScrollReset:l,relative:u,viewTransition:h})}},[g,m,y,r,a,t,i,l,u,h])}var cA=0,fA=()=>`__${String(++cA)}__`;function hA(){let{router:i}=B0("useSubmit"),{basename:t}=C.useContext(jr),r=IS();return C.useCallback(async(a,l={})=>{let{action:u,method:h,encType:m,formData:g,body:y}=GS(a,t);if(l.navigate===!1){let E=l.fetcherKey||fA();await i.fetch(E,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function dA(i,{relative:t}={}){let{basename:r}=C.useContext(jr),a=C.useContext(qr);me(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...Yo(i||".",{relative:t})},h=Za();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:_i([r,u.pathname])),Io(u)}function mA(i,{relative:t}={}){let r=C.useContext(N0);me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=B0("useViewTransitionState"),l=Yo(i,{relative:t});if(!r.isTransitioning)return!1;let u=bi(r.currentLocation.pathname,a)||r.currentLocation.pathname,h=bi(r.nextLocation.pathname,a)||r.nextLocation.pathname;return qc(l.pathname,h)!=null||qc(l.pathname,u)!=null}var vo=b0();const gA=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=function(i){const t=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},pA=function(i){const t=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],h=i[r++],m=i[r++],g=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[r++],h=i[r++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},q0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const u=i[l],h=l+1<i.length,m=h?i[l+1]:0,g=l+2<i.length,y=g?i[l+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,D=y&63;g||(D=64,h||(S=64)),a.push(r[E],r[T],r[S],r[D])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(j0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):pA(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],m=l<i.length?r[i.charAt(l)]:0;++l;const y=l<i.length?r[i.charAt(l)]:64;++l;const T=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||m==null||y==null||T==null)throw new yA;const S=u<<2|m>>4;if(a.push(S),y!==64){const D=m<<4&240|y>>2;if(a.push(D),T!==64){const P=y<<6&192|T;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class yA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vA=function(i){const t=j0(i);return q0.encodeByteArray(t,!0)},Hc=function(i){return vA(i).replace(/\./g,"")},_A=function(i){try{return q0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=()=>EA().__FIREBASE_DEFAULTS__,TA=()=>{if(typeof process>"u"||typeof Zv>"u")return;const i=Zv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},SA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&_A(i[1]);return t&&JSON.parse(t)},Lm=()=>{try{return gA()||bA()||TA()||SA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},AA=i=>Lm()?.emulatorHosts?.[i],wA=i=>{const t=AA(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},H0=()=>Lm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Hc(JSON.stringify(r)),Hc(JSON.stringify(h)),""].join(".")}const So={};function xA(){const i={prod:[],emulator:[]};for(const t of Object.keys(So))So[t]?i.emulator.push(t):i.prod.push(t);return i}function NA(i){let t=document.getElementById(i),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),r=!0),{created:r,element:t}}let Jv=!1;function IA(i,t){if(typeof window>"u"||typeof document>"u"||!Um(window.location.host)||So[i]===t||So[i]||Jv)return;So[i]=t;function r(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=xA().prod.length>0;function h(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Jv=!0,h()},S}function E(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=NA(a),D=r("text"),P=document.getElementById(D)||document.createElement("span"),B=r("learnmore"),V=document.getElementById(B)||document.createElement("a"),X=r("preprendIcon"),Q=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const K=S.element;m(K),E(V,B);const ot=y();g(Q,X),K.append(Q,P,V,ot),document.body.appendChild(K)}u?(P.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OA(){const i=Lm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MA(){return!OA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LA(){try{return typeof indexedDB=="object"}catch{return!1}}function UA(){return new Promise((i,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="FirebaseError";class ll extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=PA,Object.setPrototypeOf(this,ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G0.prototype.create)}}class G0{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?zA(u,a):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new ll(l,m,a)}}function zA(i,t){return i.replace(kA,(r,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const kA=/\{\$([^}]+)}/g;function Gc(i,t){if(i===t)return!0;const r=Object.keys(i),a=Object.keys(t);for(const l of r){if(!a.includes(l))return!1;const u=i[l],h=t[l];if(Wv(u)&&Wv(h)){if(!Gc(u,h))return!1}else if(u!==h)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function Wv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(i){return i&&i._delegate?i._delegate:i}class Oo{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new RA;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qA(t))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=Fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fa){return this.instances.has(t)}getOptions(t=Fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(l)}return l}onInit(t,r){const a=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&t(u,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:jA(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fa){return this.component?this.component.multipleInstances?t:Fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(i){return i===Fa?void 0:i}function qA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new BA(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ht||(Ht={}));const GA={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},FA=Ht.INFO,QA={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},YA=(i,t,...r)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),l=QA[t];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class F0{constructor(t){this.name=t,this._logLevel=FA,this._logHandler=YA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const XA=(i,t)=>t.some(r=>i instanceof r);let t_,e_;function KA(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $A(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,nm=new WeakMap,Y0=new WeakMap,Bd=new WeakMap,Pm=new WeakMap;function ZA(i){const t=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{r(na(i.result)),l()},h=()=>{a(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(r=>{r instanceof IDBCursor&&Q0.set(r,i)}).catch(()=>{}),Pm.set(t,i),t}function JA(i){if(nm.has(i))return;const t=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{r(),l()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});nm.set(i,t)}let rm={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return nm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Y0.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return na(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function WA(i){rm=i(rm)}function tw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=i.call(jd(this),t,...r);return Y0.set(a,t.sort?t.sort():[t]),na(a)}:$A().includes(i)?function(...t){return i.apply(jd(this),t),na(Q0.get(this))}:function(...t){return na(i.apply(jd(this),t))}}function ew(i){return typeof i=="function"?tw(i):(i instanceof IDBTransaction&&JA(i),XA(i,KA())?new Proxy(i,rm):i)}function na(i){if(i instanceof IDBRequest)return ZA(i);if(Bd.has(i))return Bd.get(i);const t=ew(i);return t!==i&&(Bd.set(i,t),Pm.set(t,i)),t}const jd=i=>Pm.get(i);function nw(i,t,{blocked:r,upgrade:a,blocking:l,terminated:u}={}){const h=indexedDB.open(i,t),m=na(h);return a&&h.addEventListener("upgradeneeded",g=>{a(na(h.result),g.oldVersion,g.newVersion,na(h.transaction),g)}),r&&h.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const rw=["get","getKey","getAll","getAllKeys","count"],iw=["put","add","delete","clear"],qd=new Map;function n_(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,l=iw.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||rw.includes(r)))return;const u=async function(h,...m){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),l&&g.done]))[0]};return qd.set(t,u),u}WA(i=>({...i,get:(t,r,a)=>n_(t,r)||i.get(t,r,a),has:(t,r)=>!!n_(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(sw(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function sw(i){return i.getComponent()?.type==="VERSION"}const im="@firebase/app",r_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new F0("@firebase/app"),lw="@firebase/app-compat",ow="@firebase/analytics-compat",uw="@firebase/analytics",cw="@firebase/app-check-compat",fw="@firebase/app-check",hw="@firebase/auth",dw="@firebase/auth-compat",mw="@firebase/database",gw="@firebase/data-connect",pw="@firebase/database-compat",yw="@firebase/functions",vw="@firebase/functions-compat",_w="@firebase/installations",Ew="@firebase/installations-compat",bw="@firebase/messaging",Tw="@firebase/messaging-compat",Sw="@firebase/performance",Aw="@firebase/performance-compat",ww="@firebase/remote-config",Rw="@firebase/remote-config-compat",Cw="@firebase/storage",Dw="@firebase/storage-compat",xw="@firebase/firestore",Nw="@firebase/ai",Iw="@firebase/firestore-compat",Vw="firebase",Ow="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="[DEFAULT]",Mw={[im]:"fire-core",[lw]:"fire-core-compat",[uw]:"fire-analytics",[ow]:"fire-analytics-compat",[fw]:"fire-app-check",[cw]:"fire-app-check-compat",[hw]:"fire-auth",[dw]:"fire-auth-compat",[mw]:"fire-rtdb",[gw]:"fire-data-connect",[pw]:"fire-rtdb-compat",[yw]:"fire-fn",[vw]:"fire-fn-compat",[_w]:"fire-iid",[Ew]:"fire-iid-compat",[bw]:"fire-fcm",[Tw]:"fire-fcm-compat",[Sw]:"fire-perf",[Aw]:"fire-perf-compat",[ww]:"fire-rc",[Rw]:"fire-rc-compat",[Cw]:"fire-gcs",[Dw]:"fire-gcs-compat",[xw]:"fire-fst",[Iw]:"fire-fst-compat",[Nw]:"fire-vertex","fire-js":"fire-js",[Vw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,Lw=new Map,sm=new Map;function i_(i,t){try{i.container.addComponent(t)}catch(r){Ti.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Qc(i){const t=i.name;if(sm.has(t))return Ti.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,i);for(const r of Fc.values())i_(r,i);for(const r of Lw.values())i_(r,i);return!0}function Uw(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function Pw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new G0("app","Firebase",zw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,r,a){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=Ow;function X0(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const a={name:am,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ra.create("bad-app-name",{appName:String(l)});if(r||(r=H0()),!r)throw ra.create("no-options");const u=Fc.get(l);if(u){if(Gc(r,u.options)&&Gc(a,u.config))return u;throw ra.create("duplicate-app",{appName:l})}const h=new HA(l);for(const g of sm.values())h.addComponent(g);const m=new kw(r,a,h);return Fc.set(l,m),m}function jw(i=am){const t=Fc.get(i);if(!t&&i===am&&H0())return X0();if(!t)throw ra.create("no-app",{appName:i});return t}function $s(i,t,r){let a=Mw[i]??i;r&&(a+=`-${r}`);const l=a.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${t}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ti.warn(h.join(" "));return}Qc(new Oo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firebase-heartbeat-database",Hw=1,Mo="firebase-heartbeat-store";let Hd=null;function K0(){return Hd||(Hd=nw(qw,Hw,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Mo)}catch(r){console.warn(r)}}}}).catch(i=>{throw ra.create("idb-open",{originalErrorMessage:i.message})})),Hd}async function Gw(i){try{const r=(await K0()).transaction(Mo),a=await r.objectStore(Mo).get($0(i));return await r.done,a}catch(t){if(t instanceof ll)Ti.warn(t.message);else{const r=ra.create("idb-get",{originalErrorMessage:t?.message});Ti.warn(r.message)}}}async function a_(i,t){try{const a=(await K0()).transaction(Mo,"readwrite");await a.objectStore(Mo).put(t,$0(i)),await a.done}catch(r){if(r instanceof ll)Ti.warn(r.message);else{const a=ra.create("idb-set",{originalErrorMessage:r?.message});Ti.warn(a.message)}}}function $0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=1024,Qw=30;class Yw{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Kw(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>Qw){const l=$w(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ti.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=s_(),{heartbeatsToSend:r,unsentEntries:a}=Xw(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ti.warn(t),""}}}function s_(){return new Date().toISOString().substring(0,10)}function Xw(i,t=Fw){const r=[];let a=i.slice();for(const l of i){const u=r.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),l_(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),l_(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class Kw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LA()?UA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Gw(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return a_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return a_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function l_(i){return Hc(JSON.stringify({version:2,heartbeats:i})).length}function $w(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(i){Qc(new Oo("platform-logger",t=>new aw(t),"PRIVATE")),Qc(new Oo("heartbeat",t=>new Yw(t),"PRIVATE")),$s(im,r_,i),$s(im,r_,"esm2020"),$s("fire-js","")}Zw("");var o_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ia,Z0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function R(){}R.prototype=w.prototype,I.D=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(O,M,z){for(var x=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)x[Zt-2]=arguments[Zt];return w.prototype[M].apply(O,x)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)O[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],M=I.g[2];var z=I.g[3],x=w+(z^R&(M^z))+O[0]+3614090360&4294967295;w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+O[1]+3905402710&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+O[2]+606105819&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+O[3]+3250441966&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(z^R&(M^z))+O[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+O[5]+1200080426&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+O[6]+2821735955&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+O[7]+4249261313&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(z^R&(M^z))+O[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+O[9]+2336552879&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+O[10]+4294925233&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+O[11]+2304563134&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(z^R&(M^z))+O[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+O[13]+4254626195&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+O[14]+2792965006&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+O[15]+1236535329&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(M^z&(R^M))+O[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+O[6]+3225465664&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+O[11]+643717713&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+O[0]+3921069994&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^z&(R^M))+O[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+O[10]+38016083&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+O[15]+3634488961&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+O[4]+3889429448&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^z&(R^M))+O[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+O[14]+3275163606&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+O[3]+4107603335&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+O[8]+1163531501&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^z&(R^M))+O[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+O[2]+4243563512&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+O[7]+1735328473&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+O[12]+2368359562&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(R^M^z)+O[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+O[8]+2272392833&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+O[11]+1839030562&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+O[14]+4259657740&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^z)+O[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+O[4]+1272893353&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+O[7]+4139469664&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+O[10]+3200236656&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^z)+O[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+O[0]+3936430074&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+O[3]+3572445317&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+O[6]+76029189&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^z)+O[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+O[12]+3873151461&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+O[15]+530742520&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+O[2]+3299628645&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(M^(R|~z))+O[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+O[7]+1126891415&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+O[14]+2878612391&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+O[5]+4237533241&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~z))+O[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+O[3]+2399980690&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+O[10]+4293915773&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+O[1]+2240044497&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~z))+O[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+O[15]+4264355552&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+O[6]+2734768916&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+O[13]+1309151649&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~z))+O[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+O[11]+3174756917&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+O[2]+718787259&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+z&4294967295}a.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var R=w-this.blockSize,O=this.B,M=this.h,z=0;z<w;){if(M==0)for(;z<=R;)l(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<w;)if(O[M++]=I.charCodeAt(z++),M==this.blockSize){l(this,O),M=0;break}}else for(;z<w;)if(O[M++]=I[z++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=w},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var R=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=R&255,R/=256;for(this.u(I),I=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)I[R++]=this.g[w]>>>O&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function h(I,w){this.h=w;for(var R=[],O=!0,M=I.length-1;0<=M;M--){var z=I[M]|0;O&&z==w||(R[M]=z,O=!1)}this.g=R}var m={};function g(I){return-128<=I&&128>I?u(I,function(w){return new h([w|0],0>w?-1:0)}):new h([I|0],0>I?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return T;if(0>I)return V(y(-I));for(var w=[],R=1,O=0;I>=R;O++)w[O]=I/R|0,R*=4294967296;return new h(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return V(E(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),O=T,M=0;M<I.length;M+=8){var z=Math.min(8,I.length-M),x=parseInt(I.substring(M,M+z),w);8>z?(z=y(Math.pow(w,z)),O=O.j(z).add(y(x))):(O=O.j(R),O=O.add(y(x)))}return O}var T=g(0),S=g(1),D=g(16777216);i=h.prototype,i.m=function(){if(B(this))return-V(this).m();for(var I=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);I+=(0<=O?O:4294967296+O)*w,w*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(B(this))return"-"+V(this).toString(I);for(var w=y(Math.pow(I,6)),R=this,O="";;){var M=ot(R,w).g;R=X(R,M.j(w));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=M,P(R))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function B(I){return I.h==-1}i.l=function(I){return I=X(this,I),B(I)?-1:P(I)?0:1};function V(I){for(var w=I.g.length,R=[],O=0;O<w;O++)R[O]=~I.g[O];return new h(R,~I.h).add(S)}i.abs=function(){return B(this)?V(this):this},i.add=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],O=0,M=0;M<=w;M++){var z=O+(this.i(M)&65535)+(I.i(M)&65535),x=(z>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);O=x>>>16,z&=65535,x&=65535,R[M]=x<<16|z}return new h(R,R[R.length-1]&-2147483648?-1:0)};function X(I,w){return I.add(V(w))}i.j=function(I){if(P(this)||P(I))return T;if(B(this))return B(I)?V(this).j(V(I)):V(V(this).j(I));if(B(I))return V(this.j(V(I)));if(0>this.l(D)&&0>I.l(D))return y(this.m()*I.m());for(var w=this.g.length+I.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<I.g.length;M++){var z=this.i(O)>>>16,x=this.i(O)&65535,Zt=I.i(M)>>>16,Jt=I.i(M)&65535;R[2*O+2*M]+=x*Jt,Q(R,2*O+2*M),R[2*O+2*M+1]+=z*Jt,Q(R,2*O+2*M+1),R[2*O+2*M+1]+=x*Zt,Q(R,2*O+2*M+1),R[2*O+2*M+2]+=z*Zt,Q(R,2*O+2*M+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new h(R,0)};function Q(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function K(I,w){this.g=I,this.h=w}function ot(I,w){if(P(w))throw Error("division by zero");if(P(I))return new K(T,T);if(B(I))return w=ot(V(I),w),new K(V(w.g),V(w.h));if(B(w))return w=ot(I,V(w)),new K(V(w.g),w.h);if(30<I.g.length){if(B(I)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=w;0>=O.l(I);)R=at(R),O=at(O);var M=ct(R,1),z=ct(O,1);for(O=ct(O,2),R=ct(R,2);!P(O);){var x=z.add(O);0>=x.l(I)&&(M=M.add(R),z=x),O=ct(O,1),R=ct(R,1)}return w=X(I,M.j(w)),new K(M,w)}for(M=T;0<=I.l(w);){for(R=Math.max(1,Math.floor(I.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=y(R),x=z.j(w);B(x)||0<x.l(I);)R-=O,z=y(R),x=z.j(w);P(z)&&(z=S),M=M.add(z),I=X(I,x)}return new K(M,I)}i.A=function(I){return ot(this,I).h},i.and=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&I.i(O);return new h(R,this.h&I.h)},i.or=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|I.i(O);return new h(R,this.h|I.h)},i.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^I.i(O);return new h(R,this.h^I.h)};function at(I){for(var w=I.g.length+1,R=[],O=0;O<w;O++)R[O]=I.i(O)<<1|I.i(O-1)>>>31;return new h(R,I.h)}function ct(I,w){var R=w>>5;w%=32;for(var O=I.g.length-R,M=[],z=0;z<O;z++)M[z]=0<w?I.i(z+R)>>>w|I.i(z+R+1)<<32-w:I.i(z+R);return new h(M,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Z0=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,ia=h}).apply(typeof o_<"u"?o_:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J0,_o,W0,Oc,lm,tE,eE,nE;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=r(this);function l(c,p){if(p)t:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break t;v=v[j]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,A=!1,j={next:function(){if(!A&&v<c.length){var Y=v++;return{value:p(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}l("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function T(c,p,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function S(c,p,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,S.apply(null,arguments)}function D(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function P(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,j,Y){for(var ut=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ut[kt-2]=arguments[kt];return p.prototype[j].apply(A,ut)}}function B(c){const p=c.length;if(0<p){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function V(c,p){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(g(A)){const j=c.length||0,Y=A.length||0;c.length=j+Y;for(let ut=0;ut<Y;ut++)c[j+ut]=A[ut]}else c.push(A)}}class X{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Q(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ot(c){return ot[" "](c),c}ot[" "]=function(){};var at=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ct(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function I(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function w(c){const p={};for(const v in c)p[v]=c[v];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,p){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let Y=0;Y<R.length;Y++)v=R[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function M(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Ct;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Zt{constructor(){this.h=this.g=null}add(p,v){const A=Jt.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Jt=new X(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let st,gt=!1,Ct=new Zt,L=()=>{const c=m.Promise.resolve(void 0);st=()=>{c.then(nt)}};var nt=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){z(v)}var p=Jt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}gt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var mt=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c})();function At(c,p){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(at){t:{try{ot(p.nodeName);var j=!0;break t}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&At.aa.h.call(this)}}P(At,it);var pt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function Re(c,p,v,A,j){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=j,this.key=++Pt,this.da=this.fa=!1}function It(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mn(c){this.src=c,this.g={},this.h=0}mn.prototype.add=function(c,p,v,A,j){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ut=Tn(c,p,A,j);return-1<ut?(p=c[ut],v||(p.fa=!1)):(p=new Re(p,this.src,Y,!!A,j),p.fa=v,c.push(p)),p};function Ge(c,p){var v=p.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,p,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(A,j,1),Y&&(It(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Tn(c,p,v,A){for(var j=0;j<c.length;++j){var Y=c[j];if(!Y.da&&Y.listener==p&&Y.capture==!!v&&Y.ha==A)return j}return-1}var Je="closure_lm_"+(1e6*Math.random()|0),Bn={};function nr(c,p,v,A,j){if(Array.isArray(p)){for(var Y=0;Y<p.length;Y++)nr(c,p[Y],v,A,j);return null}return v=ns(v),c&&c[he]?c.K(p,v,y(A)?!!A.capture:!1,j):gn(c,p,v,!1,A,j)}function gn(c,p,v,A,j,Y){if(!p)throw Error("Invalid event type");var ut=y(j)?!!j.capture:!!j,kt=Gr(c);if(kt||(c[Je]=kt=new mn(c)),v=kt.add(p,v,A,ut,Y),v.proxy)return v;if(A=es(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)mt||(j=ut),j===void 0&&(j=!1),c.addEventListener(p.toString(),A,j);else if(c.attachEvent)c.attachEvent(jn(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function es(){function c(v){return p.call(c.src,c.listener,v)}const p=wi;return c}function Hr(c,p,v,A,j){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)Hr(c,p[Y],v,A,j);else A=y(A)?!!A.capture:!!A,v=ns(v),c&&c[he]?(c=c.i,p=String(p).toString(),p in c.g&&(Y=c.g[p],v=Tn(Y,v,A,j),-1<v&&(It(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[p],c.h--)))):c&&(c=Gr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Tn(p,v,A,j)),(v=-1<c?p[c]:null)&&pn(v))}function pn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[he])Ge(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(jn(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=Gr(p))?(Ge(v,c),v.h==0&&(v.src=null,p[Je]=null)):It(c)}}}function jn(c){return c in Bn?Bn[c]:Bn[c]="on"+c}function wi(c,p){if(c.da)c=!0;else{p=new At(p,this);var v=c.listener,A=c.ha||c.src;c.fa&&pn(c),c=v.call(A,p)}return c}function Gr(c){return c=c[Je],c instanceof mn?c:null}var Ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function ns(c){return typeof c=="function"?c:(c[Ri]||(c[Ri]=function(p){return c.handleEvent(p)}),c[Ri])}function ue(){lt.call(this),this.i=new mn(this),this.M=this,this.F=null}P(ue,lt),ue.prototype[he]=!0,ue.prototype.removeEventListener=function(c,p,v,A){Hr(this,c,p,v,A)};function Mt(c,p){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new it(p,c);else if(p instanceof it)p.target=p.target||c;else{var j=p;p=new it(A,c),O(p,j)}if(j=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ut=p.g=v[Y];j=Ce(ut,A,!0,p)&&j}if(ut=p.g=c,j=Ce(ut,A,!0,p)&&j,j=Ce(ut,A,!1,p)&&j,v)for(Y=0;Y<v.length;Y++)ut=p.g=v[Y],j=Ce(ut,A,!1,p)&&j}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],A=0;A<v.length;A++)It(v[A]);delete c.g[p],c.h--}}this.F=null},ue.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ue.prototype.L=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function Ce(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,Y=0;Y<p.length;++Y){var ut=p[Y];if(ut&&!ut.da&&ut.capture==v){var kt=ut.listener,Pe=ut.ha||ut.src;ut.fa&&Ge(c.i,ut),j=kt.call(Pe,A)!==!1&&j}}return j&&!A.defaultPrevented}function pe(c,p,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function ma(c){c.g=pe(()=>{c.g=null,c.i&&(c.i=!1,ma(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class qn extends lt{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ma(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(c){lt.call(this),this.h=c,this.g={}}P(gr,lt);var Fr=[];function Qr(c){ct(c.g,function(p,v){this.g.hasOwnProperty(v)&&pn(p)},c),c.g={}}gr.prototype.N=function(){gr.aa.N.call(this),Qr(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yn=m.JSON.stringify,Yr=m.JSON.parse,Xr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ci(){}Ci.prototype.h=null;function ga(c){return c.h||(c.h=c.i())}function pa(){}var rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ae(){it.call(this,"d")}P(ae,it);function Le(){it.call(this,"c")}P(Le,it);var ce={},Sn=null;function be(){return Sn=Sn||new ue}ce.La="serverreachability";function De(c){it.call(this,ce.La,c)}P(De,it);function Ue(c){const p=be();Mt(p,new De(p))}ce.STAT_EVENT="statevent";function ir(c,p){it.call(this,ce.STAT_EVENT,c),this.stat=p}P(ir,it);function Rt(c){const p=be();Mt(p,new ir(p,c))}ce.Ma="timingevent";function Wt(c,p){it.call(this,ce.Ma,c),this.size=p}P(Wt,it);function Ft(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function ar(c,p,v,A,j,Y){c.info(function(){if(c.g)if(Y)for(var ut="",kt=Y.split("&"),Pe=0;Pe<kt.length;Pe++){var Bt=kt[Pe].split("=");if(1<Bt.length){var Qe=Bt[0];Bt=Bt[1];var ze=Qe.split("_");ut=2<=ze.length&&ze[1]=="type"?ut+(Qe+"="+Bt+"&"):ut+(Qe+"=redacted&")}}else ut=null;else ut=Y;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+p+`
`+v+`
`+ut})}function Kr(c,p,v,A,j,Y,ut){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+p+`
`+v+`
`+Y+" "+ut})}function We(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+sr(c,v)+(A?" "+A:"")})}function pr(c,p){c.info(function(){return"TIMEOUT: "+p})}ye.prototype.info=function(){};function sr(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ut=1;ut<j.length;ut++)j[ut]=""}}}}return yn(v)}catch{return p}}var Di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yr;function vr(){}P(vr,Ci),vr.prototype.g=function(){return new XMLHttpRequest},vr.prototype.i=function(){return{}},yr=new vr;function vn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.R=A||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var gl={},rs={};function lr(c,p,v){c.L=1,c.v=ba(In(p)),c.m=v,c.P=!0,Zr(c,null)}function Zr(c,p){c.F=Date.now(),ya(c),c.A=In(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),bl(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Te,c.g=vu(c.j,v?p:null,!c.m),0<c.O&&(c.M=new qn(S(c.Y,c,c.g),c.O)),p=c.U,v=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Fr[0]=j.toString()),j=Fr);for(var Y=0;Y<j.length;Y++){var ut=nr(v,j[Y],A||p.handleEvent,!1,p.h||p);if(!ut)break;p.g[ut.key]=ut}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Ue(),ar(c.i,c.u,c.A,c.l,c.R,c.m)}vn.prototype.ca=function(c){c=c.target;const p=this.M;p&&Qn(c)==3?p.j():this.Y(c)},vn.prototype.Y=function(c){try{if(c==this.g)t:{const ze=Qn(this.g);var p=this.g.Ba();const ai=this.g.Z();if(!(3>ze)&&(ze!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||ze!=4||p==7||(p==8||0>=ai?Ue(3):Ue(2)),xi(this);var v=this.g.Z();this.X=v;e:if(ru(this)){var A=cu(this.g);c="";var j=A.length,Y=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),_r(this);var ut="";break e}this.h.i=new m.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(Y&&p==j-1)});A.length=0,this.h.g+=c,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=v==200,Kr(this.i,this.u,this.A,this.l,this.R,ze,v),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Pe=this.g;if((kt=Pe.g?Pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(kt)){var Bt=kt;break e}}Bt=null}if(v=Bt)We(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,v);else{this.o=!1,this.s=3,Rt(12),tn(this),_r(this);break t}}if(this.P){v=!0;let en;for(;!this.J&&this.C<ut.length;)if(en=iu(this,ut),en==rs){ze==4&&(this.s=4,Rt(14),v=!1),We(this.i,this.l,null,"[Incomplete Response]");break}else if(en==gl){this.s=4,Rt(15),We(this.i,this.l,ut,"[Invalid Chunk]"),v=!1;break}else We(this.i,this.l,en,null),va(this,en);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||ut.length!=0||this.h.h||(this.s=1,Rt(16),v=!1),this.o=this.o&&v,!v)We(this.i,this.l,ut,"[Invalid Chunked Response]"),tn(this),_r(this);else if(0<ut.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),xa(Qe),Qe.M=!0,Rt(11))}}else We(this.i,this.l,ut,null),va(this,ut);ze==4&&tn(this),this.o&&!this.J&&(ze==4?gu(this.j,this):(this.o=!1,ya(this)))}else Bf(this.g),v==400&&0<ut.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),tn(this),_r(this)}}}catch{}finally{}};function ru(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function iu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?rs:(v=Number(p.substring(v,A)),isNaN(v)?gl:(A+=1,A+v>p.length?rs:(p=p.slice(A,A+v),c.C=A+v,p)))}vn.prototype.cancel=function(){this.J=!0,tn(this)};function ya(c){c.S=Date.now()+c.I,au(c,c.I)}function au(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ft(S(c.ba,c),p)}function xi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}vn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pr(this.i,this.A),this.L!=2&&(Ue(),Rt(17)),tn(this),this.s=2,_r(this)):au(this,this.S-c)};function _r(c){c.j.G==0||c.J||gu(c.j,c)}function tn(c){xi(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Qr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function va(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||pl(v.h,c))){if(!c.K&&pl(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)gs(v),ds(v);else break t;Rl(v),Rt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ft(S(v.Za,v),6e3));if(1>=as(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ii(v,11)}else if((c.K||v.g==c)&&gs(v),!Q(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let Bt=j[p];if(v.T=Bt[0],Bt=Bt[1],v.G==2)if(Bt[0]=="c"){v.K=Bt[1],v.ia=Bt[2];const Qe=Bt[3];Qe!=null&&(v.la=Qe,v.j.info("VER="+v.la));const ze=Bt[4];ze!=null&&(v.Aa=ze,v.j.info("SVER="+v.Aa));const ai=Bt[5];ai!=null&&typeof ai=="number"&&0<ai&&(A=1.5*ai,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const en=c.g;if(en){const Rr=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var Y=A.h;Y.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ss(Y,Y.h),Y.h=null))}if(A.D){const Dl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Dl&&(A.ya=Dl,te(A.I,A.D,Dl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ut=c;if(A.qa=yu(A,A.J?A.ia:null,A.W),ut.K){_n(A.h,ut);var kt=ut,Pe=A.L;Pe&&(kt.I=Pe),kt.B&&(xi(kt),ya(kt)),A.g=ut}else du(A);0<v.i.length&&ms(v)}else Bt[0]!="stop"&&Bt[0]!="close"||ii(v,7);else v.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ii(v,7):Al(v):Bt[0]!="noop"&&v.l&&v.l.ta(Bt),v.v=0)}}Ue(4)}catch{}}var su=class{constructor(c,p){this.g=c,this.map=p}};function Jr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function is(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function as(c){return c.h?1:c.g?c.g.size:0}function pl(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ss(c,p){c.g?c.g.add(p):c.h=p}function _n(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Jr.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return B(c.i)}function Uf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,A=0;A<v;A++)p.push(c[A]);return p}p=[],v=0;for(A in c)p[v++]=c[A];return p}function ls(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const A in c)p[v++]=A;return p}}}function vl(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=ls(c),A=Uf(c),j=A.length,Y=0;Y<j;Y++)p.call(void 0,A[Y],v&&v[Y],c)}var _a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pf(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),j=null;if(0<=A){var Y=c[v].substring(0,A);j=c[v].substring(A+1)}else Y=c[v];p(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function xe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xe){this.h=c.h,Ea(this,c.j),this.o=c.o,this.g=c.g,Ni(this,c.s),this.l=c.l;var p=c.i,v=new ti;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Wr(this,v),this.m=c.m}else c&&(p=String(c).match(_a))?(this.h=!1,Ea(this,p[1]||"",!0),this.o=Hn(p[2]||""),this.g=Hn(p[3]||"",!0),Ni(this,p[4]),this.l=Hn(p[5]||"",!0),Wr(this,p[6]||"",!0),this.m=Hn(p[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}xe.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Ta(p,_l,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ta(p,_l,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ta(v,v.charAt(0)=="/"?zf:El,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ta(v,os)),c.join("")};function In(c){return new xe(c)}function Ea(c,p,v){c.j=v?Hn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ni(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Wr(c,p,v){p instanceof ti?(c.i=p,ou(c.i,c.h)):(v||(p=Ta(p,kf)),c.i=new ti(p,c.h))}function te(c,p,v){c.i.set(p,v)}function ba(c){return te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ta(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,lu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _l=/[#\/\?@]/g,El=/[#\?:]/g,zf=/[#\?]/g,kf=/[#\?@]/g,os=/#/g;function ti(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Gn(c){c.g||(c.g=new Map,c.h=0,c.i&&Pf(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=ti.prototype,i.add=function(c,p){Gn(this),this.i=null,c=Er(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function ei(c,p){Gn(c),p=Er(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ni(c,p){return Gn(c),p=Er(c,p),c.g.has(p)}i.forEach=function(c,p){Gn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(p,j,A,this)},this)},this)},i.na=function(){Gn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let A=0;A<p.length;A++){const j=c[A];for(let Y=0;Y<j.length;Y++)v.push(p[A])}return v},i.V=function(c){Gn(this);let p=[];if(typeof c=="string")ni(this,c)&&(p=p.concat(this.g.get(Er(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},i.set=function(c,p){return Gn(this),this.i=null,c=Er(this,c),ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function bl(c,p,v){ei(c,p),0<v.length&&(c.i=null,c.g.set(Er(c,p),B(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var A=p[v];const Y=encodeURIComponent(String(A)),ut=this.V(A);for(A=0;A<ut.length;A++){var j=Y;ut[A]!==""&&(j+="="+encodeURIComponent(String(ut[A]))),c.push(j)}}return this.i=c.join("&")};function Er(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ou(c,p){p&&!c.j&&(Gn(c),c.i=null,c.g.forEach(function(v,A){var j=A.toLowerCase();A!=j&&(ei(this,A),bl(this,j,v))},c)),c.j=p}function Sa(c,p){const v=new ye;if(m.Image){const A=new Image;A.onload=D(Fn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=D(Fn,v,"TestLoadImage: error",!1,p,A),A.onabort=D(Fn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=D(Fn,v,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function or(c,p){const v=new ye,A=new AbortController,j=setTimeout(()=>{A.abort(),Fn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(j),Y.ok?Fn(v,"TestPingServer: ok",!0,p):Fn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Fn(v,"TestPingServer: error",!1,p)})}function Fn(c,p,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Aa(){this.g=new Xr}function br(c,p,v){const A=v||"";try{vl(c,function(j,Y){let ut=j;y(j)&&(ut=yn(j)),p.push(A+Y+"="+encodeURIComponent(ut))})}catch(j){throw p.push(A+"type="+encodeURIComponent("_badmap")),j}}function Ii(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Ii,Ci),Ii.prototype.g=function(){return new ri(this.l,this.j)},Ii.prototype.i=(function(c){return function(){return c}})({});function ri(c,p){ue.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ri,ue),i=ri.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Sr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Tr(this):Sr(this),this.readyState==3&&Tl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},i.Qa=function(c){this.g&&(this.response=c,Tr(this))},i.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sr(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Sr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sl(c){let p="";return ct(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Fe(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Sl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):te(c,p,v))}function Yt(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Yt,ue);var us=/^https?$/i,wa=["POST","PUT"];i=Yt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yr.g(),this.v=this.o?ga(this.o):ga(yr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Y){uu(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(wa,p,void 0))||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ut]of v)this.g.setRequestHeader(Y,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ra(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){uu(this,Y)}};function uu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,cs(c),Ar(c)}function cs(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Mt(this,"complete"),Mt(this,"abort"),Ar(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),Yt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?fs(this):this.bb())},i.bb=function(){fs(this)};function fs(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Qn(c)!=4||c.Z()!=2)){if(c.u&&Qn(c)==4)pe(c.Ea,0,c);else if(Mt(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const ut=c.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=ut===0){var j=String(c.D).match(_a)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!us.test(j?j.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.m=6;try{var Y=2<Qn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",cs(c)}}finally{Ar(c)}}}}function Ar(c,p){if(c.g){Ra(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Mt(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ra(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Yr(p)}};function cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bf(c){const p={};c=(c.g&&2<=Qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Q(c[A]))continue;var v=M(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=p[j]||[];p[j]=Y,Y.push(v)}I(p,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function hs(c){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,c),this.cb=Ca("retryDelaySeedMs",1e4,c),this.Wa=Ca("forwardChannelMaxRetries",2,c),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Jr(c&&c.concurrentRequestLimit),this.Da=new Aa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=hs.prototype,i.la=8,i.G=1,i.connect=function(c,p,v,A){Rt(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=yu(this,null,this.W),ms(this)};function Al(c){if(fu(c),c.G==3){var p=c.U++,v=In(c.I);if(te(v,"SID",c.K),te(v,"RID",p),te(v,"TYPE","terminate"),Da(c,v),p=new vn(c,c.j,p),p.L=2,p.v=ba(In(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=vu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ya(p)}pu(c)}function ds(c){c.g&&(xa(c),c.g.cancel(),c.g=null)}function fu(c){ds(c),c.u&&(m.clearTimeout(c.u),c.u=null),gs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ms(c){if(!is(c.h)&&!c.s){c.s=!0;var p=c.Ga;st||L(),gt||(st(),gt=!0),Ct.add(p,c),c.B=0}}function jf(c,p){return as(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ft(S(c.Ga,c,p),Cl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new vn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=w(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=hu(this,j,p),v=In(this.I),te(v,"RID",c),te(v,"CVER",22),this.D&&te(v,"X-HTTP-Session-Id",this.D),Da(this,v),Y&&(this.O?p="headers="+encodeURIComponent(String(Sl(Y)))+"&"+p:this.m&&Fe(v,this.m,Y)),ss(this.h,j),this.Ua&&te(v,"TYPE","init"),this.P?(te(v,"$req",p),te(v,"SID","null"),j.T=!0,lr(j,v,null)):lr(j,v,p),this.G=2}}else this.G==3&&(c?wl(this,c):this.i.length==0||is(this.h)||wl(this))};function wl(c,p){var v;p?v=p.l:v=c.U++;const A=In(c.I);te(A,"SID",c.K),te(A,"RID",v),te(A,"AID",c.T),Da(c,A),c.m&&c.o&&Fe(A,c.m,c.o),v=new vn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=hu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ss(c.h,v),lr(v,A,p)}function Da(c,p){c.H&&ct(c.H,function(v,A){te(p,A,v)}),c.l&&vl({},function(v,A){te(p,A,v)})}function hu(c,p,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;t:{var j=c.i;let Y=-1;for(;;){const ut=["count="+v];Y==-1?0<v?(Y=j[0].g,ut.push("ofs="+Y)):Y=0:ut.push("ofs="+Y);let kt=!0;for(let Pe=0;Pe<v;Pe++){let Bt=j[Pe].g;const Qe=j[Pe].map;if(Bt-=Y,0>Bt)Y=Math.max(0,j[Pe].g-100),kt=!1;else try{br(Qe,ut,"req"+Bt+"_")}catch{A&&A(Qe)}}if(kt){A=ut.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,A}function du(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;st||L(),gt||(st(),gt=!0),Ct.add(p,c),c.v=0}}function Rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ft(S(c.Fa,c),Cl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ft(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),ds(this),mu(this))};function xa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function mu(c){c.g=new vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=In(c.qa);te(p,"RID","rpc"),te(p,"SID",c.K),te(p,"AID",c.T),te(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&te(p,"TO",c.ja),te(p,"TYPE","xmlhttp"),Da(c,p),c.m&&c.o&&Fe(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ba(In(p)),v.m=null,v.P=!0,Zr(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ds(this),Rl(this),Rt(19))};function gs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function gu(c,p){var v=null;if(c.g==p){gs(c),xa(c),c.g=null;var A=2}else if(pl(c.h,p))v=p.D,_n(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;A=be(),Mt(A,new Wt(A,v)),ms(c)}else du(c);else if(j=p.s,j==3||j==0&&0<p.X||!(A==1&&jf(c,p)||A==2&&Rl(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),j){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function Cl(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function ii(c,p){if(c.j.info("Error code "+p),p==2){var v=S(c.fb,c),A=c.Xa;const j=!A;A=new xe(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ea(A,"https"),ba(A),j?Sa(A.toString(),v):or(A.toString(),v)}else Rt(2);c.G=0,c.l&&c.l.sa(p),pu(c),fu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function pu(c){if(c.G=0,c.ka=[],c.l){const p=yl(c.h);(p.length!=0||c.i.length!=0)&&(V(c.ka,p),V(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function yu(c,p,v){var A=v instanceof xe?In(v):new xe(v);if(A.g!="")p&&(A.g=p+"."+A.g),Ni(A,A.s);else{var j=m.location;A=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var Y=new xe(null);A&&Ea(Y,A),p&&(Y.g=p),j&&Ni(Y,j),v&&(Y.l=v),A=Y}return v=c.D,p=c.ya,v&&p&&te(A,v,p),te(A,"VER",c.la),Da(c,A),A}function vu(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Yt(new Ii({eb:v})):new Yt(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}i=_u.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ps(){}ps.prototype.g=function(c,p){return new En(c,p)};function En(c,p){ue.call(this),this.g=new hs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!Q(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!Q(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new wr(this)}P(En,ue),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Al(this.g)},En.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=yn(c),c=v);p.i.push(new su(p.Ya++,c)),p.G==3&&ms(p)},En.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,En.aa.N.call(this)};function Eu(c){ae.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}P(Eu,ae);function bu(){Le.call(this),this.status=1}P(bu,Le);function wr(c){this.g=c}P(wr,_u),wr.prototype.ua=function(){Mt(this.g,"a")},wr.prototype.ta=function(c){Mt(this.g,new Eu(c))},wr.prototype.sa=function(c){Mt(this.g,new bu)},wr.prototype.ra=function(){Mt(this.g,"b")},ps.prototype.createWebChannel=ps.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,nE=function(){return new ps},eE=function(){return be()},tE=ce,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,Oc=Di,$r.COMPLETE="complete",W0=$r,pa.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",ue.prototype.listen=ue.prototype.K,_o=pa,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,J0=Yt}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const u_="@firebase/firestore",c_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new F0("@firebase/firestore");function Fs(){return Xa.logLevel}function ft(i,...t){if(Xa.logLevel<=Ht.DEBUG){const r=t.map(zm);Xa.debug(`Firestore (${ol}): ${i}`,...r)}}function Si(i,...t){if(Xa.logLevel<=Ht.ERROR){const r=t.map(zm);Xa.error(`Firestore (${ol}): ${i}`,...r)}}function tl(i,...t){if(Xa.logLevel<=Ht.WARN){const r=t.map(zm);Xa.warn(`Firestore (${ol}): ${i}`,...r)}}function zm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,rE(i,a,r)}function rE(i,t,r){let a=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw Si(a),new Error(a)}function Xt(i,t,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,i||rE(t,l,a)}function wt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends ll{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Jw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(hn.UNAUTHENTICATED)))}shutdown(){}}class Ww{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class tR{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Xt(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,r(g)):Promise.resolve();let u=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ei,t.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},m=g=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ei)}}),0),h()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new iE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new hn(t)}}class eR{constructor(t,r,a){this.P=t,this.T=r,this.I=a,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nR{constructor(t,r,a){this.P=t,this.T=r,this.I=a}getToken(){return Promise.resolve(new eR(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class f_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rR{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Xt(this.o===void 0,3512);const a=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const l=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new f_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(Xt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new f_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=iR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<r&&(a+=t.charAt(l[u]%62))}return a}}function Lt(i,t){return i<t?-1:i>t?1:0}function om(i,t){const r=Math.min(i.length,t.length);for(let a=0;a<r;a++){const l=i.charAt(a),u=t.charAt(a);if(l!==u)return Gd(l)===Gd(u)?Lt(l,u):Gd(l)?1:-1}return Lt(i.length,t.length)}const aR=55296,sR=57343;function Gd(i){const t=i.charCodeAt(0);return t>=aR&&t<=sR}function el(i,t,r){return i.length===t.length&&i.every(((a,l)=>r(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="__name__";class Vr{constructor(t,r,a){r===void 0?r=0:r>t.length&&bt(637,{offset:r,range:t.length}),a===void 0?a=t.length-r:a>t.length-r&&bt(1746,{length:a,range:t.length-r}),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return Vr.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Vr?t.forEach((a=>{r.push(a)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let l=0;l<a;l++){const u=Vr.compareSegments(t.get(l),r.get(l));if(u!==0)return u}return Lt(t.length,r.length)}static compareSegments(t,r){const a=Vr.isNumericId(t),l=Vr.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?Vr.extractNumericId(t).compare(Vr.extractNumericId(r)):om(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ia.fromString(t.substring(4,t.length-2))}}class le extends Vr{construct(t,r,a){return new le(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new dt(rt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((l=>l.length>0)))}return new le(r)}static emptyPath(){return new le([])}}const lR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Vr{construct(t,r,a){return new ln(t,r,a)}static isValidIdentifier(t){return lR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h_}static keyField(){return new ln([h_])}static fromServerFormat(t){const r=[];let a="",l=0;const u=()=>{if(a.length===0)throw new dt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new dt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new dt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(a+=m,l++):(u(),l++)}if(u(),h)throw new dt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(r)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(le.fromString(t))}static fromName(t){return new vt(le.fromString(t).popFirst(5))}static empty(){return new vt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return le.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(i,t,r){if(!r)throw new dt(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function oR(i,t,r,a){if(t===!0&&a===!0)throw new dt(rt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function d_(i){if(!vt.isDocumentKey(i))throw new dt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function m_(i){if(vt.isDocumentKey(i))throw new dt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Bm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":bt(12329,{type:typeof i})}function dr(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new dt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Bm(i);throw new dt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(i,t){const r={typeString:i};return t&&(r.value=t),r}function Xo(i,t){if(!sE(i))throw new dt(rt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in t)if(t[a]){const l=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in i)){r=`JSON missing required field: '${a}'`;break}const h=i[a];if(l&&typeof h!==l){r=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${a}' field to equal '${u.value}'`;break}}if(r)throw new dt(rt.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-62135596800,p_=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*p_);return new oe(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<g_)throw new dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xo(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-g_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Oe("string",oe._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new oe(0,0))}static max(){return new St(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=-1;function uR(i,t){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new oe(r+1,0):new oe(r,a));return new sa(l,vt.empty(),t)}function cR(i){return new sa(i.readTime,i.key,Lo)}class sa{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new sa(St.min(),vt.empty(),Lo)}static max(){return new sa(St.max(),vt.empty(),Lo)}}function fR(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=vt.comparator(i.documentKey,t.documentKey),r!==0?r:Lt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(i){if(i.code!==rt.FAILED_PRECONDITION||i.message!==hR)throw i;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new et(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(r,u).next(a,l)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):et.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):et.reject(r)}static resolve(t){return new et(((r,a)=>{r(t)}))}static reject(t){return new et(((r,a)=>{a(t)}))}static waitFor(t){return new et(((r,a)=>{let l=0,u=0,h=!1;t.forEach((m=>{++l,m.next((()=>{++u,h&&u===l&&r()}),(g=>a(g)))})),h=!0,u===l&&r()}))}static or(t){let r=et.resolve(!1);for(const a of t)r=r.next((l=>l?et.resolve(l):a()));return r}static forEach(t,r){const a=[];return t.forEach(((l,u)=>{a.push(r.call(this,l,u))})),this.waitFor(a)}static mapArray(t,r){return new et(((a,l)=>{const u=t.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;r(t[y]).next((E=>{h[y]=E,++m,m===u&&a(h)}),(E=>l(E)))}}))}static doWhile(t,r){return new et(((a,l)=>{const u=()=>{t()===!0?r().next((()=>{u()}),l):a()};u()}))}}function mR(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function cl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>r.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}df.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=-1;function mf(i){return i==null}function Yc(i){return i===0&&1/i==-1/0}function gR(i){return typeof i=="number"&&Number.isInteger(i)&&!Yc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="";function pR(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=y_(t)),t=yR(i.get(r),t);return y_(t)}function yR(i,t){let r=t;const a=i.length;for(let l=0;l<a;l++){const u=i.charAt(l);switch(u){case"\0":r+="";break;case lE:r+="";break;default:r+=u}}return r}function y_(i){return i+lE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function ha(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function oE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,r){this.comparator=t,this.root=r||sn.EMPTY}insert(t,r){return new ge(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,a)=>(t(r,a),!1)))}toString(){const t=[];return this.inorderTraversal(((r,a)=>(t.push(`${r}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,r,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?a(t.key,r):1,r&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,r,a,l,u){this.key=t,this.value=r,this.color=a??sn.RED,this.left=l??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,l,u){return new sn(t??this.key,r??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,r,a),null):u===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return sn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,r,a,l,u){return this}insert(t,r,a){return new sn(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,a)=>(t(r),!1)))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(t){return new __(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((a=>{r=r.add(a)})),r}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new He(this.comparator);return r.data=t,r}}class __{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new kn([])}unionWith(t){let r=new He(ln.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new kn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return el(this.fields,t.fields,((r,a)=>r.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uE("Invalid base64 string: "+u):u}})(t);return new on(r)}static fromUint8Array(t){const r=(function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u})(t);return new on(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}on.EMPTY_BYTE_STRING=new on("");const vR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(i){if(Xt(!!i,39018),typeof i=="string"){let t=0;const r=vR.exec(i);if(Xt(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:we(i.seconds),nanos:we(i.nanos)}}function we(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function oa(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="server_timestamp",fE="__type__",hE="__previous_value__",dE="__local_write_time__";function qm(i){return(i?.mapValue?.fields||{})[fE]?.stringValue===cE}function gf(i){const t=i.mapValue.fields[hE];return qm(t)?gf(t):t}function Uo(i){const t=la(i.mapValue.fields[dE].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,r,a,l,u,h,m,g,y,E){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Xc="(default)";class Po{constructor(t,r){this.projectId=t,this.database=r||Xc}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof Po&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__type__",ER="__max__",wc={mapValue:{}},gE="__vector__",Kc="value";function ua(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qm(i)?4:TR(i)?9007199254740991:bR(i)?10:11:bt(28295,{value:i})}function zr(i,t){if(i===t)return!0;const r=ua(i);if(r!==ua(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Uo(i).isEqual(Uo(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=la(l.timestampValue),m=la(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(l,u){return oa(l.bytesValue).isEqual(oa(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(l,u){return we(l.geoPointValue.latitude)===we(u.geoPointValue.latitude)&&we(l.geoPointValue.longitude)===we(u.geoPointValue.longitude)})(i,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return we(l.integerValue)===we(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=we(l.doubleValue),m=we(u.doubleValue);return h===m?Yc(h)===Yc(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return el(i.arrayValue.values||[],t.arrayValue.values||[],zr);case 10:case 11:return(function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(v_(h)!==v_(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!zr(h[g],m[g])))return!1;return!0})(i,t);default:return bt(52216,{left:i})}}function zo(i,t){return(i.values||[]).find((r=>zr(r,t)))!==void 0}function nl(i,t){if(i===t)return 0;const r=ua(i),a=ua(t);if(r!==a)return Lt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=we(u.integerValue||u.doubleValue),g=we(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,t);case 3:return E_(i.timestampValue,t.timestampValue);case 4:return E_(Uo(i),Uo(t));case 5:return om(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=oa(u),g=oa(h);return m.compareTo(g)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Lt(m[y],g[y]);if(E!==0)return E}return Lt(m.length,g.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Lt(we(u.latitude),we(h.latitude));return m!==0?m:Lt(we(u.longitude),we(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return b_(i.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},y=m[Kc]?.arrayValue,E=g[Kc]?.arrayValue,T=Lt(y?.values?.length||0,E?.values?.length||0);return T!==0?T:b_(y,E)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===wc.mapValue&&h===wc.mapValue)return 0;if(u===wc.mapValue)return 1;if(h===wc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const S=om(g[T],E[T]);if(S!==0)return S;const D=nl(m[g[T]],y[E[T]]);if(D!==0)return D}return Lt(g.length,E.length)})(i.mapValue,t.mapValue);default:throw bt(23264,{he:r})}}function E_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Lt(i,t);const r=la(i),a=la(t),l=Lt(r.seconds,a.seconds);return l!==0?l:Lt(r.nanos,a.nanos)}function b_(i,t){const r=i.values||[],a=t.values||[];for(let l=0;l<r.length&&l<a.length;++l){const u=nl(r[l],a[l]);if(u)return u}return Lt(r.length,a.length)}function rl(i){return um(i)}function um(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const a=la(r);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return oa(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return vt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let a="[",l=!0;for(const u of r.values||[])l?l=!1:a+=",",a+=um(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(r){const a=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const h of a)u?u=!1:l+=",",l+=`${h}:${um(r.fields[h])}`;return l+"}"})(i.mapValue):bt(61005,{value:i})}function Mc(i){switch(ua(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gf(i);return t?16+Mc(t):16;case 5:return 2*i.stringValue.length;case 6:return oa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+Mc(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return ha(a.fields,((u,h)=>{l+=u.length+Mc(h)})),l})(i.mapValue);default:throw bt(13486,{value:i})}}function cm(i){return!!i&&"integerValue"in i}function Hm(i){return!!i&&"arrayValue"in i}function T_(i){return!!i&&"nullValue"in i}function S_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Lc(i){return!!i&&"mapValue"in i}function bR(i){return(i?.mapValue?.fields||{})[mE]?.stringValue===gE}function Ao(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return ha(i.mapValue.fields,((r,a)=>t.mapValue.fields[r]=Ao(a))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ao(i.arrayValue.values[r]);return t}return{...i}}function TR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!Lc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ao(r)}setAll(t){let r=ln.emptyPath(),a={},l=[];t.forEach(((h,m)=>{if(!r.isImmediateParentOf(m)){const g=this.getFieldsMap(r);this.applyChanges(g,a,l),a={},l=[],r=m.popLast()}h?a[m.lastSegment()]=Ao(h):l.push(m.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,a,l)}delete(t){const r=this.field(t.popLast());Lc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return zr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=r.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,a){ha(r,((l,u)=>t[l]=u));for(const l of a)delete t[l]}clone(){return new Dn(Ao(this.value))}}function pE(i){const t=[];return ha(i.fields,((r,a)=>{const l=new ln([r]);if(Lc(a)){const u=pE(a.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)})),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,r,a,l,u,h,m){this.key=t,this.documentType=r,this.version=a,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new dn(t,0,St.min(),St.min(),St.min(),Dn.empty(),0)}static newFoundDocument(t,r,a,l){return new dn(t,1,r,St.min(),a,l,0)}static newNoDocument(t,r){return new dn(t,2,r,St.min(),St.min(),Dn.empty(),0)}static newUnknownDocument(t,r){return new dn(t,3,r,St.min(),St.min(),Dn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,r){this.position=t,this.inclusive=r}}function A_(i,t,r){let a=0;for(let l=0;l<i.position.length;l++){const u=t[l],h=i.position[l];if(u.field.isKeyField()?a=vt.comparator(vt.fromName(h.referenceValue),r.key):a=nl(h,r.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function w_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!zr(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,r="asc"){this.field=t,this.dir=r}}function SR(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class qe extends yE{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new wR(t,r,a):r==="array-contains"?new DR(t,a):r==="in"?new xR(t,a):r==="not-in"?new NR(t,a):r==="array-contains-any"?new IR(t,a):new qe(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new RR(t,a):new CR(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(nl(r,this.value)):r!==null&&ua(this.value)===ua(r)&&this.matchesComparison(nl(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends yE{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new kr(t,r)}matches(t){return vE(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vE(i){return i.op==="and"}function _E(i){return AR(i)&&vE(i)}function AR(i){for(const t of i.filters)if(t instanceof kr)return!1;return!0}function fm(i){if(i instanceof qe)return i.field.canonicalString()+i.op.toString()+rl(i.value);if(_E(i))return i.filters.map((t=>fm(t))).join(",");{const t=i.filters.map((r=>fm(r))).join(",");return`${i.op}(${t})`}}function EE(i,t){return i instanceof qe?(function(a,l){return l instanceof qe&&a.op===l.op&&a.field.isEqual(l.field)&&zr(a.value,l.value)})(i,t):i instanceof kr?(function(a,l){return l instanceof kr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,h,m)=>u&&EE(h,l.filters[m])),!0):!1})(i,t):void bt(19439)}function bE(i){return i instanceof qe?(function(r){return`${r.field.canonicalString()} ${r.op} ${rl(r.value)}`})(i):i instanceof kr?(function(r){return r.op.toString()+" {"+r.getFilters().map(bE).join(" ,")+"}"})(i):"Filter"}class wR extends qe{constructor(t,r,a){super(t,r,a),this.key=vt.fromName(a.referenceValue)}matches(t){const r=vt.comparator(t.key,this.key);return this.matchesComparison(r)}}class RR extends qe{constructor(t,r){super(t,"in",r),this.keys=TE("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class CR extends qe{constructor(t,r){super(t,"not-in",r),this.keys=TE("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function TE(i,t){return(t.arrayValue?.values||[]).map((r=>vt.fromName(r.referenceValue)))}class DR extends qe{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Hm(r)&&zo(r.arrayValue,this.value)}}class xR extends qe{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&zo(this.value.arrayValue,r)}}class NR extends qe{constructor(t,r){super(t,"not-in",r)}matches(t){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!zo(this.value.arrayValue,r)}}class IR extends qe{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Hm(r)||!r.arrayValue.values)&&r.arrayValue.values.some((a=>zo(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,r=null,a=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function R_(i,t=null,r=[],a=[],l=null,u=null,h=null){return new VR(i,t,r,a,l,u,h)}function Gm(i){const t=wt(i);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((a=>fm(a))).join(","),r+="|ob:",r+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),mf(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>rl(a))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>rl(a))).join(",")),t.Te=r}return t.Te}function Fm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!SR(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!EE(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!w_(i.startAt,t.startAt)&&w_(i.endAt,t.endAt)}function hm(i){return vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,r=null,a=[],l=[],u=null,h="F",m=null,g=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OR(i,t,r,a,l,u,h,m){return new pf(i,t,r,a,l,u,h,m)}function Qm(i){return new pf(i)}function C_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function MR(i){return i.collectionGroup!==null}function wo(i){const t=wt(i);if(t.Ie===null){t.Ie=[];const r=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),r.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new He(ln.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{r.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Zc(u,a))})),r.has(ln.keyField().canonicalString())||t.Ie.push(new Zc(ln.keyField(),a))}return t.Ie}function Or(i){const t=wt(i);return t.Ee||(t.Ee=LR(t,wo(i))),t.Ee}function LR(i,t){if(i.limitType==="F")return R_(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Zc(l.field,u)}));const r=i.endAt?new $c(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new $c(i.startAt.position,i.startAt.inclusive):null;return R_(i.path,i.collectionGroup,t,i.filters,i.limit,r,a)}}function dm(i,t,r){return new pf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function yf(i,t){return Fm(Or(i),Or(t))&&i.limitType===t.limitType}function SE(i){return`${Gm(Or(i))}|lt:${i.limitType}`}function Qs(i){return`Query(target=${(function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map((l=>bE(l))).join(", ")}]`),mf(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map((l=>rl(l))).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map((l=>rl(l))).join(",")),`Target(${a})`})(Or(i))}; limitType=${i.limitType})`}function vf(i,t){return t.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):vt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,t)&&(function(a,l){for(const u of wo(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(i,t)&&(function(a,l){return!(a.startAt&&!(function(h,m,g){const y=A_(h,m,g);return h.inclusive?y<=0:y<0})(a.startAt,wo(a),l)||a.endAt&&!(function(h,m,g){const y=A_(h,m,g);return h.inclusive?y>=0:y>0})(a.endAt,wo(a),l))})(i,t)}function UR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function AE(i){return(t,r)=>{let a=!1;for(const l of wo(i)){const u=PR(l,t,r);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function PR(i,t,r){const a=i.field.isKeyField()?vt.comparator(t.key,r.key):(function(u,h,m){const g=h.data.field(u),y=m.data.field(u);return g!==null&&y!==null?nl(g,y):bt(42886)})(i.field,t,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return bt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ha(this.inner,((r,a)=>{for(const[l,u]of a)t(l,u)}))}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new ge(vt.comparator);function Ai(){return zR}const wE=new ge(vt.comparator);function Eo(...i){let t=wE;for(const r of i)t=t.insert(r.key,r);return t}function RE(i){let t=wE;return i.forEach(((r,a)=>t=t.insert(r,a.overlayedDocument))),t}function Qa(){return Ro()}function CE(){return Ro()}function Ro(){return new Ja((i=>i.toString()),((i,t)=>i.isEqual(t)))}const kR=new ge(vt.comparator),BR=new He(vt.comparator);function Ut(...i){let t=BR;for(const r of i)t=t.add(r);return t}const jR=new He(Lt);function qR(){return jR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function DE(i){return{integerValue:""+i}}function HR(i,t){return gR(t)?DE(t):Ym(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function GR(i,t,r){return i instanceof Jc?(function(l,u){const h={fields:{[fE]:{stringValue:cE},[dE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&qm(u)&&(u=gf(u)),u&&(h.fields[hE]=u),{mapValue:h}})(r,t):i instanceof ko?NE(i,t):i instanceof Bo?IE(i,t):(function(l,u){const h=xE(l,u),m=D_(h)+D_(l.Ae);return cm(h)&&cm(l.Ae)?DE(m):Ym(l.serializer,m)})(i,t)}function FR(i,t,r){return i instanceof ko?NE(i,t):i instanceof Bo?IE(i,t):r}function xE(i,t){return i instanceof Wc?(function(a){return cm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class Jc extends _f{}class ko extends _f{constructor(t){super(),this.elements=t}}function NE(i,t){const r=VE(t);for(const a of i.elements)r.some((l=>zr(l,a)))||r.push(a);return{arrayValue:{values:r}}}class Bo extends _f{constructor(t){super(),this.elements=t}}function IE(i,t){let r=VE(t);for(const a of i.elements)r=r.filter((l=>!zr(l,a)));return{arrayValue:{values:r}}}class Wc extends _f{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function D_(i){return we(i.integerValue||i.doubleValue)}function VE(i){return Hm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function QR(i,t){return i.field.isEqual(t.field)&&(function(a,l){return a instanceof ko&&l instanceof ko||a instanceof Bo&&l instanceof Bo?el(a.elements,l.elements,zr):a instanceof Wc&&l instanceof Wc?zr(a.Ae,l.Ae):a instanceof Jc&&l instanceof Jc})(i.transform,t.transform)}class YR{constructor(t,r){this.version=t,this.transformResults=r}}class xn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new xn}static exists(t){return new xn(void 0,t)}static updateTime(t){return new xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Ef{}function OE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new bf(i.key,xn.none()):new Ko(i.key,i.data,xn.none());{const r=i.data,a=Dn.empty();let l=new He(ln.comparator);for(let u of t.fields)if(!l.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?a.delete(u):a.set(u,h),l=l.add(u)}return new da(i.key,a,new kn(l.toArray()),xn.none())}}function XR(i,t,r){i instanceof Ko?(function(l,u,h){const m=l.value.clone(),g=N_(l.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,r):i instanceof da?(function(l,u,h){if(!Uc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=N_(l.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(ME(l)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,t,r):(function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,r)}function Co(i,t,r,a){return i instanceof Ko?(function(u,h,m,g){if(!Uc(u.precondition,h))return m;const y=u.value.clone(),E=I_(u.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,t,r,a):i instanceof da?(function(u,h,m,g){if(!Uc(u.precondition,h))return m;const y=I_(u.fieldTransforms,g,h),E=h.data;return E.setAll(ME(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,r,a):(function(u,h,m){return Uc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,r)}function KR(i,t){let r=null;for(const a of i.fieldTransforms){const l=t.data.field(a.field),u=xE(a.transform,l||null);u!=null&&(r===null&&(r=Dn.empty()),r.set(a.field,u))}return r||null}function x_(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&el(a,l,((u,h)=>QR(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Ko extends Ef{constructor(t,r,a,l=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class da extends Ef{constructor(t,r,a,l,u=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ME(i){const t=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const a=i.data.field(r);t.set(r,a)}})),t}function N_(i,t,r){const a=new Map;Xt(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let l=0;l<r.length;l++){const u=i[l],h=u.transform,m=t.data.field(u.field);a.set(u.field,FR(h,m,r[l]))}return a}function I_(i,t,r){const a=new Map;for(const l of i){const u=l.transform,h=r.data.field(l.field);a.set(l.field,GR(u,h,t))}return a}class bf extends Ef{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $R extends Ef{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,r,a,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&XR(u,t,a[l])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Co(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Co(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=CE();return this.mutations.forEach((l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=r.has(l.key)?null:m;const g=OE(h,m);g!==null&&a.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&el(this.mutations,t.mutations,((r,a)=>x_(r,a)))&&el(this.baseMutations,t.baseMutations,((r,a)=>x_(r,a)))}}class Xm{constructor(t,r,a,l){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(t,r,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return kR})();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,a[h].version);return new Xm(t,r,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,qt;function t2(i){switch(i){case rt.OK:return bt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return bt(15467,{code:i})}}function LE(i){if(i===void 0)return Si("GRPC error has no .code"),rt.UNKNOWN;switch(i){case Ve.OK:return rt.OK;case Ve.CANCELLED:return rt.CANCELLED;case Ve.UNKNOWN:return rt.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return rt.INTERNAL;case Ve.UNAVAILABLE:return rt.UNAVAILABLE;case Ve.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ve.NOT_FOUND:return rt.NOT_FOUND;case Ve.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ve.ABORTED:return rt.ABORTED;case Ve.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ve.DATA_LOSS:return rt.DATA_LOSS;default:return bt(39323,{code:i})}}(qt=Ve||(Ve={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new ia([4294967295,4294967295],0);function V_(i){const t=e2().encode(i),r=new Z0;return r.update(t),new Uint8Array(r.digest())}function O_(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ia([r,a],0),new ia([l,u],0)]}class Km{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new bo(`Invalid padding: ${r}`);if(a<0)throw new bo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new bo(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=ia.fromNumber(this.ge)}ye(t,r,a){let l=t.add(r.multiply(ia.fromNumber(a)));return l.compare(n2)===1&&(l=new ia([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=V_(t),[a,l]=O_(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);if(!this.we(h))return!1}return!0}static create(t,r,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Km(u,l,r);return a.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const r=V_(t),[a,l]=O_(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);this.Se(h)}}Se(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,r,a,l,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const l=new Map;return l.set(t,$o.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new Tf(St.min(),l,new ge(Lt),Ai(),Ut())}}class $o{constructor(t,r,a,l,u){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new $o(a,r,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,r,a,l){this.be=t,this.removedTargetIds=r,this.key=a,this.De=l}}class UE{constructor(t,r){this.targetId=t,this.Ce=r}}class PE{constructor(t,r,a=on.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=l}}class M_{constructor(){this.ve=0,this.Fe=L_(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),r=Ut(),a=Ut();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:bt(38017,{changeType:u})}})),new $o(this.Me,this.xe,t,r,a)}qe(){this.Oe=!1,this.Fe=L_()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class r2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ai(),this.Je=Rc(),this.He=Rc(),this.Ye=new ge(Lt)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const a=this.nt(r);switch(t.state){case 0:this.rt(r)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),a.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((a,l)=>{this.rt(l)&&r(l)}))}st(t){const r=t.targetId,a=t.Ce.count,l=this.ot(r);if(l){const u=l.target;if(hm(u))if(a===0){const h=new vt(u.path);this.et(r,h,dn.newNoDocument(h,St.min()))}else Xt(a===1,20013,{expectedCount:a});else{const h=this._t(r);if(h!==a){const m=this.ut(t),g=m?this.ct(m,t,h):1;if(g!==0){this.it(r);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,y)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=r;let h,m;try{h=oa(a).toUint8Array()}catch(g){if(g instanceof uE)return tl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Km(h,l,u)}catch(g){return tl(g instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,r,a){return r.Ce.count===a-this.Pt(t,r.targetId)?0:2}Pt(t,r){const a=this.Ge.getRemoteKeysForTarget(r);let l=0;return a.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(r,u,null),l++)})),l}Tt(t){const r=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&hm(m.target)){const g=new vt(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,dn.newNoDocument(g,t))}u.Be&&(r.set(h,u.ke()),u.qe())}}));let a=Ut();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const l=new Tf(t,r,this.Ye,this.je,a);return this.je=Ai(),this.Je=Rc(),this.He=Rc(),this.Ye=new ge(Lt),l}Xe(t,r){if(!this.rt(t))return;const a=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,a),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),a&&(this.je=this.je.insert(r,a))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new M_,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new He(Lt),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new He(Lt),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||ft("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new M_),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function Rc(){return new ge(vt.comparator)}function L_(){return new ge(vt.comparator)}const i2={asc:"ASCENDING",desc:"DESCENDING"},a2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s2={and:"AND",or:"OR"};class l2{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function mm(i,t){return i.useProto3Json||mf(t)?t:{value:t}}function tf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function o2(i,t){return tf(i,t.toTimestamp())}function Mr(i){return Xt(!!i,49232),St.fromTimestamp((function(r){const a=la(r);return new oe(a.seconds,a.nanos)})(i))}function $m(i,t){return gm(i,t).canonicalString()}function gm(i,t){const r=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(i).child("documents");return t===void 0?r:r.child(t)}function kE(i){const t=le.fromString(i);return Xt(GE(t),10190,{key:t.toString()}),t}function pm(i,t){return $m(i.databaseId,t.path)}function Fd(i,t){const r=kE(t);if(r.get(1)!==i.databaseId.projectId)throw new dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new vt(jE(r))}function BE(i,t){return $m(i.databaseId,t)}function u2(i){const t=kE(i);return t.length===4?le.emptyPath():jE(t)}function ym(i){return new le(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function jE(i){return Xt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function U_(i,t,r){return{name:pm(i,t),fields:r.value.mapValue.fields}}function c2(i,t){let r;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:bt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),on.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),on.fromUint8Array(E||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(y){const E=y.code===void 0?rt.UNKNOWN:LE(y.code);return new dt(E,y.message||"")})(h);r=new PE(a,l,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Fd(i,a.document.name),u=Mr(a.document.updateTime),h=a.document.createTime?Mr(a.document.createTime):St.min(),m=new Dn({mapValue:{fields:a.document.fields}}),g=dn.newFoundDocument(l,u,h,m),y=a.targetIds||[],E=a.removedTargetIds||[];r=new Pc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Fd(i,a.document),u=a.readTime?Mr(a.readTime):St.min(),h=dn.newNoDocument(l,u),m=a.removedTargetIds||[];r=new Pc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Fd(i,a.document),u=a.removedTargetIds||[];r=new Pc([],u,l,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,h=new WR(l,u),m=a.targetId;r=new UE(m,h)}}return r}function f2(i,t){let r;if(t instanceof Ko)r={update:U_(i,t.key,t.value)};else if(t instanceof bf)r={delete:pm(i,t.key)};else if(t instanceof da)r={update:U_(i,t.key,t.data),updateMask:E2(t.fieldMask)};else{if(!(t instanceof $R))return bt(16599,{Vt:t.type});r={verify:pm(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((a=>(function(u,h){const m=h.transform;if(m instanceof Jc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ko)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Bo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw bt(20930,{transform:h.transform})})(0,a)))),t.precondition.isNone||(r.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:o2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(i,t.precondition)),r}function h2(i,t){return i&&i.length>0?(Xt(t!==void 0,14353),i.map((r=>(function(l,u){let h=l.updateTime?Mr(l.updateTime):Mr(u);return h.isEqual(St.min())&&(h=Mr(u)),new YR(h,l.transformResults||[])})(r,t)))):[]}function d2(i,t){return{documents:[BE(i,t.path)]}}function m2(i,t){const r={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=BE(i,l);const u=(function(y){if(y.length!==0)return HE(kr.create(y,"and"))})(t.filters);u&&(r.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:Ys(S.field),direction:y2(S.dir)}})(E)))})(t.orderBy);h&&(r.structuredQuery.orderBy=h);const m=mm(i,t.limit);return m!==null&&(r.structuredQuery.limit=m),t.startAt&&(r.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:r,parent:l}}function g2(i){let t=u2(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const E=r.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];r.where&&(u=(function(T){const S=qE(T);return S instanceof kr&&_E(S)?S.getFilters():[S]})(r.where));let h=[];r.orderBy&&(h=(function(T){return T.map((S=>(function(P){return new Zc(Xs(P.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(r.orderBy));let m=null;r.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,mf(S)?null:S})(r.limit));let g=null;r.startAt&&(g=(function(T){const S=!!T.before,D=T.values||[];return new $c(D,S)})(r.startAt));let y=null;return r.endAt&&(y=(function(T){const S=!T.before,D=T.values||[];return new $c(D,S)})(r.endAt)),OR(t,l,h,u,m,"F",g,y)}function p2(i,t){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:l})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function qE(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Xs(r.unaryFilter.field);return qe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Xs(r.unaryFilter.field);return qe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xs(r.unaryFilter.field);return qe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Xs(r.unaryFilter.field);return qe.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(i):i.fieldFilter!==void 0?(function(r){return qe.create(Xs(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return kr.create(r.compositeFilter.filters.map((a=>qE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(r.compositeFilter.op))})(i):bt(30097,{filter:i})}function y2(i){return i2[i]}function v2(i){return a2[i]}function _2(i){return s2[i]}function Ys(i){return{fieldPath:i.canonicalString()}}function Xs(i){return ln.fromServerFormat(i.fieldPath)}function HE(i){return i instanceof qe?(function(r){if(r.op==="=="){if(S_(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NAN"}};if(T_(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(S_(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NOT_NAN"}};if(T_(r.value))return{unaryFilter:{field:Ys(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(r.field),op:v2(r.op),value:r.value}}})(i):i instanceof kr?(function(r){const a=r.getFilters().map((l=>HE(l)));return a.length===1?a[0]:{compositeFilter:{op:_2(r.op),filters:a}}})(i):bt(54877,{filter:i})}function E2(i){const t=[];return i.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function GE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,r,a,l,u=St.min(),h=St.min(),m=on.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new ta(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.yt=t}}function T2(i){const t=g2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?dm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.Cn=new A2}addToCollectionParentIndex(t,r){return this.Cn.add(r),et.resolve()}getCollectionParents(t,r){return et.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return et.resolve()}deleteFieldIndex(t,r){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,r){return et.resolve()}getDocumentsMatchingTarget(t,r){return et.resolve(null)}getIndexType(t,r){return et.resolve(0)}getFieldIndexes(t,r){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,r){return et.resolve(sa.min())}getMinOffsetFromCollectionGroup(t,r){return et.resolve(sa.min())}updateCollectionGroup(t,r,a){return et.resolve()}updateIndexEntries(t,r){return et.resolve()}}class A2{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r]||new He(le.comparator),u=!l.has(a);return this.index[r]=l.add(a),u}has(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(t){return(this.index[t]||new He(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(FE,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="LruGarbageCollector",w2=1048576;function k_([i,t],[r,a]){const l=Lt(i,r);return l===0?Lt(t,a):l}class R2{constructor(t){this.Ir=t,this.buffer=new He(k_),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();k_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class C2{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(z_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){cl(r)?ft(z_,"Ignoring IndexedDB error during garbage collection: ",r):await ul(r)}await this.Vr(3e5)}))}}class D2{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next((a=>Math.floor(r/100*a)))}nthSequenceNumber(t,r){if(r===0)return et.resolve(df.ce);const a=new R2(r);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,r,a){return this.mr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(P_)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.yr(t,r)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let a,l,u,h,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,h=Date.now(),this.nthSequenceNumber(t,l)))).next((T=>(a=T,m=Date.now(),this.removeTargets(t,a,r)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(t,a)))).next((T=>(y=Date.now(),Fs()<=Ht.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:T}))))}}function x2(i,t){return new D2(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.changes=new Ja((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,dn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?et.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,r,a,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,r)))).next((l=>(a!==null&&Co(a.mutation,l,kn.empty(),oe.now()),l)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,r,a=Ut()){const l=Qa();return this.populateOverlays(t,l,r).next((()=>this.computeViews(t,r,l,a).next((u=>{let h=Eo();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(t,r){const a=Qa();return this.populateOverlays(t,a,r).next((()=>this.computeViews(t,r,a,Ut())))}populateOverlays(t,r,a){const l=[];return a.forEach((u=>{r.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((h,m)=>{r.set(h,m)}))}))}computeViews(t,r,a,l){let u=Ai();const h=Ro(),m=(function(){return Ro()})();return r.forEach(((g,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof da)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Co(E.mutation,y,E.mutation.getFieldMask(),oe.now())):h.set(y.key,kn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>h.set(y,E))),r.forEach(((y,E)=>m.set(y,new I2(E,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,r){const a=Ro();let l=new ge(((h,m)=>h-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((h=>{for(const m of h)m.keys().forEach((g=>{const y=r.get(g);if(y===null)return;let E=a.get(g)||kn.empty();E=m.applyToLocalView(y,E),a.set(g,E);const T=(l.get(m.batchId)||Ut()).add(g);l=l.insert(m.batchId,T)}))})).next((()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,T=CE();E.forEach((S=>{if(!u.has(S)){const D=OE(r.get(S),a.get(S));D!==null&&T.set(S,D),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(t,y,T))}return et.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,r,a,l){return(function(h){return vt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):MR(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,l):this.getDocumentsMatchingCollectionQuery(t,r,a,l)}getNextDocuments(t,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,l-u.size):et.resolve(Qa());let m=Lo,g=u;return h.next((y=>et.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Ut()))).next((E=>({batchId:m,changes:RE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new vt(r)).next((a=>{let l=Eo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,r,a,l){const u=r.collectionGroup;let h=Eo();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(g=>{const y=(function(T,S){return new pf(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(r,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((E=>{E.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,r,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,u,l)))).next((h=>{u.forEach(((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,dn.newInvalidDocument(E)))}));let m=Eo();return h.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Co(E.mutation,y,kn.empty(),oe.now()),vf(r,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return et.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:Mr(l.createTime)}})(r)),et.resolve()}getNamedQuery(t,r){return et.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:T2(l.bundledQuery),readTime:Mr(l.readTime)}})(r)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.overlays=new ge(vt.comparator),this.qr=new Map}getOverlay(t,r){return et.resolve(this.overlays.get(r))}getOverlays(t,r){const a=Qa();return et.forEach(r,(l=>this.getOverlay(t,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(t,r,a){return a.forEach(((l,u)=>{this.St(t,r,u)})),et.resolve()}removeOverlaysForBatchId(t,r,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),et.resolve()}getOverlaysForCollection(t,r,a){const l=Qa(),u=r.length+1,h=new vt(r.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>a&&l.set(g.getKey(),g)}return et.resolve(l)}getOverlaysForCollectionGroup(t,r,a,l){let u=new ge(((y,E)=>y-E));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Qa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Qa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=l)););return et.resolve(m)}St(t,r,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new JR(r,a));let u=this.qr.get(r);u===void 0&&(u=Ut(),this.qr.set(r,u)),this.qr.set(r,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Qr=new He($e.$r),this.Ur=new He($e.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const a=new $e(t,r);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,r){t.forEach((a=>this.addReference(a,r)))}removeReference(t,r){this.Gr(new $e(t,r))}zr(t,r){t.forEach((a=>this.removeReference(a,r)))}jr(t){const r=new vt(new le([])),a=new $e(r,t),l=new $e(r,t+1),u=[];return this.Ur.forEachInRange([a,l],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new vt(new le([])),a=new $e(r,t),l=new $e(r,t+1);let u=Ut();return this.Ur.forEachInRange([a,l],(h=>{u=u.add(h.key)})),u}containsKey(t){const r=new $e(t,0),a=this.Qr.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class $e{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return vt.comparator(t.key,r.key)||Lt(t.Yr,r.Yr)}static Kr(t,r){return Lt(t.Yr,r.Yr)||vt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new He($e.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ZR(u,r,a,l);this.mutationQueue.push(h);for(const m of l)this.Zr=this.Zr.add(new $e(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(h)}lookupMutationBatch(t,r){return et.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,l=this.ei(a),u=l<0?0:l;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new $e(r,0),l=new $e(r,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(h=>{const m=this.Xr(h.Yr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new He(Lt);return r.forEach((l=>{const u=new $e(l,0),h=new $e(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{a=a.add(m.Yr)}))})),et.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,l=a.length+1;let u=a;vt.isDocumentKey(u)||(u=u.child(""));const h=new $e(new vt(u),0);let m=new He(Lt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Yr)),!0)}),h),et.resolve(this.ti(m))}ti(t){const r=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&r.push(l)})),r}removeMutationBatch(t,r){Xt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return et.forEach(r.mutations,(l=>{const u=new $e(l.key,r.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,r){const a=new $e(r,0),l=this.Zr.firstAfterOrEqual(a);return et.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.ri=t,this.docs=(function(){return new ge(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,l=this.docs.get(a),u=l?l.size:0,h=this.ri(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return et.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(r))}getEntries(t,r){let a=Ai();return r.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():dn.newInvalidDocument(l))})),et.resolve(a)}getDocumentsMatchingQuery(t,r,a,l){let u=Ai();const h=r.path,m=new vt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||fR(cR(E),a)<=0||(l.has(E.key)||vf(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,r,a,l){bt(9500)}ii(t,r){return et.forEach(this.docs,(a=>r(a)))}newChangeBuffer(t){return new z2(this)}getSize(t){return et.resolve(this.size)}}class z2 extends N2{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),et.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.persistence=t,this.si=new Ja((r=>Gm(r)),Fm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=il.ur()}forEachTarget(t,r){return this.si.forEach(((a,l)=>r(l))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.oi&&(this.oi=r),et.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new il(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,et.resolve()}updateTargetData(t,r){return this.Pr(r),et.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,r,a){let l=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=r&&a.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)})),et.waitFor(u).next((()=>l))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,r){const a=this.si.get(r)||null;return et.resolve(a)}addMatchingKeys(t,r,a){return this._i.Wr(r,a),et.resolve()}removeMatchingKeys(t,r,a){this._i.zr(r,a);const l=this.persistence.referenceDelegate,u=[];return l&&r.forEach((h=>{u.push(l.markPotentiallyOrphaned(t,h))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),et.resolve()}getMatchingKeysForTargetId(t,r){const a=this._i.Hr(r);return et.resolve(a)}containsKey(t,r){return et.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,r){this.ui={},this.overlays={},this.ci=new df(0),this.li=!1,this.li=!0,this.hi=new L2,this.referenceDelegate=t(this),this.Pi=new k2(this),this.indexManager=new S2,this.remoteDocumentCache=(function(l){return new P2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new b2(r),this.Ii=new O2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new M2,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.ui[t.toKey()];return a||(a=new U2(r,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,a){ft("MemoryPersistence","Starting transaction:",t);const l=new B2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,r){return et.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,r))))}}class B2 extends dR{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,r,a){return this.Ri.addReference(a,r),this.fi.delete(a.toString()),et.resolve()}removeReference(t,r,a){return this.Ri.removeReference(a,r),this.fi.add(a.toString()),et.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),et.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(t,r)))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(a=>{const l=vt.fromPath(a);return this.gi(t,l).next((u=>{u||r.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,r.apply(t))))}updateLimboDocument(t,r){return this.gi(t,r).next((a=>{a?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(t){return 0}gi(t,r){return et.or([()=>et.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class ef{constructor(t,r){this.persistence=t,this.pi=new Ja((a=>pR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=x2(this,r)}static mi(t,r){return new ef(t,r)}Ei(){}di(t){return et.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>r.next((l=>a+l))))}wr(t){let r=0;return this.pr(t,(a=>{r++})).next((()=>r))}pr(t,r){return et.forEach(this.pi,((a,l)=>this.br(t,a,l).next((u=>u?et.resolve():r(l)))))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(h=>this.br(t,h,r).next((m=>{m||(a++,u.removeEntry(h,St.min()))})))).next((()=>u.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),et.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.pi.set(a,t.currentSequenceNumber),et.resolve()}removeReference(t,r,a){return this.pi.set(a,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),et.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Mc(t.data.value)),r}br(t,r,a){return et.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.pi.get(r);return et.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,r,a,l){this.targetId=t,this.fromCache=r,this.Es=a,this.ds=l}static As(t,r){let a=Ut(),l=Ut();for(const u of r.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Wm(t,r.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MA()?8:mR(VA())>0?6:4})()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,a,l){const u={result:null};return this.ys(t,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(t,r,l,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new j2;return this.Ss(t,r,h).next((m=>{if(u.result=m,this.Vs)return this.bs(t,r,h,m.size)}))})).next((()=>u.result))}bs(t,r,a,l){return a.documentReadCount<this.fs?(Fs()<=Ht.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Qs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(Fs()<=Ht.DEBUG&&ft("QueryEngine","Query:",Qs(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Fs()<=Ht.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Qs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Or(r))):et.resolve())}ys(t,r){if(C_(r))return et.resolve(null);let a=Or(r);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=dm(r,null,"F"),a=Or(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const h=Ut(...u);return this.ps.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,a).next((g=>{const y=this.Ds(r,m);return this.Cs(r,y,h,g.readTime)?this.ys(t,dm(r,null,"F")):this.vs(t,y,r,g)}))))})))))}ws(t,r,a,l){return C_(r)||l.isEqual(St.min())?et.resolve(null):this.ps.getDocuments(t,a).next((u=>{const h=this.Ds(r,u);return this.Cs(r,h,a,l)?et.resolve(null):(Fs()<=Ht.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qs(r)),this.vs(t,h,r,uR(l,Lo)).next((m=>m)))}))}Ds(t,r){let a=new He(AE(t));return r.forEach(((l,u)=>{vf(t,u)&&(a=a.add(u))})),a}Cs(t,r,a,l){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,r,a){return Fs()<=Ht.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Qs(r)),this.ps.getDocumentsMatchingQuery(t,r,sa.min(),a)}vs(t,r,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",H2=3e8;class G2{constructor(t,r,a,l){this.persistence=t,this.Fs=r,this.serializer=l,this.Ms=new ge(Lt),this.xs=new Ja((u=>Gm(u)),Fm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new V2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Ms)))}}function F2(i,t,r,a){return new G2(i,t,r,a)}async function YE(i,t){const r=wt(i);return await r.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,r.Bs(t),r.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],m=[];let g=Ut();for(const y of l){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return r.localDocuments.getDocuments(a,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function Q2(i,t){const r=wt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),u=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const T=y.batch,S=T.keys();let D=et.resolve();return S.forEach((P=>{D=D.next((()=>E.getEntry(g,P))).next((B=>{const V=y.docVersions.get(P);Xt(V!==null,48541),B.version.compareTo(V)<0&&(T.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),E.addEntry(B)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(r,a,t,u).next((()=>u.apply(a))).next((()=>r.mutationQueue.performConsistencyCheck(a))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let g=Ut();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>r.localDocuments.getDocuments(a,l)))}))}function XE(i){const t=wt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Pi.getLastRemoteSnapshotVersion(r)))}function Y2(i,t){const r=wt(i),a=t.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const S=l.get(T);if(!S)return;m.push(r.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>r.Pi.addMatchingKeys(u,E.addedDocuments,T))));let D=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(on.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,a)),l=l.insert(T,D),(function(B,V,X){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=H2?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(S,D,E)&&m.push(r.Pi.updateTargetData(u,D))}));let g=Ai(),y=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(X2(u,h,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!a.isEqual(St.min())){const E=r.Pi.getLastRemoteSnapshotVersion(u).next((T=>r.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return et.waitFor(m).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(r.Ms=l,u)))}function X2(i,t,r){let a=Ut(),l=Ut();return r.forEach((u=>a=a.add(u))),t.getEntries(i,a).next((u=>{let h=Ai();return r.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(St.min())?(t.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),h=h.insert(m,g)):ft(tg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:l}}))}function K2(i,t){const r=wt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=jm),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function $2(i,t){const r=wt(i);return r.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return r.Pi.getTargetData(a,t).next((u=>u?(l=u,et.resolve(l)):r.Pi.allocateTargetId(a).next((h=>(l=new ta(t,h,"TargetPurposeListen",a.currentSequenceNumber),r.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=r.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(a.targetId,a),r.xs.set(t,a.targetId)),a}))}async function vm(i,t,r){const a=wt(i),l=a.Ms.get(t),u=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!cl(h))throw h;ft(tg,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function B_(i,t,r){const a=wt(i);let l=St.min(),u=Ut();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,E){const T=wt(g),S=T.xs.get(E);return S!==void 0?et.resolve(T.Ms.get(S)):T.Pi.getTargetData(y,E)})(a,h,Or(t)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(h,t,r?l:St.min(),r?u:Ut()))).next((m=>(Z2(a,UR(t),m),{documents:m,Qs:u})))))}function Z2(i,t,r){let a=i.Os.get(t)||St.min();r.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Os.set(t,a)}class j_{constructor(){this.activeTargetIds=qR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class J2{constructor(){this.Mo=new j_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,a){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new j_,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="ConnectivityMonitor";class H_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(q_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(q_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function _m(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="RestConnection",tC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Xc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,r,a,l,u){const h=_m(),m=this.zo(t,r.toUriEncodedString());ft(Qd,`Sending RPC '${t}' ${h}:`,m,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(m),E=Um(y);return this.Jo(t,m,g,a,E).then((T=>(ft(Qd,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw tl(Qd,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",a),T}))}Ho(t,r,a,l,u,h){return this.Go(t,r,a,l,u)}jo(t,r,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,u)=>t[u]=l)),a&&a.headers.forEach(((l,u)=>t[u]=l))}zo(t,r){const a=tC[t];return`${this.Uo}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class rC extends eC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,a,l,u){const h=_m();return new Promise(((m,g)=>{const y=new J0;y.setWithCredentials(!0),y.listenOnce(W0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Oc.NO_ERROR:const T=y.getResponseJson();ft(fn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case Oc.TIMEOUT:ft(fn,`RPC '${t}' ${h} timed out`),g(new dt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const S=y.getStatus();if(ft(fn,`RPC '${t}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D?.error;if(P&&P.status&&P.message){const B=(function(X){const Q=X.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(Q)>=0?Q:rt.UNKNOWN})(P.status);g(new dt(B,P.message))}else g(new dt(rt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new dt(rt.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ft(fn,`RPC '${t}' ${h} completed.`)}}));const E=JSON.stringify(l);ft(fn,`RPC '${t}' ${h} sending request:`,l),y.send(r,"POST",E,a,15)}))}T_(t,r,a){const l=_m(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=nE(),m=eE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,r,a),g.encodeInitMessageHeaders=!0;const E=u.join("");ft(fn,`Creating RPC '${t}' stream ${l}: ${E}`,g);const T=h.createWebChannel(E,g);this.I_(T);let S=!1,D=!1;const P=new nC({Yo:V=>{D?ft(fn,`Not sending because RPC '${t}' stream ${l} is closed:`,V):(S||(ft(fn,`Opening RPC '${t}' stream ${l} transport.`),T.open(),S=!0),ft(fn,`RPC '${t}' stream ${l} sending:`,V),T.send(V))},Zo:()=>T.close()}),B=(V,X,Q)=>{V.listen(X,(K=>{try{Q(K)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return B(T,_o.EventType.OPEN,(()=>{D||(ft(fn,`RPC '${t}' stream ${l} transport opened.`),P.o_())})),B(T,_o.EventType.CLOSE,(()=>{D||(D=!0,ft(fn,`RPC '${t}' stream ${l} transport closed`),P.a_(),this.E_(T))})),B(T,_o.EventType.ERROR,(V=>{D||(D=!0,tl(fn,`RPC '${t}' stream ${l} transport errored. Name:`,V.name,"Message:",V.message),P.a_(new dt(rt.UNAVAILABLE,"The operation could not be completed")))})),B(T,_o.EventType.MESSAGE,(V=>{if(!D){const X=V.data[0];Xt(!!X,16349);const Q=X,K=Q?.error||Q[0]?.error;if(K){ft(fn,`RPC '${t}' stream ${l} received error:`,K);const ot=K.status;let at=(function(w){const R=Ve[w];if(R!==void 0)return LE(R)})(ot),ct=K.message;at===void 0&&(at=rt.INTERNAL,ct="Unknown error status: "+ot+" with message "+K.message),D=!0,P.a_(new dt(at,ct)),T.close()}else ft(fn,`RPC '${t}' stream ${l} received:`,X),P.u_(X)}})),B(m,tE.STAT_EVENT,(V=>{V.stat===lm.PROXY?ft(fn,`RPC '${t}' stream ${l} detected buffering proxy`):V.stat===lm.NOPROXY&&ft(fn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((r=>r===t))}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(i){return new l2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,r,a=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=r,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-a);l>0&&ft("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="PersistentStream";class $E{constructor(t,r,a,l,u,h,m,g){this.Mi=t,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KE(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===rt.RESOURCE_EXHAUSTED?(Si(r.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===r&&this.G_(a,l)}),(a=>{t((()=>{const l=new dt(rt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,r){const a=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(G_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget((()=>this.D_===t?r():(ft(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iC extends $E{constructor(t,r,a,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,h),this.serializer=u}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=c2(this.serializer,t),a=(function(u){if(!("targetChange"in u))return St.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?St.min():h.readTime?Mr(h.readTime):St.min()})(t);return this.listener.H_(r,a)}Y_(t){const r={};r.database=ym(this.serializer),r.addTarget=(function(u,h){let m;const g=h.target;if(m=hm(g)?{documents:d2(u,g)}:{query:m2(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=zE(u,h.resumeToken);const y=mm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(St.min())>0){m.readTime=tf(u,h.snapshotVersion.toTimestamp());const y=mm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const a=p2(this.serializer,t);a&&(r.labels=a),this.q_(r)}Z_(t){const r={};r.database=ym(this.serializer),r.removeTarget=t,this.q_(r)}}class aC extends $E{constructor(t,r,a,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=h2(t.writeResults,t.commitTime),a=Mr(t.commitTime);return this.listener.na(a,r)}ra(){const t={};t.database=ym(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((a=>f2(this.serializer,a)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{}class lC extends sC{constructor(t,r,a,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new dt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(t,gm(r,a),l,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt(rt.UNKNOWN,u.toString())}))}Ho(t,r,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(t,gm(r,a),l,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new dt(rt.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oC{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Si(r),this.aa=!1):ft("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="RemoteStore";class uC{constructor(t,r,a,l,u){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{a.enqueueAndForget((async()=>{Wa(this)&&(ft(Ka,"Restarting streams for network reachability change."),await(async function(g){const y=wt(g);y.Ea.add(4),await Zo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Af(y)})(this))}))})),this.Ra=new oC(a,l)}}async function Af(i){if(Wa(i))for(const t of i.da)await t(!0)}async function Zo(i){for(const t of i.da)await t(!1)}function ZE(i,t){const r=wt(i);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),ig(r)?rg(r):fl(r).O_()&&ng(r,t))}function eg(i,t){const r=wt(i),a=fl(r);r.Ia.delete(t),a.O_()&&JE(r,t),r.Ia.size===0&&(a.O_()?a.L_():Wa(r)&&r.Ra.set("Unknown"))}function ng(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}fl(i).Y_(t)}function JE(i,t){i.Va.Ue(t),fl(i).Z_(t)}function rg(i){i.Va=new r2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),fl(i).start(),i.Ra.ua()}function ig(i){return Wa(i)&&!fl(i).x_()&&i.Ia.size>0}function Wa(i){return wt(i).Ea.size===0}function WE(i){i.Va=void 0}async function cC(i){i.Ra.set("Online")}async function fC(i){i.Ia.forEach(((t,r)=>{ng(i,t)}))}async function hC(i,t){WE(i),ig(i)?(i.Ra.ha(t),rg(i)):i.Ra.set("Unknown")}async function dC(i,t,r){if(i.Ra.set("Online"),t instanceof PE&&t.state===2&&t.cause)try{await(async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.Va.removeTarget(m))})(i,t)}catch(a){ft(Ka,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await nf(i,a)}else if(t instanceof Pc?i.Va.Ze(t):t instanceof UE?i.Va.st(t):i.Va.tt(t),!r.isEqual(St.min()))try{const a=await XE(i.localStore);r.compareTo(a)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(on.EMPTY_BYTE_STRING,E.snapshotVersion)),JE(u,g);const T=new ta(E.target,g,y,E.sequenceNumber);ng(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,r)}catch(a){ft(Ka,"Failed to raise snapshot:",a),await nf(i,a)}}async function nf(i,t,r){if(!cl(t))throw t;i.Ea.add(1),await Zo(i),i.Ra.set("Offline"),r||(r=()=>XE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ft(Ka,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await Af(i)}))}function tb(i,t){return t().catch((r=>nf(i,r,t)))}async function wf(i){const t=wt(i),r=ca(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jm;for(;mC(t);)try{const l=await K2(t.localStore,a);if(l===null){t.Ta.length===0&&r.L_();break}a=l.batchId,gC(t,l)}catch(l){await nf(t,l)}eb(t)&&nb(t)}function mC(i){return Wa(i)&&i.Ta.length<10}function gC(i,t){i.Ta.push(t);const r=ca(i);r.O_()&&r.X_&&r.ea(t.mutations)}function eb(i){return Wa(i)&&!ca(i).x_()&&i.Ta.length>0}function nb(i){ca(i).start()}async function pC(i){ca(i).ra()}async function yC(i){const t=ca(i);for(const r of i.Ta)t.ea(r.mutations)}async function vC(i,t,r){const a=i.Ta.shift(),l=Xm.from(a,t,r);await tb(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await wf(i)}async function _C(i,t){t&&ca(i).X_&&await(async function(a,l){if((function(h){return t2(h)&&h!==rt.ABORTED})(l.code)){const u=a.Ta.shift();ca(a).B_(),await tb(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await wf(a)}})(i,t),eb(i)&&nb(i)}async function F_(i,t){const r=wt(i);r.asyncQueue.verifyOperationInProgress(),ft(Ka,"RemoteStore received new credentials");const a=Wa(r);r.Ea.add(3),await Zo(r),a&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Af(r)}async function EC(i,t){const r=wt(i);t?(r.Ea.delete(2),await Af(r)):t||(r.Ea.add(2),await Zo(r),r.Ra.set("Unknown"))}function fl(i){return i.ma||(i.ma=(function(r,a,l){const u=wt(r);return u.sa(),new iC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:cC.bind(null,i),t_:fC.bind(null,i),r_:hC.bind(null,i),H_:dC.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),ig(i)?rg(i):i.Ra.set("Unknown")):(await i.ma.stop(),WE(i))}))),i.ma}function ca(i){return i.fa||(i.fa=(function(r,a,l){const u=wt(r);return u.sa(),new aC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:pC.bind(null,i),r_:_C.bind(null,i),ta:yC.bind(null,i),na:vC.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await wf(i)):(await i.fa.stop(),i.Ta.length>0&&(ft(Ka,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,r,a,l,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,l,u){const h=Date.now()+a,m=new ag(t,r,h,l,u);return m.start(a),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(i,t){if(Si("AsyncQueue",`${t}: ${i}`),cl(i))return new dt(rt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(t){return new Zs(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||vt.comparator(r.key,a.key):(r,a)=>vt.comparator(r.key,a.key),this.keyedMap=Eo(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,a)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Zs)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new Zs;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.ga=new ge(vt.comparator)}track(t){const r=t.doc.key,a=this.ga.get(r);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(r,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(r):t.type===1&&a.type===2?this.ga=this.ga.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,a)=>{t.push(a)})),t}}class al{constructor(t,r,a,l,u,h,m,g,y){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,r,a,l,u){const h=[];return r.forEach((m=>{h.push({type:0,doc:m})})),new al(t,r,Zs.emptySet(r),h,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class TC{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,a){const l=wt(r),u=l.queries;l.queries=Y_(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(a)}))})(this,new dt(rt.ABORTED,"Firestore shutting down"))}}function Y_(){return new Ja((i=>SE(i)),yf)}async function rb(i,t){const r=wt(i);let a=3;const l=t.query;let u=r.queries.get(l);u?!u.ba()&&t.Da()&&(a=2):(u=new bC,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await r.onListen(l,!0);break;case 1:u.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(h){const m=sg(h,`Initialization of query '${Qs(t.query)}' failed`);return void t.onError(m)}r.queries.set(l,u),u.Sa.push(t),t.va(r.onlineState),u.wa&&t.Fa(u.wa)&&lg(r)}async function ib(i,t){const r=wt(i),a=t.query;let l=3;const u=r.queries.get(a);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function SC(i,t){const r=wt(i);let a=!1;for(const l of t){const u=l.query,h=r.queries.get(u);if(h){for(const m of h.Sa)m.Fa(l)&&(a=!0);h.wa=l}}a&&lg(r)}function AC(i,t,r){const a=wt(i),l=a.queries.get(t);if(l)for(const u of l.Sa)u.onError(r);a.queries.delete(t)}function lg(i){i.Ca.forEach((t=>{t.next()}))}var Em,X_;(X_=Em||(Em={})).Ma="default",X_.Cache="cache";class ab{constructor(t,r,a){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new al(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const a=r!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=al.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t){this.key=t}}class lb{constructor(t){this.key=t}}class wC{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=AE(t),this.tu=new Zs(this.eu)}get nu(){return this.Ya}ru(t,r){const a=r?r.iu:new Q_,l=r?r.tu:this.tu;let u=r?r.mutatedKeys:this.mutatedKeys,h=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,T)=>{const S=l.get(E),D=vf(this.query,T)?T:null,P=!!S&&this.mutatedKeys.has(S.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let V=!1;S&&D?S.data.isEqual(D.data)?P!==B&&(a.track({type:3,doc:D}),V=!0):this.su(S,D)||(a.track({type:2,doc:D}),V=!0,(g&&this.eu(D,g)>0||y&&this.eu(D,y)<0)&&(m=!0)):!S&&D?(a.track({type:0,doc:D}),V=!0):S&&!D&&(a.track({type:1,doc:S}),V=!0,(g||y)&&(m=!0)),V&&(D?(h=h.add(D),u=B?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:h,iu:a,Cs:m,mutatedKeys:u}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((E,T)=>(function(D,P){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:V})}};return B(D)-B(P)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(a),l=l??!1;const m=r&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new al(this.query,t.tu,u,h,t.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const r=[];return t.forEach((a=>{this.Xa.has(a)||r.push(new lb(a))})),this.Xa.forEach((a=>{t.has(a)||r.push(new sb(a))})),r}cu(t){this.Ya=t.Qs,this.Xa=Ut();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class RC{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class CC{constructor(t){this.key=t,this.hu=!1}}class DC{constructor(t,r,a,l,u,h){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ja((m=>SE(m)),yf),this.Iu=new Map,this.Eu=new Set,this.du=new ge(vt.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xC(i,t,r=!0){const a=db(i);let l;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await ob(a,t,r,!0),l}async function NC(i,t){const r=db(i);await ob(r,t,!0,!1)}async function ob(i,t,r,a){const l=await $2(i.localStore,Or(t)),u=l.targetId,h=i.sharedClientState.addLocalQueryTarget(u,r);let m;return a&&(m=await IC(i,t,u,h==="current",l.resumeToken)),i.isPrimaryClient&&r&&ZE(i.remoteStore,l),m}async function IC(i,t,r,a,l){i.pu=(T,S,D)=>(async function(B,V,X,Q){let K=V.view.ru(X);K.Cs&&(K=await B_(B.localStore,V.query,!1).then((({documents:I})=>V.view.ru(I,K))));const ot=Q&&Q.targetChanges.get(V.targetId),at=Q&&Q.targetMismatches.get(V.targetId)!=null,ct=V.view.applyChanges(K,B.isPrimaryClient,ot,at);return $_(B,V.targetId,ct.au),ct.snapshot})(i,T,S,D);const u=await B_(i.localStore,t,!0),h=new wC(t,u.Qs),m=h.ru(u.documents),g=$o.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),y=h.applyChanges(m,i.isPrimaryClient,g);$_(i,r,y.au);const E=new RC(t,r,h);return i.Tu.set(t,E),i.Iu.has(r)?i.Iu.get(r).push(t):i.Iu.set(r,[t]),y.snapshot}async function VC(i,t,r){const a=wt(i),l=a.Tu.get(t),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((h=>!yf(h,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),r&&eg(a.remoteStore,l.targetId),bm(a,l.targetId)})).catch(ul)):(bm(a,l.targetId),await vm(a.localStore,l.targetId,!0))}async function OC(i,t){const r=wt(i),a=r.Tu.get(t),l=r.Iu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),eg(r.remoteStore,a.targetId))}async function MC(i,t,r){const a=jC(i);try{const l=await(function(h,m){const g=wt(h),y=oe.now(),E=m.reduce(((D,P)=>D.add(P.key)),Ut());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let P=Ai(),B=Ut();return g.Ns.getEntries(D,E).next((V=>{P=V,P.forEach(((X,Q)=>{Q.isValidDocument()||(B=B.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,P))).next((V=>{T=V;const X=[];for(const Q of m){const K=KR(Q,T.get(Q.key).overlayedDocument);K!=null&&X.push(new da(Q.key,K,pE(K.value.mapValue),xn.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,X,m)})).next((V=>{S=V;const X=V.applyToLocalDocumentSet(T,B);return g.documentOverlayCache.saveOverlays(D,V.batchId,X)}))})).then((()=>({batchId:S.batchId,changes:RE(T)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(h,m,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new ge(Lt)),y=y.insert(m,g),h.Vu[h.currentUser.toKey()]=y})(a,l.batchId,r),await Jo(a,l.changes),await wf(a.remoteStore)}catch(l){const u=sg(l,"Failed to persist write");r.reject(u)}}async function ub(i,t){const r=wt(i);try{const a=await Y2(r.localStore,t);t.targetChanges.forEach(((l,u)=>{const h=r.Au.get(u);h&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Xt(h.hu,14607):l.removedDocuments.size>0&&(Xt(h.hu,42227),h.hu=!1))})),await Jo(r,a,t)}catch(a){await ul(a)}}function K_(i,t,r){const a=wt(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&l.push(m.snapshot)})),(function(h,m){const g=wt(h);g.onlineState=m;let y=!1;g.queries.forEach(((E,T)=>{for(const S of T.Sa)S.va(m)&&(y=!0)})),y&&lg(g)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function LC(i,t,r){const a=wt(i);a.sharedClientState.updateQueryState(t,"rejected",r);const l=a.Au.get(t),u=l&&l.key;if(u){let h=new ge(vt.comparator);h=h.insert(u,dn.newNoDocument(u,St.min()));const m=Ut().add(u),g=new Tf(St.min(),new Map,new ge(Lt),h,m);await ub(a,g),a.du=a.du.remove(u),a.Au.delete(t),ug(a)}else await vm(a.localStore,t,!1).then((()=>bm(a,t,r))).catch(ul)}async function UC(i,t){const r=wt(i),a=t.batch.batchId;try{const l=await Q2(r.localStore,t);fb(r,a,null),cb(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await Jo(r,l)}catch(l){await ul(l)}}async function PC(i,t,r){const a=wt(i);try{const l=await(function(h,m){const g=wt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>(Xt(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(a.localStore,t);fb(a,t,r),cb(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await Jo(a,l)}catch(l){await ul(l)}}function cb(i,t){(i.mu.get(t)||[]).forEach((r=>{r.resolve()})),i.mu.delete(t)}function fb(i,t,r){const a=wt(i);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(r?u.reject(r):u.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function bm(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.Iu.get(t))i.Tu.delete(a),r&&i.Pu.yu(a,r);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((a=>{i.Ru.containsKey(a)||hb(i,a)}))}function hb(i,t){i.Eu.delete(t.path.canonicalString());const r=i.du.get(t);r!==null&&(eg(i.remoteStore,r),i.du=i.du.remove(t),i.Au.delete(r),ug(i))}function $_(i,t,r){for(const a of r)a instanceof sb?(i.Ru.addReference(a.key,t),zC(i,a)):a instanceof lb?(ft(og,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,t),i.Ru.containsKey(a.key)||hb(i,a.key)):bt(19791,{wu:a})}function zC(i,t){const r=t.key,a=r.path.canonicalString();i.du.get(r)||i.Eu.has(a)||(ft(og,"New document in limbo: "+r),i.Eu.add(a),ug(i))}function ug(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const r=new vt(le.fromString(t)),a=i.fu.next();i.Au.set(a,new CC(r)),i.du=i.du.insert(r,a),ZE(i.remoteStore,new ta(Or(Qm(r.path)),a,"TargetPurposeLimboResolution",df.ce))}}async function Jo(i,t,r){const a=wt(i),l=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,g)=>{h.push(a.pu(g,t,r).then((y=>{if((y||r)&&a.isPrimaryClient){const E=y?!y.fromCache:r?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){l.push(y);const E=Wm.As(g.targetId,y);u.push(E)}})))})),await Promise.all(h),a.Pu.H_(l),await(async function(g,y){const E=wt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>et.forEach(y,(S=>et.forEach(S.Es,(D=>E.persistence.referenceDelegate.addReference(T,S.targetId,D))).next((()=>et.forEach(S.ds,(D=>E.persistence.referenceDelegate.removeReference(T,S.targetId,D)))))))))}catch(T){if(!cl(T))throw T;ft(tg,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const D=E.Ms.get(S),P=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(P);E.Ms=E.Ms.insert(S,B)}}})(a.localStore,u))}async function kC(i,t){const r=wt(i);if(!r.currentUser.isEqual(t)){ft(og,"User change. New user:",t.toKey());const a=await YE(r.localStore,t);r.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new dt(rt.CANCELLED,h))}))})),u.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jo(r,a.Ls)}}function BC(i,t){const r=wt(i),a=r.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const u=r.Iu.get(t);if(!u)return l;for(const h of u){const m=r.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function db(i){const t=wt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LC.bind(null,t),t.Pu.H_=SC.bind(null,t.eventManager),t.Pu.yu=AC.bind(null,t.eventManager),t}function jC(i){const t=wt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PC.bind(null,t),t}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return F2(this.persistence,new q2,t.initialUser,this.serializer)}Cu(t){return new QE(Jm.mi,this.serializer)}Du(t){return new J2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class qC extends rf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Xt(this.persistence.referenceDelegate instanceof ef,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new C2(a,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new QE((a=>ef.mi(a,r)),this.serializer)}}class Tm{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>K_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=kC.bind(null,this.syncEngine),await EC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new TC})()}createDatastore(t){const r=Sf(t.databaseInfo.databaseId),a=(function(u){return new rC(u)})(t.databaseInfo);return(function(u,h,m,g){return new lC(u,h,m,g)})(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return(function(a,l,u,h,m){return new uC(a,l,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(r=>K_(this.syncEngine,r,0)),(function(){return H_.v()?new H_:new W2})())}createSyncEngine(t,r){return(function(l,u,h,m,g,y,E){const T=new DC(l,u,h,m,g,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const a=wt(r);ft(Ka,"RemoteStore shutting down."),a.Ea.add(5),await Zo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Si("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="FirestoreClient";class HC{constructor(t,r,a,l,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=hn.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async h=>{ft(fa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(ft(fa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=sg(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Xd(i,t){i.asyncQueue.verifyOperationInProgress(),ft(fa,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let a=r.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await YE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function Z_(i,t){i.asyncQueue.verifyOperationInProgress();const r=await GC(i);ft(fa,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener((a=>F_(t.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>F_(t.remoteStore,l))),i._onlineComponents=t}async function GC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ft(fa,"Using user provided OfflineComponentProvider");try{await Xd(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(l){return l.name==="FirebaseError"?l.code===rt.FAILED_PRECONDITION||l.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;tl("Error using user provided cache. Falling back to memory cache: "+r),await Xd(i,new rf)}}else ft(fa,"Using default OfflineComponentProvider"),await Xd(i,new qC(void 0));return i._offlineComponents}async function gb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ft(fa,"Using user provided OnlineComponentProvider"),await Z_(i,i._uninitializedComponentsProvider._online)):(ft(fa,"Using default OnlineComponentProvider"),await Z_(i,new Tm))),i._onlineComponents}function FC(i){return gb(i).then((t=>t.syncEngine))}async function pb(i){const t=await gb(i),r=t.eventManager;return r.onListen=xC.bind(null,t.syncEngine),r.onUnlisten=VC.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=NC.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=OC.bind(null,t.syncEngine),r}function QC(i,t,r={}){const a=new Ei;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,y){const E=new mb({next:S=>{E.Nu(),h.enqueueAndForget((()=>ib(u,T)));const D=S.docs.has(m);!D&&S.fromCache?y.reject(new dt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&g&&g.source==="server"?y.reject(new dt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new ab(Qm(m.path),E,{includeMetadataChanges:!0,qa:!0});return rb(u,T)})(await pb(i),i.asyncQueue,t,r,a))),a.promise}function YC(i,t,r={}){const a=new Ei;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,y){const E=new mb({next:S=>{E.Nu(),h.enqueueAndForget((()=>ib(u,T))),S.fromCache&&g.source==="server"?y.reject(new dt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new ab(m,E,{includeMetadataChanges:!0,qa:!0});return rb(u,T)})(await pb(i),i.asyncQueue,t,r,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firestore.googleapis.com",W_=!0;class t0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vb,this.ssl=W_}else this.host=t.host,this.ssl=t.ssl??W_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<w2)throw new dt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yb(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rf{constructor(t,r,a,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Jw;switch(a.type){case"firstParty":return new nR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new dt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const a=J_.get(r);a&&(ft("ComponentProvider","Removing Datastore"),J_.delete(r),a.terminate())})(this),Promise.resolve()}}function XC(i,t,r,a={}){i=dr(i,Rf);const l=Um(t),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${r}`;l&&(CA(`https://${m}`),IA("Firestore",!0)),u.host!==vb&&u.host!==m&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:l,emulatorOptions:a};if(!Gc(g,h)&&(i._setSettings(g),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=hn.MOCK_USER;else{y=DA(a.mockUserToken,i._app?.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new dt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(T)}i._authCredentials=new Ww(new iE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Cf(this.firestore,t,this._query)}}class Me{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,a){if(Xo(r,Me._jsonSchema))return new Me(t,a||null,new vt(le.fromString(r.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Oe("string",Me._jsonSchemaVersion),referencePath:Oe("string")};class aa extends Cf{constructor(t,r,a){super(t,r,Qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new vt(t))}withConverter(t){return new aa(this.firestore,t,this._path)}}function KC(i,t,...r){if(i=Pr(i),aE("collection","path",t),i instanceof Rf){const a=le.fromString(t,...r);return m_(a),new aa(i,null,a)}{if(!(i instanceof Me||i instanceof aa))throw new dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(le.fromString(t,...r));return m_(a),new aa(i.firestore,null,a)}}function Ks(i,t,...r){if(i=Pr(i),arguments.length===1&&(t=km.newId()),aE("doc","path",t),i instanceof Rf){const a=le.fromString(t,...r);return d_(a),new Me(i,null,new vt(a))}{if(!(i instanceof Me||i instanceof aa))throw new dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(le.fromString(t,...r));return d_(a),new Me(i.firestore,i instanceof aa?i.converter:null,new vt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="AsyncQueue";class n0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KE(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&ft(e0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const r=Yd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=Yd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!cl(t))throw t;ft(e0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Si("INTERNAL UNHANDLED ERROR: ",r0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=r,r}enqueueAfterDelay(t,r,a){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const l=ag.createAndSchedule(this,t,r,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&bt(47125,{Pc:r0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function r0(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class ts extends Rf{constructor(t,r,a,l){super(t,r,a,l),this.type="firestore",this._queue=new n0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new n0(t),this._firestoreClient=void 0,await t}}}function $C(i,t){const r=typeof i=="object"?i:jw(),a=typeof i=="string"?i:Xc,l=Uw(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=wA("firestore");u&&XC(l,...u)}return l}function Df(i){if(i._terminated)throw new dt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ZC(i),i._firestoreClient}function ZC(i){const t=i._freezeSettings(),r=(function(l,u,h,m){return new _R(l,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,yb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new HC(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this._byteString=t}static fromBase64String(t){try{return new er(on.fromBase64String(t))}catch(r){throw new dt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new er(on.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xo(t,er._jsonSchema))return er.fromBase64String(t.bytes)}}er._jsonSchemaVersion="firestore/bytes/1.0",er._jsonSchema={type:Oe("string",er._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new dt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new dt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new dt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lr._jsonSchemaVersion}}static fromJSON(t){if(Xo(t,Lr._jsonSchema))return new Lr(t.latitude,t.longitude)}}Lr._jsonSchemaVersion="firestore/geoPoint/1.0",Lr._jsonSchema={type:Oe("string",Lr._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xo(t,Ur._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new Ur(t.vectorValues);throw new dt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:Oe("string",Ur._jsonSchemaVersion),vectorValues:Oe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^__.*__$/;class WC{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new da(t,this.data,this.fieldMask,r,this.fieldTransforms):new Ko(t,this.data,r,this.fieldTransforms)}}class _b{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new da(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function Eb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:i})}}class fg{constructor(t,r,a,l,u,h){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new fg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),a=this.Vc({path:r,fc:!1});return a.gc(t),a}yc(t){const r=this.path?.child(t),a=this.Vc({path:r,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return af(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Eb(this.Ac)&&JC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class tD{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||Sf(t)}Cc(t,r,a,l=!1){return new fg({Ac:t,methodName:r,Dc:a,path:ln.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(i){const t=i._freezeSettings(),r=Sf(i._databaseId);return new tD(i._databaseId,!!t.ignoreUndefinedProperties,r)}function bb(i,t,r,a,l,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,t,r,l);dg("Data must be an object, but it was:",h,a);const m=Ab(a,h);let g,y;if(u.merge)g=new kn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=Sm(t,T,r);if(!h.contains(S))throw new dt(rt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Rb(E,S)||E.push(S)}g=new kn(E),y=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=h.fieldTransforms;return new WC(new Dn(m),g,y)}class xf extends cg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xf}}function Tb(i,t,r,a){const l=i.Cc(1,t,r);dg("Data must be an object, but it was:",l,a);const u=[],h=Dn.empty();ha(a,((g,y)=>{const E=mg(t,g,r);y=Pr(y);const T=l.yc(E);if(y instanceof xf)u.push(E);else{const S=Nf(y,T);S!=null&&(u.push(E),h.set(E,S))}}));const m=new kn(u);return new _b(h,m,l.fieldTransforms)}function Sb(i,t,r,a,l,u){const h=i.Cc(1,t,r),m=[Sm(t,a,r)],g=[l];if(u.length%2!=0)throw new dt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Sm(t,u[S])),g.push(u[S+1]);const y=[],E=Dn.empty();for(let S=m.length-1;S>=0;--S)if(!Rb(y,m[S])){const D=m[S];let P=g[S];P=Pr(P);const B=h.yc(D);if(P instanceof xf)y.push(D);else{const V=Nf(P,B);V!=null&&(y.push(D),E.set(D,V))}}const T=new kn(y);return new _b(E,T,h.fieldTransforms)}function Nf(i,t){if(wb(i=Pr(i)))return dg("Unsupported field value:",t,i),Ab(i,t);if(i instanceof cg)return(function(a,l){if(!Eb(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let h=0;for(const m of a){let g=Nf(m,l.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,t)}return(function(a,l){if((a=Pr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return HR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=oe.fromDate(a);return{timestampValue:tf(l.serializer,u)}}if(a instanceof oe){const u=new oe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:tf(l.serializer,u)}}if(a instanceof Lr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof er)return{bytesValue:zE(l.serializer,a._byteString)};if(a instanceof Me){const u=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw l.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$m(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ur)return(function(h,m){return{mapValue:{fields:{[mE]:{stringValue:gE},[Kc]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ym(m.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Bm(a)}`)})(i,t)}function Ab(i,t){const r={};return oE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ha(i,((a,l)=>{const u=Nf(l,t.mc(a));u!=null&&(r[a]=u)})),{mapValue:{fields:r}}}function wb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof oe||i instanceof Lr||i instanceof er||i instanceof Me||i instanceof cg||i instanceof Ur)}function dg(i,t,r){if(!wb(r)||!sE(r)){const a=Bm(r);throw a==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+a)}}function Sm(i,t,r){if((t=Pr(t))instanceof Wo)return t._internalPath;if(typeof t=="string")return mg(i,t);throw af("Field path arguments must be of type string or ",i,!1,void 0,r)}const eD=new RegExp("[~\\*/\\[\\]]");function mg(i,t,r){if(t.search(eD)>=0)throw af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Wo(...t.split("."))._internalPath}catch{throw af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function af(i,t,r,a,l){const u=a&&!a.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${a}`),h&&(g+=` in document ${l}`),g+=")"),new dt(rt.INVALID_ARGUMENT,m+i+g)}function Rb(i,t){return i.some((r=>r.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t,r,a,l,u){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Db("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class nD extends Cb{data(){return super.data()}}function Db(i,t){return typeof t=="string"?mg(i,t):t instanceof Wo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new dt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iD{convertValue(t,r="none"){switch(ua(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(oa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return ha(t,((l,u)=>{a[l]=this.convertValue(u,r)})),a}convertVectorValue(t){const r=t.fields?.[Kc].arrayValue?.values?.map((a=>we(a.doubleValue)));return new Ur(r)}convertGeoPoint(t){return new Lr(we(t.latitude),we(t.longitude))}convertArray(t,r){return(t.values||[]).map((a=>this.convertValue(a,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const a=gf(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Uo(t));default:return null}}convertTimestamp(t){const r=la(t);return new oe(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=le.fromString(t);Xt(GE(a),9688,{name:t});const l=new Po(a.get(1),a.get(3)),u=new vt(a.popFirst(5));return l.isEqual(r)||Si(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(i,t,r){let a;return a=i?r&&(r.merge||r.mergeFields)?i.toFirestore(t,r):i.toFirestore(t):t,a}class To{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ya extends Cb{constructor(t,r,a,l,u,h){super(t,r,a,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(Db("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Ya._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:Oe("string",Ya._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class zc extends Ya{data(t={}){return super.data(t)}}class Js{constructor(t,r,a,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new To(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((a=>{t.call(r,new zc(this._firestore,this._userDataWriter,a.key,a,new To(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new dt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((m=>{const g=new zc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new To(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new zc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new To(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:aD(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Js._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(i){i=dr(i,Me);const t=dr(i.firestore,ts);return QC(Df(t),i._key).then((r=>cD(t,i,r)))}Js._jsonSchemaVersion="firestore/querySnapshot/1.0",Js._jsonSchema={type:Oe("string",Js._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Nb extends iD{constructor(t){super(),this.firestore=t}convertBytes(t){return new er(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,r)}}function lD(i){i=dr(i,Cf);const t=dr(i.firestore,ts),r=Df(t),a=new Nb(t);return rD(i._query),YC(r,i._query).then((l=>new Js(t,a,i,l)))}function oD(i,t,r){i=dr(i,Me);const a=dr(i.firestore,ts),l=xb(i.converter,t,r);return If(a,[bb(hg(a),"setDoc",i._key,l,i.converter!==null,r).toMutation(i._key,xn.none())])}function Ib(i,t,r,...a){i=dr(i,Me);const l=dr(i.firestore,ts),u=hg(l);let h;return h=typeof(t=Pr(t))=="string"||t instanceof Wo?Sb(u,"updateDoc",i._key,t,r,a):Tb(u,"updateDoc",i._key,t),If(l,[h.toMutation(i._key,xn.exists(!0))])}function uD(i){return If(dr(i.firestore,ts),[new bf(i._key,xn.none())])}function If(i,t){return(function(a,l){const u=new Ei;return a.asyncQueue.enqueueAndForget((async()=>MC(await FC(a),l,u))),u.promise})(Df(i),t)}function cD(i,t,r){const a=r.docs.get(t._key),l=new Nb(i);return new Ya(i,l,t._key,a,new To(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=hg(t)}set(t,r,a){this._verifyNotCommitted();const l=Kd(t,this._firestore),u=xb(l.converter,r,a),h=bb(this._dataReader,"WriteBatch.set",l._key,u,l.converter!==null,a);return this._mutations.push(h.toMutation(l._key,xn.none())),this}update(t,r,a,...l){this._verifyNotCommitted();const u=Kd(t,this._firestore);let h;return h=typeof(r=Pr(r))=="string"||r instanceof Wo?Sb(this._dataReader,"WriteBatch.update",u._key,r,a,l):Tb(this._dataReader,"WriteBatch.update",u._key,r),this._mutations.push(h.toMutation(u._key,xn.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=Kd(t,this._firestore);return this._mutations=this._mutations.concat(new bf(r._key,xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kd(i,t){if((i=Pr(i)).firestore!==t)throw new dt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(i){return Df(i=dr(i,ts)),new fD(i,(t=>If(i,t)))}(function(t,r=!0){(function(l){ol=l})(Bw),Qc(new Oo("firestore",((a,{instanceIdentifier:l,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new ts(new tR(a.getProvider("auth-internal")),new rR(h,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(y.options.projectId,E)})(h,l),h);return u={useFetchStreams:r,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),$s(u_,c_,t),$s(u_,c_,"esm2020")})();var dD="firebase",mD="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s(dD,mD,"app");const gD={apiKey:"AIzaSyA4PfUq-mZuhTigs176jp4pqWqA6_98LsY",authDomain:"mymangalist-d76ad.firebaseapp.com",projectId:"mymangalist-d76ad",storageBucket:"mymangalist-d76ad.firebasestorage.app",messagingSenderId:"658088308670",appId:"1:658088308670:web:7de341fab5c2e508ccd3ef"},pD=X0(gD),ea=$C(pD);function yD(){for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return C.useMemo(()=>a=>{t.forEach(l=>l(a))},t)}const Vf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hl(i){const t=Object.prototype.toString.call(i);return t==="[object Window]"||t==="[object global]"}function gg(i){return"nodeType"in i}function Nn(i){var t,r;return i?hl(i)?i:gg(i)&&(t=(r=i.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function pg(i){const{Document:t}=Nn(i);return i instanceof t}function tu(i){return hl(i)?!1:i instanceof Nn(i).HTMLElement}function Vb(i){return i instanceof Nn(i).SVGElement}function dl(i){return i?hl(i)?i.document:gg(i)?pg(i)?i:tu(i)||Vb(i)?i.ownerDocument:document:document:document}const Br=Vf?C.useLayoutEffect:C.useEffect;function yg(i){const t=C.useRef(i);return Br(()=>{t.current=i}),C.useCallback(function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t.current==null?void 0:t.current(...a)},[])}function vD(){const i=C.useRef(null),t=C.useCallback((a,l)=>{i.current=setInterval(a,l)},[]),r=C.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[t,r]}function jo(i,t){t===void 0&&(t=[i]);const r=C.useRef(i);return Br(()=>{r.current!==i&&(r.current=i)},t),r}function eu(i,t){const r=C.useRef();return C.useMemo(()=>{const a=i(r.current);return r.current=a,a},[...t])}function sf(i){const t=yg(i),r=C.useRef(null),a=C.useCallback(l=>{l!==r.current&&t?.(l,r.current),r.current=l},[]);return[r,a]}function Am(i){const t=C.useRef();return C.useEffect(()=>{t.current=i},[i]),t.current}let $d={};function nu(i,t){return C.useMemo(()=>{if(t)return t;const r=$d[i]==null?0:$d[i]+1;return $d[i]=r,i+"-"+r},[i,t])}function Ob(i){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return a.reduce((u,h)=>{const m=Object.entries(h);for(const[g,y]of m){const E=u[g];E!=null&&(u[g]=E+i*y)}return u},{...t})}}const Ws=Ob(1),qo=Ob(-1);function _D(i){return"clientX"in i&&"clientY"in i}function vg(i){if(!i)return!1;const{KeyboardEvent:t}=Nn(i.target);return t&&i instanceof t}function ED(i){if(!i)return!1;const{TouchEvent:t}=Nn(i.target);return t&&i instanceof t}function wm(i){if(ED(i)){if(i.touches&&i.touches.length){const{clientX:t,clientY:r}=i.touches[0];return{x:t,y:r}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:t,clientY:r}=i.changedTouches[0];return{x:t,y:r}}}return _D(i)?{x:i.clientX,y:i.clientY}:null}const Ho=Object.freeze({Translate:{toString(i){if(!i)return;const{x:t,y:r}=i;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:t,scaleY:r}=i;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(i){if(i)return[Ho.Translate.toString(i),Ho.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:t,duration:r,easing:a}=i;return t+" "+r+"ms "+a}}}),i0="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function bD(i){return i.matches(i0)?i:i.querySelector(i0)}const TD={display:"none"};function SD(i){let{id:t,value:r}=i;return Ee.createElement("div",{id:t,style:TD},r)}function AD(i){let{id:t,announcement:r,ariaLiveType:a="assertive"}=i;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ee.createElement("div",{id:t,style:l,role:"status","aria-live":a,"aria-atomic":!0},r)}function wD(){const[i,t]=C.useState("");return{announce:C.useCallback(a=>{a!=null&&t(a)},[]),announcement:i}}const Mb=C.createContext(null);function RD(i){const t=C.useContext(Mb);C.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(i)},[i,t])}function CD(){const[i]=C.useState(()=>new Set),t=C.useCallback(a=>(i.add(a),()=>i.delete(a)),[i]);return[C.useCallback(a=>{let{type:l,event:u}=a;i.forEach(h=>{var m;return(m=h[l])==null?void 0:m.call(h,u)})},[i]),t]}const DD={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},xD={onDragStart(i){let{active:t}=i;return"Picked up draggable item "+t.id+"."},onDragOver(i){let{active:t,over:r}=i;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(i){let{active:t,over:r}=i;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(i){let{active:t}=i;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ND(i){let{announcements:t=xD,container:r,hiddenTextDescribedById:a,screenReaderInstructions:l=DD}=i;const{announce:u,announcement:h}=wD(),m=nu("DndLiveRegion"),[g,y]=C.useState(!1);if(C.useEffect(()=>{y(!0)},[]),RD(C.useMemo(()=>({onDragStart(T){let{active:S}=T;u(t.onDragStart({active:S}))},onDragMove(T){let{active:S,over:D}=T;t.onDragMove&&u(t.onDragMove({active:S,over:D}))},onDragOver(T){let{active:S,over:D}=T;u(t.onDragOver({active:S,over:D}))},onDragEnd(T){let{active:S,over:D}=T;u(t.onDragEnd({active:S,over:D}))},onDragCancel(T){let{active:S,over:D}=T;u(t.onDragCancel({active:S,over:D}))}}),[u,t])),!g)return null;const E=Ee.createElement(Ee.Fragment,null,Ee.createElement(SD,{id:a,value:l.draggable}),Ee.createElement(AD,{id:m,announcement:h}));return r?vo.createPortal(E,r):E}var je;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(je||(je={}));function lf(){}function a0(i,t){return C.useMemo(()=>({sensor:i,options:t??{}}),[i,t])}function ID(){for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return C.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const mr=Object.freeze({x:0,y:0});function Lb(i,t){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function Ub(i,t){let{data:{value:r}}=i,{data:{value:a}}=t;return r-a}function VD(i,t){let{data:{value:r}}=i,{data:{value:a}}=t;return a-r}function s0(i){let{left:t,top:r,height:a,width:l}=i;return[{x:t,y:r},{x:t+l,y:r},{x:t,y:r+a},{x:t+l,y:r+a}]}function Pb(i,t){if(!i||i.length===0)return null;const[r]=i;return r[t]}function l0(i,t,r){return t===void 0&&(t=i.left),r===void 0&&(r=i.top),{x:t+i.width*.5,y:r+i.height*.5}}const OD=i=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=i;const l=l0(t,t.left,t.top),u=[];for(const h of a){const{id:m}=h,g=r.get(m);if(g){const y=Lb(l0(g),l);u.push({id:m,data:{droppableContainer:h,value:y}})}}return u.sort(Ub)},MD=i=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=i;const l=s0(t),u=[];for(const h of a){const{id:m}=h,g=r.get(m);if(g){const y=s0(g),E=l.reduce((S,D,P)=>S+Lb(y[P],D),0),T=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:h,value:T}})}}return u.sort(Ub)};function LD(i,t){const r=Math.max(t.top,i.top),a=Math.max(t.left,i.left),l=Math.min(t.left+t.width,i.left+i.width),u=Math.min(t.top+t.height,i.top+i.height),h=l-a,m=u-r;if(a<l&&r<u){const g=t.width*t.height,y=i.width*i.height,E=h*m,T=E/(g+y-E);return Number(T.toFixed(4))}return 0}const UD=i=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=i;const l=[];for(const u of a){const{id:h}=u,m=r.get(h);if(m){const g=LD(m,t);g>0&&l.push({id:h,data:{droppableContainer:u,value:g}})}}return l.sort(VD)};function PD(i,t,r){return{...i,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function zb(i,t){return i&&t?{x:i.left-t.left,y:i.top-t.top}:mr}function zD(i){return function(r){for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];return l.reduce((h,m)=>({...h,top:h.top+i*m.y,bottom:h.bottom+i*m.y,left:h.left+i*m.x,right:h.right+i*m.x}),{...r})}}const kD=zD(1);function BD(i){if(i.startsWith("matrix3d(")){const t=i.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(i.startsWith("matrix(")){const t=i.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function jD(i,t,r){const a=BD(t);if(!a)return i;const{scaleX:l,scaleY:u,x:h,y:m}=a,g=i.left-h-(1-l)*parseFloat(r),y=i.top-m-(1-u)*parseFloat(r.slice(r.indexOf(" ")+1)),E=l?i.width/l:i.width,T=u?i.height/u:i.height;return{width:E,height:T,top:y,right:g+E,bottom:y+T,left:g}}const qD={ignoreTransform:!1};function ml(i,t){t===void 0&&(t=qD);let r=i.getBoundingClientRect();if(t.ignoreTransform){const{transform:y,transformOrigin:E}=Nn(i).getComputedStyle(i);y&&(r=jD(r,y,E))}const{top:a,left:l,width:u,height:h,bottom:m,right:g}=r;return{top:a,left:l,width:u,height:h,bottom:m,right:g}}function o0(i){return ml(i,{ignoreTransform:!0})}function HD(i){const t=i.innerWidth,r=i.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function GD(i,t){return t===void 0&&(t=Nn(i).getComputedStyle(i)),t.position==="fixed"}function FD(i,t){t===void 0&&(t=Nn(i).getComputedStyle(i));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const u=t[l];return typeof u=="string"?r.test(u):!1})}function Of(i,t){const r=[];function a(l){if(t!=null&&r.length>=t||!l)return r;if(pg(l)&&l.scrollingElement!=null&&!r.includes(l.scrollingElement))return r.push(l.scrollingElement),r;if(!tu(l)||Vb(l)||r.includes(l))return r;const u=Nn(i).getComputedStyle(l);return l!==i&&FD(l,u)&&r.push(l),GD(l,u)?r:a(l.parentNode)}return i?a(i):r}function kb(i){const[t]=Of(i,1);return t??null}function Zd(i){return!Vf||!i?null:hl(i)?i:gg(i)?pg(i)||i===dl(i).scrollingElement?window:tu(i)?i:null:null}function Bb(i){return hl(i)?i.scrollX:i.scrollLeft}function jb(i){return hl(i)?i.scrollY:i.scrollTop}function Rm(i){return{x:Bb(i),y:jb(i)}}var Ze;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(Ze||(Ze={}));function qb(i){return!Vf||!i?!1:i===document.scrollingElement}function Hb(i){const t={x:0,y:0},r=qb(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},a={x:i.scrollWidth-r.width,y:i.scrollHeight-r.height},l=i.scrollTop<=t.y,u=i.scrollLeft<=t.x,h=i.scrollTop>=a.y,m=i.scrollLeft>=a.x;return{isTop:l,isLeft:u,isBottom:h,isRight:m,maxScroll:a,minScroll:t}}const QD={x:.2,y:.2};function YD(i,t,r,a,l){let{top:u,left:h,right:m,bottom:g}=r;a===void 0&&(a=10),l===void 0&&(l=QD);const{isTop:y,isBottom:E,isLeft:T,isRight:S}=Hb(i),D={x:0,y:0},P={x:0,y:0},B={height:t.height*l.y,width:t.width*l.x};return!y&&u<=t.top+B.height?(D.y=Ze.Backward,P.y=a*Math.abs((t.top+B.height-u)/B.height)):!E&&g>=t.bottom-B.height&&(D.y=Ze.Forward,P.y=a*Math.abs((t.bottom-B.height-g)/B.height)),!S&&m>=t.right-B.width?(D.x=Ze.Forward,P.x=a*Math.abs((t.right-B.width-m)/B.width)):!T&&h<=t.left+B.width&&(D.x=Ze.Backward,P.x=a*Math.abs((t.left+B.width-h)/B.width)),{direction:D,speed:P}}function XD(i){if(i===document.scrollingElement){const{innerWidth:u,innerHeight:h}=window;return{top:0,left:0,right:u,bottom:h,width:u,height:h}}const{top:t,left:r,right:a,bottom:l}=i.getBoundingClientRect();return{top:t,left:r,right:a,bottom:l,width:i.clientWidth,height:i.clientHeight}}function Gb(i){return i.reduce((t,r)=>Ws(t,Rm(r)),mr)}function KD(i){return i.reduce((t,r)=>t+Bb(r),0)}function $D(i){return i.reduce((t,r)=>t+jb(r),0)}function ZD(i,t){if(t===void 0&&(t=ml),!i)return;const{top:r,left:a,bottom:l,right:u}=t(i);kb(i)&&(l<=0||u<=0||r>=window.innerHeight||a>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const JD=[["x",["left","right"],KD],["y",["top","bottom"],$D]];class _g{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Of(r),l=Gb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,h,m]of JD)for(const g of h)Object.defineProperty(this,g,{get:()=>{const y=m(a),E=l[u]-y;return this.rect[g]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Do{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...r)})},this.target=t}add(t,r,a){var l;(l=this.target)==null||l.addEventListener(t,r,a),this.listeners.push([t,r,a])}}function WD(i){const{EventTarget:t}=Nn(i);return i instanceof t?i:dl(i)}function Jd(i,t){const r=Math.abs(i.x),a=Math.abs(i.y);return typeof t=="number"?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t?a>t.y:!1}var tr;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(tr||(tr={}));function u0(i){i.preventDefault()}function tx(i){i.stopPropagation()}var zt;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(zt||(zt={}));const Fb={start:[zt.Space,zt.Enter],cancel:[zt.Esc],end:[zt.Space,zt.Enter,zt.Tab]},ex=(i,t)=>{let{currentCoordinates:r}=t;switch(i.code){case zt.Right:return{...r,x:r.x+25};case zt.Left:return{...r,x:r.x-25};case zt.Down:return{...r,y:r.y+25};case zt.Up:return{...r,y:r.y-25}}};class Eg{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Do(dl(r)),this.windowListeners=new Do(Nn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(tr.Resize,this.handleCancel),this.windowListeners.add(tr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(tr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,a=t.node.current;a&&ZD(a),r(mr)}handleKeyDown(t){if(vg(t)){const{active:r,context:a,options:l}=this.props,{keyboardCodes:u=Fb,coordinateGetter:h=ex,scrollBehavior:m="smooth"}=l,{code:g}=t;if(u.end.includes(g)){this.handleEnd(t);return}if(u.cancel.includes(g)){this.handleCancel(t);return}const{collisionRect:y}=a.current,E=y?{x:y.left,y:y.top}:mr;this.referenceCoordinates||(this.referenceCoordinates=E);const T=h(t,{active:r,context:a.current,currentCoordinates:E});if(T){const S=qo(T,E),D={x:0,y:0},{scrollableAncestors:P}=a.current;for(const B of P){const V=t.code,{isTop:X,isRight:Q,isLeft:K,isBottom:ot,maxScroll:at,minScroll:ct}=Hb(B),I=XD(B),w={x:Math.min(V===zt.Right?I.right-I.width/2:I.right,Math.max(V===zt.Right?I.left:I.left+I.width/2,T.x)),y:Math.min(V===zt.Down?I.bottom-I.height/2:I.bottom,Math.max(V===zt.Down?I.top:I.top+I.height/2,T.y))},R=V===zt.Right&&!Q||V===zt.Left&&!K,O=V===zt.Down&&!ot||V===zt.Up&&!X;if(R&&w.x!==T.x){const M=B.scrollLeft+S.x,z=V===zt.Right&&M<=at.x||V===zt.Left&&M>=ct.x;if(z&&!S.y){B.scrollTo({left:M,behavior:m});return}z?D.x=B.scrollLeft-M:D.x=V===zt.Right?B.scrollLeft-at.x:B.scrollLeft-ct.x,D.x&&B.scrollBy({left:-D.x,behavior:m});break}else if(O&&w.y!==T.y){const M=B.scrollTop+S.y,z=V===zt.Down&&M<=at.y||V===zt.Up&&M>=ct.y;if(z&&!S.x){B.scrollTo({top:M,behavior:m});return}z?D.y=B.scrollTop-M:D.y=V===zt.Down?B.scrollTop-at.y:B.scrollTop-ct.y,D.y&&B.scrollBy({top:-D.y,behavior:m});break}}this.handleMove(t,Ws(qo(T,this.referenceCoordinates),D))}}}handleMove(t,r){const{onMove:a}=this.props;t.preventDefault(),a(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Eg.activators=[{eventName:"onKeyDown",handler:(i,t,r)=>{let{keyboardCodes:a=Fb,onActivation:l}=t,{active:u}=r;const{code:h}=i.nativeEvent;if(a.start.includes(h)){const m=u.activatorNode.current;return m&&i.target!==m?!1:(i.preventDefault(),l?.({event:i.nativeEvent}),!0)}return!1}}];function c0(i){return!!(i&&"distance"in i)}function f0(i){return!!(i&&"delay"in i)}class bg{constructor(t,r,a){var l;a===void 0&&(a=WD(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:u}=t,{target:h}=u;this.props=t,this.events=r,this.document=dl(h),this.documentListeners=new Do(this.document),this.listeners=new Do(a),this.windowListeners=new Do(Nn(h)),this.initialCoordinates=(l=wm(u))!=null?l:mr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(tr.Resize,this.handleCancel),this.windowListeners.add(tr.DragStart,u0),this.windowListeners.add(tr.VisibilityChange,this.handleCancel),this.windowListeners.add(tr.ContextMenu,u0),this.documentListeners.add(tr.Keydown,this.handleKeydown),r){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(f0(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(c0(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:a,onPending:l}=this.props;l(a,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(tr.Click,tx,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(tr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:a,initialCoordinates:l,props:u}=this,{onMove:h,options:{activationConstraint:m}}=u;if(!l)return;const g=(r=wm(t))!=null?r:mr,y=qo(l,g);if(!a&&m){if(c0(m)){if(m.tolerance!=null&&Jd(y,m.tolerance))return this.handleCancel();if(Jd(y,m.distance))return this.handleStart()}if(f0(m)&&Jd(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}t.cancelable&&t.preventDefault(),h(g)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===zt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const nx={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Tg extends bg{constructor(t){const{event:r}=t,a=dl(r.target);super(t,nx,a)}}Tg.activators=[{eventName:"onPointerDown",handler:(i,t)=>{let{nativeEvent:r}=i,{onActivation:a}=t;return!r.isPrimary||r.button!==0?!1:(a?.({event:r}),!0)}}];const rx={move:{name:"mousemove"},end:{name:"mouseup"}};var Cm;(function(i){i[i.RightClick=2]="RightClick"})(Cm||(Cm={}));class ix extends bg{constructor(t){super(t,rx,dl(t.event.target))}}ix.activators=[{eventName:"onMouseDown",handler:(i,t)=>{let{nativeEvent:r}=i,{onActivation:a}=t;return r.button===Cm.RightClick?!1:(a?.({event:r}),!0)}}];const Wd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ax extends bg{constructor(t){super(t,Wd)}static setup(){return window.addEventListener(Wd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Wd.move.name,t)};function t(){}}}ax.activators=[{eventName:"onTouchStart",handler:(i,t)=>{let{nativeEvent:r}=i,{onActivation:a}=t;const{touches:l}=r;return l.length>1?!1:(a?.({event:r}),!0)}}];var xo;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(xo||(xo={}));var of;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(of||(of={}));function sx(i){let{acceleration:t,activator:r=xo.Pointer,canScroll:a,draggingRect:l,enabled:u,interval:h=5,order:m=of.TreeOrder,pointerCoordinates:g,scrollableAncestors:y,scrollableAncestorRects:E,delta:T,threshold:S}=i;const D=ox({delta:T,disabled:!u}),[P,B]=vD(),V=C.useRef({x:0,y:0}),X=C.useRef({x:0,y:0}),Q=C.useMemo(()=>{switch(r){case xo.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case xo.DraggableRect:return l}},[r,l,g]),K=C.useRef(null),ot=C.useCallback(()=>{const ct=K.current;if(!ct)return;const I=V.current.x*X.current.x,w=V.current.y*X.current.y;ct.scrollBy(I,w)},[]),at=C.useMemo(()=>m===of.TreeOrder?[...y].reverse():y,[m,y]);C.useEffect(()=>{if(!u||!y.length||!Q){B();return}for(const ct of at){if(a?.(ct)===!1)continue;const I=y.indexOf(ct),w=E[I];if(!w)continue;const{direction:R,speed:O}=YD(ct,w,Q,t,S);for(const M of["x","y"])D[M][R[M]]||(O[M]=0,R[M]=0);if(O.x>0||O.y>0){B(),K.current=ct,P(ot,h),V.current=O,X.current=R;return}}V.current={x:0,y:0},X.current={x:0,y:0},B()},[t,ot,a,B,u,h,JSON.stringify(Q),JSON.stringify(D),P,y,at,E,JSON.stringify(S)])}const lx={x:{[Ze.Backward]:!1,[Ze.Forward]:!1},y:{[Ze.Backward]:!1,[Ze.Forward]:!1}};function ox(i){let{delta:t,disabled:r}=i;const a=Am(t);return eu(l=>{if(r||!a||!l)return lx;const u={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Ze.Backward]:l.x[Ze.Backward]||u.x===-1,[Ze.Forward]:l.x[Ze.Forward]||u.x===1},y:{[Ze.Backward]:l.y[Ze.Backward]||u.y===-1,[Ze.Forward]:l.y[Ze.Forward]||u.y===1}}},[r,t,a])}function ux(i,t){const r=t!=null?i.get(t):void 0,a=r?r.node.current:null;return eu(l=>{var u;return t==null?null:(u=a??l)!=null?u:null},[a,t])}function cx(i,t){return C.useMemo(()=>i.reduce((r,a)=>{const{sensor:l}=a,u=l.activators.map(h=>({eventName:h.eventName,handler:t(h.handler,a)}));return[...r,...u]},[]),[i,t])}var Go;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Go||(Go={}));var Dm;(function(i){i.Optimized="optimized"})(Dm||(Dm={}));const h0=new Map;function fx(i,t){let{dragging:r,dependencies:a,config:l}=t;const[u,h]=C.useState(null),{frequency:m,measure:g,strategy:y}=l,E=C.useRef(i),T=V(),S=jo(T),D=C.useCallback(function(X){X===void 0&&(X=[]),!S.current&&h(Q=>Q===null?X:Q.concat(X.filter(K=>!Q.includes(K))))},[S]),P=C.useRef(null),B=eu(X=>{if(T&&!r)return h0;if(!X||X===h0||E.current!==i||u!=null){const Q=new Map;for(let K of i){if(!K)continue;if(u&&u.length>0&&!u.includes(K.id)&&K.rect.current){Q.set(K.id,K.rect.current);continue}const ot=K.node.current,at=ot?new _g(g(ot),ot):null;K.rect.current=at,at&&Q.set(K.id,at)}return Q}return X},[i,u,r,T,g]);return C.useEffect(()=>{E.current=i},[i]),C.useEffect(()=>{T||D()},[r,T]),C.useEffect(()=>{u&&u.length>0&&h(null)},[JSON.stringify(u)]),C.useEffect(()=>{T||typeof m!="number"||P.current!==null||(P.current=setTimeout(()=>{D(),P.current=null},m))},[m,T,D,...a]),{droppableRects:B,measureDroppableContainers:D,measuringScheduled:u!=null};function V(){switch(y){case Go.Always:return!1;case Go.BeforeDragging:return r;default:return!r}}}function Qb(i,t){return eu(r=>i?r||(typeof t=="function"?t(i):i):null,[t,i])}function hx(i,t){return Qb(i,t)}function dx(i){let{callback:t,disabled:r}=i;const a=yg(t),l=C.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(a)},[a,r]);return C.useEffect(()=>()=>l?.disconnect(),[l]),l}function Mf(i){let{callback:t,disabled:r}=i;const a=yg(t),l=C.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(a)},[r]);return C.useEffect(()=>()=>l?.disconnect(),[l]),l}function mx(i){return new _g(ml(i),i)}function d0(i,t,r){t===void 0&&(t=mx);const[a,l]=C.useState(null);function u(){l(g=>{if(!i)return null;if(i.isConnected===!1){var y;return(y=g??r)!=null?y:null}const E=t(i);return JSON.stringify(g)===JSON.stringify(E)?g:E})}const h=dx({callback(g){if(i)for(const y of g){const{type:E,target:T}=y;if(E==="childList"&&T instanceof HTMLElement&&T.contains(i)){u();break}}}}),m=Mf({callback:u});return Br(()=>{u(),i?(m?.observe(i),h?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),h?.disconnect())},[i]),a}function gx(i){const t=Qb(i);return zb(i,t)}const m0=[];function px(i){const t=C.useRef(i),r=eu(a=>i?a&&a!==m0&&i&&t.current&&i.parentNode===t.current.parentNode?a:Of(i):m0,[i]);return C.useEffect(()=>{t.current=i},[i]),r}function yx(i){const[t,r]=C.useState(null),a=C.useRef(i),l=C.useCallback(u=>{const h=Zd(u.target);h&&r(m=>m?(m.set(h,Rm(h)),new Map(m)):null)},[]);return C.useEffect(()=>{const u=a.current;if(i!==u){h(u);const m=i.map(g=>{const y=Zd(g);return y?(y.addEventListener("scroll",l,{passive:!0}),[y,Rm(y)]):null}).filter(g=>g!=null);r(m.length?new Map(m):null),a.current=i}return()=>{h(i),h(u)};function h(m){m.forEach(g=>{const y=Zd(g);y?.removeEventListener("scroll",l)})}},[l,i]),C.useMemo(()=>i.length?t?Array.from(t.values()).reduce((u,h)=>Ws(u,h),mr):Gb(i):mr,[i,t])}function g0(i,t){t===void 0&&(t=[]);const r=C.useRef(null);return C.useEffect(()=>{r.current=null},t),C.useEffect(()=>{const a=i!==mr;a&&!r.current&&(r.current=i),!a&&r.current&&(r.current=null)},[i]),r.current?qo(i,r.current):mr}function vx(i){C.useEffect(()=>{if(!Vf)return;const t=i.map(r=>{let{sensor:a}=r;return a.setup==null?void 0:a.setup()});return()=>{for(const r of t)r?.()}},i.map(t=>{let{sensor:r}=t;return r}))}function _x(i,t){return C.useMemo(()=>i.reduce((r,a)=>{let{eventName:l,handler:u}=a;return r[l]=h=>{u(h,t)},r},{}),[i,t])}function Yb(i){return C.useMemo(()=>i?HD(i):null,[i])}const p0=[];function Ex(i,t){t===void 0&&(t=ml);const[r]=i,a=Yb(r?Nn(r):null),[l,u]=C.useState(p0);function h(){u(()=>i.length?i.map(g=>qb(g)?a:new _g(t(g),g)):p0)}const m=Mf({callback:h});return Br(()=>{m?.disconnect(),h(),i.forEach(g=>m?.observe(g))},[i]),l}function bx(i){if(!i)return null;if(i.children.length>1)return i;const t=i.children[0];return tu(t)?t:i}function Tx(i){let{measure:t}=i;const[r,a]=C.useState(null),l=C.useCallback(y=>{for(const{target:E}of y)if(tu(E)){a(T=>{const S=t(E);return T?{...T,width:S.width,height:S.height}:S});break}},[t]),u=Mf({callback:l}),h=C.useCallback(y=>{const E=bx(y);u?.disconnect(),E&&u?.observe(E),a(E?t(E):null)},[t,u]),[m,g]=sf(h);return C.useMemo(()=>({nodeRef:m,rect:r,setRef:g}),[r,m,g])}const Sx=[{sensor:Tg,options:{}},{sensor:Eg,options:{}}],Ax={current:{}},kc={draggable:{measure:o0},droppable:{measure:o0,strategy:Go.WhileDragging,frequency:Dm.Optimized},dragOverlay:{measure:ml}};class No extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,a;return(r=(a=this.get(t))==null?void 0:a.node.current)!=null?r:void 0}}const wx={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new No,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:lf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:kc,measureDroppableContainers:lf,windowRect:null,measuringScheduled:!1},Rx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:lf,draggableNodes:new Map,over:null,measureDroppableContainers:lf},Lf=C.createContext(Rx),Xb=C.createContext(wx);function Cx(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new No}}}function Dx(i,t){switch(t.type){case je.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case je.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:t.coordinates.x-i.draggable.initialCoordinates.x,y:t.coordinates.y-i.draggable.initialCoordinates.y}}};case je.DragEnd:case je.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case je.RegisterDroppable:{const{element:r}=t,{id:a}=r,l=new No(i.droppable.containers);return l.set(a,r),{...i,droppable:{...i.droppable,containers:l}}}case je.SetDroppableDisabled:{const{id:r,key:a,disabled:l}=t,u=i.droppable.containers.get(r);if(!u||a!==u.key)return i;const h=new No(i.droppable.containers);return h.set(r,{...u,disabled:l}),{...i,droppable:{...i.droppable,containers:h}}}case je.UnregisterDroppable:{const{id:r,key:a}=t,l=i.droppable.containers.get(r);if(!l||a!==l.key)return i;const u=new No(i.droppable.containers);return u.delete(r),{...i,droppable:{...i.droppable,containers:u}}}default:return i}}function xx(i){let{disabled:t}=i;const{active:r,activatorEvent:a,draggableNodes:l}=C.useContext(Lf),u=Am(a),h=Am(r?.id);return C.useEffect(()=>{if(!t&&!a&&u&&h!=null){if(!vg(u)||document.activeElement===u.target)return;const m=l.get(h);if(!m)return;const{activatorNode:g,node:y}=m;if(!g.current&&!y.current)return;requestAnimationFrame(()=>{for(const E of[g.current,y.current]){if(!E)continue;const T=bD(E);if(T){T.focus();break}}})}},[a,t,l,h,u]),null}function Nx(i,t){let{transform:r,...a}=t;return i!=null&&i.length?i.reduce((l,u)=>u({transform:l,...a}),r):r}function Ix(i){return C.useMemo(()=>({draggable:{...kc.draggable,...i?.draggable},droppable:{...kc.droppable,...i?.droppable},dragOverlay:{...kc.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function Vx(i){let{activeNode:t,measure:r,initialRect:a,config:l=!0}=i;const u=C.useRef(!1),{x:h,y:m}=typeof l=="boolean"?{x:l,y:l}:l;Br(()=>{if(!h&&!m||!t){u.current=!1;return}if(u.current||!a)return;const y=t?.node.current;if(!y||y.isConnected===!1)return;const E=r(y),T=zb(E,a);if(h||(T.x=0),m||(T.y=0),u.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const S=kb(y);S&&S.scrollBy({top:T.y,left:T.x})}},[t,h,m,a,r])}const Kb=C.createContext({...mr,scaleX:1,scaleY:1});var Wi;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Wi||(Wi={}));const Ox=C.memo(function(t){var r,a,l,u;let{id:h,accessibility:m,autoScroll:g=!0,children:y,sensors:E=Sx,collisionDetection:T=UD,measuring:S,modifiers:D,...P}=t;const B=C.useReducer(Dx,void 0,Cx),[V,X]=B,[Q,K]=CD(),[ot,at]=C.useState(Wi.Uninitialized),ct=ot===Wi.Initialized,{draggable:{active:I,nodes:w,translate:R},droppable:{containers:O}}=V,M=I!=null?w.get(I):null,z=C.useRef({initial:null,translated:null}),x=C.useMemo(()=>{var ae;return I!=null?{id:I,data:(ae=M?.data)!=null?ae:Ax,rect:z}:null},[I,M]),Zt=C.useRef(null),[Jt,$]=C.useState(null),[st,gt]=C.useState(null),Ct=jo(P,Object.values(P)),L=nu("DndDescribedBy",h),nt=C.useMemo(()=>O.getEnabled(),[O]),lt=Ix(S),{droppableRects:it,measureDroppableContainers:mt,measuringScheduled:At}=fx(nt,{dragging:ct,dependencies:[R.x,R.y],config:lt.droppable}),pt=ux(w,I),he=C.useMemo(()=>st?wm(st):null,[st]),Pt=rr(),Re=hx(pt,lt.draggable.measure);Vx({activeNode:I!=null?w.get(I):null,config:Pt.layoutShiftCompensation,initialRect:Re,measure:lt.draggable.measure});const It=d0(pt,lt.draggable.measure,Re),mn=d0(pt?pt.parentElement:null),Ge=C.useRef({activatorEvent:null,active:null,activeNode:pt,collisionRect:null,collisions:null,droppableRects:it,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Tn=O.getNodeFor((r=Ge.current.over)==null?void 0:r.id),Je=Tx({measure:lt.dragOverlay.measure}),Bn=(a=Je.nodeRef.current)!=null?a:pt,nr=ct?(l=Je.rect)!=null?l:It:null,gn=!!(Je.nodeRef.current&&Je.rect),es=gx(gn?null:It),Hr=Yb(Bn?Nn(Bn):null),pn=px(ct?Tn??pt:null),jn=Ex(pn),wi=Nx(D,{transform:{x:R.x-es.x,y:R.y-es.y,scaleX:1,scaleY:1},activatorEvent:st,active:x,activeNodeRect:It,containerNodeRect:mn,draggingNodeRect:nr,over:Ge.current.over,overlayNodeRect:Je.rect,scrollableAncestors:pn,scrollableAncestorRects:jn,windowRect:Hr}),Gr=he?Ws(he,R):null,Ri=yx(pn),ns=g0(Ri),ue=g0(Ri,[It]),Mt=Ws(wi,ns),Ce=nr?kD(nr,wi):null,pe=x&&Ce?T({active:x,collisionRect:Ce,droppableRects:it,droppableContainers:nt,pointerCoordinates:Gr}):null,ma=Pb(pe,"id"),[qn,gr]=C.useState(null),Fr=gn?wi:Ws(wi,ue),Qr=PD(Fr,(u=qn?.rect)!=null?u:null,It),yn=C.useRef(null),Yr=C.useCallback((ae,Le)=>{let{sensor:ce,options:Sn}=Le;if(Zt.current==null)return;const be=w.get(Zt.current);if(!be)return;const De=ae.nativeEvent,Ue=new ce({active:Zt.current,activeNode:be,event:De,options:Sn,context:Ge,onAbort(Rt){if(!w.get(Rt))return;const{onDragAbort:Ft}=Ct.current,ye={id:Rt};Ft?.(ye),Q({type:"onDragAbort",event:ye})},onPending(Rt,Wt,Ft,ye){if(!w.get(Rt))return;const{onDragPending:Kr}=Ct.current,We={id:Rt,constraint:Wt,initialCoordinates:Ft,offset:ye};Kr?.(We),Q({type:"onDragPending",event:We})},onStart(Rt){const Wt=Zt.current;if(Wt==null)return;const Ft=w.get(Wt);if(!Ft)return;const{onDragStart:ye}=Ct.current,ar={activatorEvent:De,active:{id:Wt,data:Ft.data,rect:z}};vo.unstable_batchedUpdates(()=>{ye?.(ar),at(Wi.Initializing),X({type:je.DragStart,initialCoordinates:Rt,active:Wt}),Q({type:"onDragStart",event:ar}),$(yn.current),gt(De)})},onMove(Rt){X({type:je.DragMove,coordinates:Rt})},onEnd:ir(je.DragEnd),onCancel:ir(je.DragCancel)});yn.current=Ue;function ir(Rt){return async function(){const{active:Ft,collisions:ye,over:ar,scrollAdjustedTranslate:Kr}=Ge.current;let We=null;if(Ft&&Kr){const{cancelDrop:pr}=Ct.current;We={activatorEvent:De,active:Ft,collisions:ye,delta:Kr,over:ar},Rt===je.DragEnd&&typeof pr=="function"&&await Promise.resolve(pr(We))&&(Rt=je.DragCancel)}Zt.current=null,vo.unstable_batchedUpdates(()=>{X({type:Rt}),at(Wi.Uninitialized),gr(null),$(null),gt(null),yn.current=null;const pr=Rt===je.DragEnd?"onDragEnd":"onDragCancel";if(We){const sr=Ct.current[pr];sr?.(We),Q({type:pr,event:We})}})}}},[w]),Xr=C.useCallback((ae,Le)=>(ce,Sn)=>{const be=ce.nativeEvent,De=w.get(Sn);if(Zt.current!==null||!De||be.dndKit||be.defaultPrevented)return;const Ue={active:De};ae(ce,Le.options,Ue)===!0&&(be.dndKit={capturedBy:Le.sensor},Zt.current=Sn,Yr(ce,Le))},[w,Yr]),Ci=cx(E,Xr);vx(E),Br(()=>{It&&ot===Wi.Initializing&&at(Wi.Initialized)},[It,ot]),C.useEffect(()=>{const{onDragMove:ae}=Ct.current,{active:Le,activatorEvent:ce,collisions:Sn,over:be}=Ge.current;if(!Le||!ce)return;const De={active:Le,activatorEvent:ce,collisions:Sn,delta:{x:Mt.x,y:Mt.y},over:be};vo.unstable_batchedUpdates(()=>{ae?.(De),Q({type:"onDragMove",event:De})})},[Mt.x,Mt.y]),C.useEffect(()=>{const{active:ae,activatorEvent:Le,collisions:ce,droppableContainers:Sn,scrollAdjustedTranslate:be}=Ge.current;if(!ae||Zt.current==null||!Le||!be)return;const{onDragOver:De}=Ct.current,Ue=Sn.get(ma),ir=Ue&&Ue.rect.current?{id:Ue.id,rect:Ue.rect.current,data:Ue.data,disabled:Ue.disabled}:null,Rt={active:ae,activatorEvent:Le,collisions:ce,delta:{x:be.x,y:be.y},over:ir};vo.unstable_batchedUpdates(()=>{gr(ir),De?.(Rt),Q({type:"onDragOver",event:Rt})})},[ma]),Br(()=>{Ge.current={activatorEvent:st,active:x,activeNode:pt,collisionRect:Ce,collisions:pe,droppableRects:it,draggableNodes:w,draggingNode:Bn,draggingNodeRect:nr,droppableContainers:O,over:qn,scrollableAncestors:pn,scrollAdjustedTranslate:Mt},z.current={initial:nr,translated:Ce}},[x,pt,pe,Ce,w,Bn,nr,it,O,qn,pn,Mt]),sx({...Pt,delta:R,draggingRect:Ce,pointerCoordinates:Gr,scrollableAncestors:pn,scrollableAncestorRects:jn});const ga=C.useMemo(()=>({active:x,activeNode:pt,activeNodeRect:It,activatorEvent:st,collisions:pe,containerNodeRect:mn,dragOverlay:Je,draggableNodes:w,droppableContainers:O,droppableRects:it,over:qn,measureDroppableContainers:mt,scrollableAncestors:pn,scrollableAncestorRects:jn,measuringConfiguration:lt,measuringScheduled:At,windowRect:Hr}),[x,pt,It,st,pe,mn,Je,w,O,it,qn,mt,pn,jn,lt,At,Hr]),pa=C.useMemo(()=>({activatorEvent:st,activators:Ci,active:x,activeNodeRect:It,ariaDescribedById:{draggable:L},dispatch:X,draggableNodes:w,over:qn,measureDroppableContainers:mt}),[st,Ci,x,It,X,L,w,qn,mt]);return Ee.createElement(Mb.Provider,{value:K},Ee.createElement(Lf.Provider,{value:pa},Ee.createElement(Xb.Provider,{value:ga},Ee.createElement(Kb.Provider,{value:Qr},y)),Ee.createElement(xx,{disabled:m?.restoreFocus===!1})),Ee.createElement(ND,{...m,hiddenTextDescribedById:L}));function rr(){const ae=Jt?.autoScrollEnabled===!1,Le=typeof g=="object"?g.enabled===!1:g===!1,ce=ct&&!ae&&!Le;return typeof g=="object"?{...g,enabled:ce}:{enabled:ce}}}),Mx=C.createContext(null),y0="button",Lx="Draggable";function Ux(i){let{id:t,data:r,disabled:a=!1,attributes:l}=i;const u=nu(Lx),{activators:h,activatorEvent:m,active:g,activeNodeRect:y,ariaDescribedById:E,draggableNodes:T,over:S}=C.useContext(Lf),{role:D=y0,roleDescription:P="draggable",tabIndex:B=0}=l??{},V=g?.id===t,X=C.useContext(V?Kb:Mx),[Q,K]=sf(),[ot,at]=sf(),ct=_x(h,t),I=jo(r);Br(()=>(T.set(t,{id:t,key:u,node:Q,activatorNode:ot,data:I}),()=>{const R=T.get(t);R&&R.key===u&&T.delete(t)}),[T,t]);const w=C.useMemo(()=>({role:D,tabIndex:B,"aria-disabled":a,"aria-pressed":V&&D===y0?!0:void 0,"aria-roledescription":P,"aria-describedby":E.draggable}),[a,D,B,V,P,E.draggable]);return{active:g,activatorEvent:m,activeNodeRect:y,attributes:w,isDragging:V,listeners:a?void 0:ct,node:Q,over:S,setNodeRef:K,setActivatorNodeRef:at,transform:X}}function Px(){return C.useContext(Xb)}const zx="Droppable",kx={timeout:25};function Bx(i){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:l}=i;const u=nu(zx),{active:h,dispatch:m,over:g,measureDroppableContainers:y}=C.useContext(Lf),E=C.useRef({disabled:r}),T=C.useRef(!1),S=C.useRef(null),D=C.useRef(null),{disabled:P,updateMeasurementsFor:B,timeout:V}={...kx,...l},X=jo(B??a),Q=C.useCallback(()=>{if(!T.current){T.current=!0;return}D.current!=null&&clearTimeout(D.current),D.current=setTimeout(()=>{y(Array.isArray(X.current)?X.current:[X.current]),D.current=null},V)},[V]),K=Mf({callback:Q,disabled:P||!h}),ot=C.useCallback((w,R)=>{K&&(R&&(K.unobserve(R),T.current=!1),w&&K.observe(w))},[K]),[at,ct]=sf(ot),I=jo(t);return C.useEffect(()=>{!K||!at.current||(K.disconnect(),T.current=!1,K.observe(at.current))},[at,K]),C.useEffect(()=>(m({type:je.RegisterDroppable,element:{id:a,key:u,disabled:r,node:at,rect:S,data:I}}),()=>m({type:je.UnregisterDroppable,key:u,id:a})),[a]),C.useEffect(()=>{r!==E.current.disabled&&(m({type:je.SetDroppableDisabled,id:a,key:u,disabled:r}),E.current.disabled=r)},[a,u,r,m]),{active:h,rect:S,isOver:g?.id===a,node:at,over:g,setNodeRef:ct}}function Sg(i,t,r){const a=i.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function jx(i,t){return i.reduce((r,a,l)=>{const u=t.get(a);return u&&(r[l]=u),r},Array(i.length))}function Dc(i){return i!==null&&i>=0}function qx(i,t){if(i===t)return!0;if(i.length!==t.length)return!1;for(let r=0;r<i.length;r++)if(i[r]!==t[r])return!1;return!0}function Hx(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const $b=i=>{let{rects:t,activeIndex:r,overIndex:a,index:l}=i;const u=Sg(t,a,r),h=t[l],m=u[l];return!m||!h?null:{x:m.left-h.left,y:m.top-h.top,scaleX:m.width/h.width,scaleY:m.height/h.height}},xc={scaleX:1,scaleY:1},Gx=i=>{var t;let{activeIndex:r,activeNodeRect:a,index:l,rects:u,overIndex:h}=i;const m=(t=u[r])!=null?t:a;if(!m)return null;if(l===r){const y=u[h];return y?{x:0,y:r<h?y.top+y.height-(m.top+m.height):y.top-m.top,...xc}:null}const g=Fx(u,l,r);return l>r&&l<=h?{x:0,y:-m.height-g,...xc}:l<r&&l>=h?{x:0,y:m.height+g,...xc}:{x:0,y:0,...xc}};function Fx(i,t,r){const a=i[t],l=i[t-1],u=i[t+1];return a?r<t?l?a.top-(l.top+l.height):u?u.top-(a.top+a.height):0:u?u.top-(a.top+a.height):l?a.top-(l.top+l.height):0:0}const Zb="Sortable",Jb=Ee.createContext({activeIndex:-1,containerId:Zb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:$b,disabled:{draggable:!1,droppable:!1}});function Qx(i){let{children:t,id:r,items:a,strategy:l=$b,disabled:u=!1}=i;const{active:h,dragOverlay:m,droppableRects:g,over:y,measureDroppableContainers:E}=Px(),T=nu(Zb,r),S=m.rect!==null,D=C.useMemo(()=>a.map(ct=>typeof ct=="object"&&"id"in ct?ct.id:ct),[a]),P=h!=null,B=h?D.indexOf(h.id):-1,V=y?D.indexOf(y.id):-1,X=C.useRef(D),Q=!qx(D,X.current),K=V!==-1&&B===-1||Q,ot=Hx(u);Br(()=>{Q&&P&&E(D)},[Q,D,P,E]),C.useEffect(()=>{X.current=D},[D]);const at=C.useMemo(()=>({activeIndex:B,containerId:T,disabled:ot,disableTransforms:K,items:D,overIndex:V,useDragOverlay:S,sortedRects:jx(D,g),strategy:l}),[B,T,ot.draggable,ot.droppable,K,D,V,g,S,l]);return Ee.createElement(Jb.Provider,{value:at},t)}const Yx=i=>{let{id:t,items:r,activeIndex:a,overIndex:l}=i;return Sg(r,a,l).indexOf(t)},Xx=i=>{let{containerId:t,isSorting:r,wasDragging:a,index:l,items:u,newIndex:h,previousItems:m,previousContainerId:g,transition:y}=i;return!y||!a||m!==u&&l===h?!1:r?!0:h!==l&&t===g},Kx={duration:200,easing:"ease"},Wb="transform",$x=Ho.Transition.toString({property:Wb,duration:0,easing:"linear"}),Zx={roleDescription:"sortable"};function Jx(i){let{disabled:t,index:r,node:a,rect:l}=i;const[u,h]=C.useState(null),m=C.useRef(r);return Br(()=>{if(!t&&r!==m.current&&a.current){const g=l.current;if(g){const y=ml(a.current,{ignoreTransform:!0}),E={x:g.left-y.left,y:g.top-y.top,scaleX:g.width/y.width,scaleY:g.height/y.height};(E.x||E.y)&&h(E)}}r!==m.current&&(m.current=r)},[t,r,a,l]),C.useEffect(()=>{u&&h(null)},[u]),u}function Wx(i){let{animateLayoutChanges:t=Xx,attributes:r,disabled:a,data:l,getNewIndex:u=Yx,id:h,strategy:m,resizeObserverConfig:g,transition:y=Kx}=i;const{items:E,containerId:T,activeIndex:S,disabled:D,disableTransforms:P,sortedRects:B,overIndex:V,useDragOverlay:X,strategy:Q}=C.useContext(Jb),K=t4(a,D),ot=E.indexOf(h),at=C.useMemo(()=>({sortable:{containerId:T,index:ot,items:E},...l}),[T,l,ot,E]),ct=C.useMemo(()=>E.slice(E.indexOf(h)),[E,h]),{rect:I,node:w,isOver:R,setNodeRef:O}=Bx({id:h,data:at,disabled:K.droppable,resizeObserverConfig:{updateMeasurementsFor:ct,...g}}),{active:M,activatorEvent:z,activeNodeRect:x,attributes:Zt,setNodeRef:Jt,listeners:$,isDragging:st,over:gt,setActivatorNodeRef:Ct,transform:L}=Ux({id:h,data:at,attributes:{...Zx,...r},disabled:K.draggable}),nt=yD(O,Jt),lt=!!M,it=lt&&!P&&Dc(S)&&Dc(V),mt=!X&&st,At=mt&&it?L:null,he=it?At??(m??Q)({rects:B,activeNodeRect:x,activeIndex:S,overIndex:V,index:ot}):null,Pt=Dc(S)&&Dc(V)?u({id:h,items:E,activeIndex:S,overIndex:V}):ot,Re=M?.id,It=C.useRef({activeId:Re,items:E,newIndex:Pt,containerId:T}),mn=E!==It.current.items,Ge=t({active:M,containerId:T,isDragging:st,isSorting:lt,id:h,index:ot,items:E,newIndex:It.current.newIndex,previousItems:It.current.items,previousContainerId:It.current.containerId,transition:y,wasDragging:It.current.activeId!=null}),Tn=Jx({disabled:!Ge,index:ot,node:w,rect:I});return C.useEffect(()=>{lt&&It.current.newIndex!==Pt&&(It.current.newIndex=Pt),T!==It.current.containerId&&(It.current.containerId=T),E!==It.current.items&&(It.current.items=E)},[lt,Pt,T,E]),C.useEffect(()=>{if(Re===It.current.activeId)return;if(Re&&!It.current.activeId){It.current.activeId=Re;return}const Bn=setTimeout(()=>{It.current.activeId=Re},50);return()=>clearTimeout(Bn)},[Re]),{active:M,activeIndex:S,attributes:Zt,data:at,rect:I,index:ot,newIndex:Pt,items:E,isOver:R,isSorting:lt,isDragging:st,listeners:$,node:w,overIndex:V,over:gt,setNodeRef:nt,setActivatorNodeRef:Ct,setDroppableNodeRef:O,setDraggableNodeRef:Jt,transform:Tn??he,transition:Je()};function Je(){if(Tn||mn&&It.current.newIndex===ot)return $x;if(!(mt&&!vg(z)||!y)&&(lt||Ge))return Ho.Transition.toString({...y,property:Wb})}}function t4(i,t){var r,a;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(r=i?.draggable)!=null?r:t.draggable,droppable:(a=i?.droppable)!=null?a:t.droppable}}function uf(i){if(!i)return!1;const t=i.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const e4=[zt.Down,zt.Right,zt.Up,zt.Left],n4=(i,t)=>{let{context:{active:r,collisionRect:a,droppableRects:l,droppableContainers:u,over:h,scrollableAncestors:m}}=t;if(e4.includes(i.code)){if(i.preventDefault(),!r||!a)return;const g=[];u.getEnabled().forEach(T=>{if(!T||T!=null&&T.disabled)return;const S=l.get(T.id);if(S)switch(i.code){case zt.Down:a.top<S.top&&g.push(T);break;case zt.Up:a.top>S.top&&g.push(T);break;case zt.Left:a.left>S.left&&g.push(T);break;case zt.Right:a.left<S.left&&g.push(T);break}});const y=MD({collisionRect:a,droppableRects:l,droppableContainers:g});let E=Pb(y,"id");if(E===h?.id&&y.length>1&&(E=y[1].id),E!=null){const T=u.get(r.id),S=u.get(E),D=S?l.get(S.id):null,P=S?.node.current;if(P&&D&&T&&S){const V=Of(P).some((ct,I)=>m[I]!==ct),X=t1(T,S),Q=r4(T,S),K=V||!X?{x:0,y:0}:{x:Q?a.width-D.width:0,y:Q?a.height-D.height:0},ot={x:D.left,y:D.top};return K.x&&K.y?ot:qo(ot,K)}}}};function t1(i,t){return!uf(i)||!uf(t)?!1:i.data.current.sortable.containerId===t.data.current.sortable.containerId}function r4(i,t){return!uf(i)||!uf(t)||!t1(i,t)?!1:i.data.current.sortable.index<t.data.current.sortable.index}const v0=i=>i.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");function _0(){const{id:i}=bS(),t=O0(),[r,a]=C.useState("multi"),[l,u]=C.useState({title:"",coverUrl:"",type:"collection",volumes:[]});C.useEffect(()=>{i&&(async()=>{const D=Ks(ea,"collections",i),P=await sD(D);if(P.exists()){const B=P.data();u({id:P.id,...B}),a(B.type==="single"?"single":"multi")}})()},[i]);const h=S=>{const{name:D,value:P}=S.target;u(B=>({...B,[D]:P}))},m=(S,D,P)=>{const B=[...l.volumes];B[S]={...B[S],[D]:P},u(V=>({...V,volumes:B}))},g=()=>{u(S=>({...S,volumes:[...S.volumes,{id:S.volumes.length+1,title:"",coverUrl:"",owned:!1}]}))},y=S=>{const D=l.volumes.filter((P,B)=>B!==S).map((P,B)=>({...P,id:B+1}));u(P=>({...P,volumes:D}))},E=async()=>{try{const S=v0(l.title),D={...l,type:r==="single"?"single":"collection"};if(i){const P=Ks(ea,"collections",i);await Ib(P,D)}else{const P=Ks(ea,"collections",S);await oD(P,D)}t("/")}catch(S){console.error("Erro ao salvar coleção: ",S)}},T=async()=>{if(window.confirm("Tem certeza que deseja excluir esta coleção?"))try{await uD(Ks(ea,"collections",i)),t("/")}catch(S){console.error("Erro ao excluir coleção: ",S)}};return W.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 w-full py-8",children:W.jsx("div",{className:"flex justify-center w-full px-4",children:W.jsxs("div",{className:"w-full max-w-4xl bg-gray-800 rounded-xl shadow-md p-6 border border-gray-700",children:[W.jsxs("div",{className:"flex justify-between items-center mb-6",children:[W.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:i?"Editar Coleção":"Adicionar Nova Coleção"}),W.jsx("button",{onClick:()=>t("/"),className:"text-gray-400 hover:text-gray-100 px-4 py-2 rounded-lg transition-colors",children:"Home"})]}),W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tipo de Coleção"}),W.jsxs("div",{className:"flex space-x-4",children:[W.jsxs("label",{className:"flex items-center",children:[W.jsx("input",{type:"radio",value:"multi",checked:r==="multi",onChange:()=>a("multi"),className:"mr-2"}),"Múltiplos Volumes"]}),W.jsxs("label",{className:"flex items-center",children:[W.jsx("input",{type:"radio",value:"single",checked:r==="single",onChange:()=>a("single"),className:"mr-2"}),"Volume Único"]})]})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nome da Coleção"}),W.jsx("input",{type:"text",name:"title",value:l.title,onChange:h,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"Ex: Chainsaw Man"}),l.title&&W.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["ID da coleção: ",v0(l.title)]})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Link da Capa"}),W.jsx("input",{type:"text",name:"coverUrl",value:l.coverUrl,onChange:h,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"https://exemplo.com/capa.jpg"}),l.coverUrl&&W.jsxs("div",{className:"mt-3",children:[W.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Preview da Capa Principal:"}),W.jsx("img",{src:l.coverUrl,alt:"Preview da capa",className:"h-60 w-44 object-contain border border-gray-600 rounded-md bg-gray-900 mx-auto",onError:S=>{S.target.style.display="none"}})]})]}),r==="multi"?W.jsxs("div",{children:[W.jsxs("div",{className:"flex justify-between items-center mb-4",children:[W.jsx("h3",{className:"text-lg font-medium text-gray-300",children:"Volumes"}),W.jsxs("button",{onClick:g,className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md transition-colors",children:[W.jsx("span",{className:"text-lg mr-1",children:"+"})," Adicionar Volume"]})]}),W.jsx("div",{className:"space-y-4",children:l.volumes.map((S,D)=>W.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 bg-gray-750",children:[W.jsxs("div",{className:"flex justify-between items-center mb-3",children:[W.jsxs("h4",{className:"font-medium text-gray-300",children:["Volume ",S.id]}),W.jsx("button",{onClick:()=>y(D),className:"text-red-400 hover:text-red-300 transition-colors",children:"Remover"})]}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome do Volume"}),W.jsx("input",{type:"text",value:S.title,onChange:P=>m(D,"title",P.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"Ex: Chainsaw Man #1"})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Link da Capa"}),W.jsxs("div",{className:"flex gap-2 items-start",children:[W.jsx("input",{type:"text",value:S.coverUrl,onChange:P=>m(D,"coverUrl",P.target.value),className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"https://exemplo.com/volume1.jpg"}),S.coverUrl&&W.jsx("img",{src:S.coverUrl,alt:"Preview",className:"h-16 w-12 object-cover border border-gray-600 rounded ml-2",onError:P=>{P.target.style.display="none"}})]}),S.coverUrl&&W.jsxs("div",{className:"mt-2",children:[W.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Preview Grande:"}),W.jsx("img",{src:S.coverUrl,alt:"Preview grande",className:"h-40 w-28 object-contain border border-gray-600 rounded-md bg-gray-900 mx-auto",onError:P=>{P.target.style.display="none"}})]})]})]})]},D))})]}):W.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 bg-gray-750",children:[W.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-4",children:"Volume Único"}),W.jsx("p",{className:"text-gray-400 text-sm",children:"Para mangás de volume único, as informações da capa e título já foram preenchidas acima."})]}),W.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-700",children:[i&&W.jsx("button",{onClick:T,className:"px-4 py-2 bg-red-700 text-white rounded-md hover:bg-red-600 transition-colors",children:"Excluir Coleção"}),W.jsxs("button",{onClick:E,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-500 transition-colors ml-auto disabled:opacity-50 disabled:cursor-not-allowed",disabled:!l.title||!l.coverUrl||r==="multi"&&l.volumes.length===0,children:[i?"Atualizar":"Salvar"," Coleção"]})]})]})]})})})}function i4({sortOrder:i,setSortOrder:t,isEditingOrder:r,setIsEditingOrder:a,onSaveOrder:l,orderAsc:u,setOrderAsc:h}){const m=()=>{i==="alphabetical"?(t("custom"),a(!1)):(t("alphabetical"),a(!1))},g=()=>{i==="alphabetical"?h(!u):(r&&l(),a(!r))};return W.jsxs("div",{className:"flex items-center gap-2 mb-6 w-full max-w-7xl mx-auto px-4",children:[W.jsx("button",{className:"text-lg font-medium text-white! font-bold! hover:text-blue-400! transition! bg-transparent! border-0! p-0!",onClick:m,children:i==="alphabetical"?"Nome":"Personalizada"}),W.jsx("button",{className:"text-white hover:text-blue-400! transition! bg-transparent! border-0! p-0!",onClick:g,children:i==="alphabetical"?u?W.jsx(qT,{}):W.jsx(HT,{}):r?W.jsx(GT,{}):W.jsx(FT,{})})]})}function a4({collection:i,onCollectionClick:t}){const{attributes:r,listeners:a,setNodeRef:l,transform:u,transition:h,isDragging:m}=Wx({id:i.id}),g={transform:Ho.Transform.toString(u),transition:h,opacity:m?.5:1};return W.jsxs("div",{ref:l,style:g,...r,...a,className:"bg-gray-800 shadow-lg rounded-xl p-4 cursor-pointer hover:scale-105 transition-transform duration-300 group relative border border-gray-700",children:[W.jsx("img",{src:i.coverUrl,alt:i.title,className:"rounded-lg mx-auto object-cover shadow-md",style:{width:"150px",height:"225px"},onClick:()=>t(i)}),W.jsx("h2",{className:"text-center font-bold mt-3 text-gray-100",children:i.title}),W.jsx("p",{className:"text-center text-sm text-gray-400 mt-1",children:i.type==="single"?"Volume Único":`${i.volumes.filter(y=>y.owned).length}/${i.volumes.length} volumes`}),W.jsx(Vo,{to:`/edit-collection/${i.id}`,className:"absolute top-3 right-3 bg-gray-900 bg-opacity-80 text-gray-100 p-2 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",onClick:y=>y.stopPropagation(),children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})}function s4(){const[i,t]=C.useState([]),[r,a]=C.useState(null),[l,u]=C.useState("alphabetical"),[h,m]=C.useState(!1),[g,y]=C.useState(!1),[E,T]=C.useState(!0),S=ID(a0(Tg),a0(Eg,{coordinateGetter:n4}));C.useEffect(()=>{(async()=>{let Q=(await lD(KC(ea,"collections"))).docs.map(ot=>({id:ot.id,...ot.data()}));const K=Q.some(ot=>ot.customOrder!==void 0);l==="alphabetical"?Q.sort((ot,at)=>{const ct=ot.title.localeCompare(at.title);return E?ct:-ct}):K&&Q.sort((ot,at)=>(ot.customOrder||0)-(at.customOrder||0)),t(Q)})()},[l,E]);const D=V=>{const{active:X,over:Q}=V;X.id!==Q.id&&t(K=>{const ot=K.findIndex(ct=>ct.id===X.id),at=K.findIndex(ct=>ct.id===Q.id);return Sg(K,ot,at)})},P=async(V,X)=>{const Q=Ks(ea,"collections",V),K=i.find(ct=>ct.id===V),ot=K.volumes.map(ct=>ct.id===X?{...ct,owned:!ct.owned}:ct);await Ib(Q,{volumes:ot});const at={...K,volumes:ot};t(ct=>ct.map(I=>I.id===V?at:I)),a(at)},B=async()=>{y(!0);try{const V=hD(ea);i.forEach((X,Q)=>{const K=Ks(ea,"collections",X.id);V.update(K,{customOrder:Q})}),await V.commit(),console.log("Ordem personalizada salva com sucesso!")}catch(V){console.error("Erro ao salvar ordem personalizada:",V)}finally{y(!1)}};return W.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 w-full",children:[W.jsx("div",{className:"w-full flex flex-col items-center px-4",children:W.jsxs("div",{className:"max-w-7xl w-full",children:[W.jsx("h1",{className:"text-4xl font-bold text-center mb-2 text-blue-400",children:"MyMangaList"}),W.jsx("p",{className:"text-gray-400 mb-6 text-center",children:"Loucura"}),W.jsx("div",{className:"flex gap-4 mb-6 justify-center",children:W.jsx(Vo,{to:"/add-collection",className:"bg-blue-600 hover:bg-blue-700 text-white! font-bold! px-6 py-3 rounded-lg text-lg transition-colors shadow-lg",children:"Adicionar Coleção"})}),W.jsx("div",{className:"w-full mb-6",children:W.jsx(i4,{sortOrder:l,setSortOrder:u,isEditingOrder:h,setIsEditingOrder:m,onSaveOrder:B,orderAsc:E,setOrderAsc:T})}),h&&W.jsx("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3 mb-4",children:W.jsxs("p",{className:"text-yellow-200 text-sm",children:["Arraste e solte para reorganizar as coleções.",g&&W.jsx("span",{className:"ml-2",children:"Salvando..."})]})})]})}),W.jsx("div",{className:"w-full px-4 py-8 flex justify-center",children:i.length===0?W.jsx("div",{className:"text-center py-12",children:W.jsx("h2",{className:"text-xl text-gray-400 mb-2",children:"Nenhuma coleção encontrada"})}):l==="custom"&&h?W.jsx(Ox,{sensors:S,collisionDetection:OD,onDragEnd:D,children:W.jsx(Qx,{items:i,strategy:Gx,children:W.jsx("div",{className:"grid grid-cols-2 min-[500px]:grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4 w-full max-w-7xl",children:i.map(V=>W.jsx(a4,{collection:V,onCollectionClick:a},V.id))})})}):W.jsx("div",{className:"grid grid-cols-2 min-[500px]:grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4 w-full max-w-7xl",children:i.map(V=>W.jsxs("div",{className:"bg-gray-800 shadow-lg rounded-xl p-3 cursor-pointer hover:scale-105 transition-transform duration-300 group relative border border-gray-700",onClick:()=>a(V),children:[W.jsx("img",{src:V.coverUrl,alt:V.title,className:"rounded-lg mx-auto object-cover shadow-md",style:{width:"150px",height:"225px"}}),W.jsx("h2",{className:"text-center font-bold mt-3 text-gray-100",children:V.title}),W.jsx("p",{className:"text-center text-xs text-gray-400 mt-1",children:V.type==="single"?"Volume Único":`${V.volumes.filter(X=>X.owned).length}/${V.volumes.length} volumes`}),W.jsx(Vo,{to:`/edit-collection/${V.id}`,className:"absolute top-2 right-2 bg-gray-900 bg-opacity-80 text-gray-100 p-1.5 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",onClick:X=>X.stopPropagation(),children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]},V.id))})}),r&&W.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",children:W.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col border border-gray-700 shadow-2xl",children:[W.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-4 mb-4",children:[W.jsxs("div",{children:[W.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:r.title}),W.jsx("p",{className:"text-gray-400",children:r.type==="single"?"Volume Único":`${r.volumes.filter(V=>V.owned).length}/${r.volumes.length} volumes adquiridos`})]}),W.jsx("button",{className:"text-gray-400 hover:text-gray-100 text-3xl transition-colors",onClick:()=>a(null),children:"×"})]}),W.jsx("div",{className:"overflow-y-auto flex-grow",children:W.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6 p-4",children:r.volumes.map(V=>W.jsxs("div",{className:"flex flex-col items-center",children:[W.jsxs("div",{className:"relative",children:[W.jsx("img",{src:V.coverUrl,alt:`Volume ${V.id}`,className:`rounded-md cursor-pointer object-contain transition-all duration-300 ${V.owned?"opacity-100 ring-2 ring-green-500":"opacity-60 hover:opacity-80"}`,style:{height:"160px",width:"140px"},onClick:()=>P(r.id,V.id)}),V.owned&&W.jsx("div",{className:"absolute bottom-2 right-2 bg-green-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-md",children:"✓"})]}),W.jsx("p",{className:"text-sm mt-2 font-medium text-gray-300",children:r.type==="single"?r.title:`Vol. ${V.id}`})]},V.id))})})]})})]})}function l4(){return W.jsx(aA,{children:W.jsxs(US,{children:[W.jsx(Nc,{path:"/",element:W.jsx(s4,{})}),W.jsx(Nc,{path:"/add-collection",element:W.jsx(_0,{})}),W.jsx(Nc,{path:"/edit-collection/:id",element:W.jsx(_0,{})})]})})}MT.createRoot(document.getElementById("root")).render(W.jsx(Ee.StrictMode,{children:W.jsx(l4,{})}));
