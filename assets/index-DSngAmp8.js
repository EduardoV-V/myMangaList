(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function d0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wd={exports:{}},mo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function d1(){if(xv)return mo;xv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:a,key:h,ref:l!==void 0?l:null,props:u}}return mo.Fragment=t,mo.jsx=r,mo.jsxs=r,mo}var Nv;function m1(){return Nv||(Nv=1,wd.exports=d1()),wd.exports}var W=m1(),Rd={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function g1(){if(Iv)return Dt;Iv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function P(O,nt,st){this.props=O,this.context=nt,this.refs=B,this.updater=st||C}P.prototype.isReactComponent={},P.prototype.setState=function(O,nt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,nt,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=P.prototype;function Q(O,nt,st){this.props=O,this.context=nt,this.refs=B,this.updater=st||C}var Z=Q.prototype=new K;Z.constructor=Q,U(Z,P.prototype),Z.isPureReactComponent=!0;var ut=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function I(O,nt,st,it,mt,At){return st=At.ref,{$$typeof:i,type:O,key:nt,ref:st!==void 0?st:null,props:At}}function w(O,nt){return I(O.type,nt,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function V(O){var nt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return nt[st]})}var M=/\/+/g;function z(O,nt){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):nt.toString(36)}function x(){}function Zt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(x,x):(O.status="pending",O.then(function(nt){O.status==="pending"&&(O.status="fulfilled",O.value=nt)},function(nt){O.status==="pending"&&(O.status="rejected",O.reason=nt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Jt(O,nt,st,it,mt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var pt=!1;if(O===null)pt=!0;else switch(At){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(O.$$typeof){case i:case t:pt=!0;break;case E:return pt=O._init,Jt(pt(O._payload),nt,st,it,mt)}}if(pt)return mt=mt(O),pt=it===""?"."+z(O,0):it,ut(mt)?(st="",pt!=null&&(st=pt.replace(M,"$&/")+"/"),Jt(mt,nt,st,"",function(we){return we})):mt!=null&&(R(mt)&&(mt=w(mt,st+(mt.key==null||O&&O.key===mt.key?"":(""+mt.key).replace(M,"$&/")+"/")+pt)),nt.push(mt)),1;pt=0;var he=it===""?".":it+":";if(ut(O))for(var Pt=0;Pt<O.length;Pt++)it=O[Pt],At=he+z(it,Pt),pt+=Jt(it,nt,st,At,mt);else if(Pt=b(O),typeof Pt=="function")for(O=Pt.call(O),Pt=0;!(it=O.next()).done;)it=it.value,At=he+z(it,Pt++),pt+=Jt(it,nt,st,At,mt);else if(At==="object"){if(typeof O.then=="function")return Jt(Zt(O),nt,st,it,mt);throw nt=String(O),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return pt}function X(O,nt,st){if(O==null)return O;var it=[],mt=0;return Jt(O,it,"","",function(At){return nt.call(st,At,mt++)}),it}function at(O){if(O._status===-1){var nt=O._result;nt=nt(),nt.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=nt)}if(O._status===1)return O._result.default;throw O._result}var gt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ct(){}return Dt.Children={map:X,forEach:function(O,nt,st){X(O,function(){nt.apply(this,arguments)},st)},count:function(O){var nt=0;return X(O,function(){nt++}),nt},toArray:function(O){return X(O,function(nt){return nt})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Dt.Component=P,Dt.Fragment=r,Dt.Profiler=l,Dt.PureComponent=Q,Dt.StrictMode=a,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return lt.H.useMemoCache(O)}},Dt.cache=function(O){return function(){return O.apply(null,arguments)}},Dt.cloneElement=function(O,nt,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=U({},O.props),mt=O.key,At=void 0;if(nt!=null)for(pt in nt.ref!==void 0&&(At=void 0),nt.key!==void 0&&(mt=""+nt.key),nt)!ft.call(nt,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&nt.ref===void 0||(it[pt]=nt[pt]);var pt=arguments.length-2;if(pt===1)it.children=st;else if(1<pt){for(var he=Array(pt),Pt=0;Pt<pt;Pt++)he[Pt]=arguments[Pt+2];it.children=he}return I(O.type,mt,void 0,void 0,At,it)},Dt.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Dt.createElement=function(O,nt,st){var it,mt={},At=null;if(nt!=null)for(it in nt.key!==void 0&&(At=""+nt.key),nt)ft.call(nt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=nt[it]);var pt=arguments.length-2;if(pt===1)mt.children=st;else if(1<pt){for(var he=Array(pt),Pt=0;Pt<pt;Pt++)he[Pt]=arguments[Pt+2];mt.children=he}if(O&&O.defaultProps)for(it in pt=O.defaultProps,pt)mt[it]===void 0&&(mt[it]=pt[it]);return I(O,At,void 0,void 0,null,mt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(O){return{$$typeof:m,render:O}},Dt.isValidElement=R,Dt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:at}},Dt.memo=function(O,nt){return{$$typeof:y,type:O,compare:nt===void 0?null:nt}},Dt.startTransition=function(O){var nt=lt.T,st={};lt.T=st;try{var it=O(),mt=lt.S;mt!==null&&mt(st,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ct,gt)}catch(At){gt(At)}finally{lt.T=nt}},Dt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Dt.use=function(O){return lt.H.use(O)},Dt.useActionState=function(O,nt,st){return lt.H.useActionState(O,nt,st)},Dt.useCallback=function(O,nt){return lt.H.useCallback(O,nt)},Dt.useContext=function(O){return lt.H.useContext(O)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(O,nt){return lt.H.useDeferredValue(O,nt)},Dt.useEffect=function(O,nt,st){var it=lt.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(O,nt)},Dt.useId=function(){return lt.H.useId()},Dt.useImperativeHandle=function(O,nt,st){return lt.H.useImperativeHandle(O,nt,st)},Dt.useInsertionEffect=function(O,nt){return lt.H.useInsertionEffect(O,nt)},Dt.useLayoutEffect=function(O,nt){return lt.H.useLayoutEffect(O,nt)},Dt.useMemo=function(O,nt){return lt.H.useMemo(O,nt)},Dt.useOptimistic=function(O,nt){return lt.H.useOptimistic(O,nt)},Dt.useReducer=function(O,nt,st){return lt.H.useReducer(O,nt,st)},Dt.useRef=function(O){return lt.H.useRef(O)},Dt.useState=function(O){return lt.H.useState(O)},Dt.useSyncExternalStore=function(O,nt,st){return lt.H.useSyncExternalStore(O,nt,st)},Dt.useTransition=function(){return lt.H.useTransition()},Dt.version="19.1.1",Dt}var Vv;function bm(){return Vv||(Vv=1,Rd.exports=g1()),Rd.exports}var D=bm();const bn=d0(D);var Cd={exports:{}},go={},Dd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function p1(){return Mv||(Mv=1,(function(i){function t(X,at){var gt=X.length;X.push(at);t:for(;0<gt;){var Ct=gt-1>>>1,O=X[Ct];if(0<l(O,at))X[Ct]=at,X[gt]=O,gt=Ct;else break t}}function r(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var at=X[0],gt=X.pop();if(gt!==at){X[0]=gt;t:for(var Ct=0,O=X.length,nt=O>>>1;Ct<nt;){var st=2*(Ct+1)-1,it=X[st],mt=st+1,At=X[mt];if(0>l(it,gt))mt<O&&0>l(At,it)?(X[Ct]=At,X[mt]=gt,Ct=mt):(X[Ct]=it,X[st]=gt,Ct=st);else if(mt<O&&0>l(At,gt))X[Ct]=At,X[mt]=gt,Ct=mt;else break t}}return at}function l(X,at){var gt=X.sortIndex-at.sortIndex;return gt!==0?gt:X.id-at.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],y=[],E=1,S=null,b=3,C=!1,U=!1,B=!1,P=!1,K=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ut(X){for(var at=r(y);at!==null;){if(at.callback===null)a(y);else if(at.startTime<=X)a(y),at.sortIndex=at.expirationTime,t(p,at);else break;at=r(y)}}function lt(X){if(B=!1,ut(X),!U)if(r(p)!==null)U=!0,ft||(ft=!0,z());else{var at=r(y);at!==null&&Jt(lt,at.startTime-X)}}var ft=!1,I=-1,w=5,R=-1;function V(){return P?!0:!(i.unstable_now()-R<w)}function M(){if(P=!1,ft){var X=i.unstable_now();R=X;var at=!0;try{t:{U=!1,B&&(B=!1,Q(I),I=-1),C=!0;var gt=b;try{e:{for(ut(X),S=r(p);S!==null&&!(S.expirationTime>X&&V());){var Ct=S.callback;if(typeof Ct=="function"){S.callback=null,b=S.priorityLevel;var O=Ct(S.expirationTime<=X);if(X=i.unstable_now(),typeof O=="function"){S.callback=O,ut(X),at=!0;break e}S===r(p)&&a(p),ut(X)}else a(p);S=r(p)}if(S!==null)at=!0;else{var nt=r(y);nt!==null&&Jt(lt,nt.startTime-X),at=!1}}break t}finally{S=null,b=gt,C=!1}at=void 0}}finally{at?z():ft=!1}}}var z;if(typeof Z=="function")z=function(){Z(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Zt=x.port2;x.port1.onmessage=M,z=function(){Zt.postMessage(null)}}else z=function(){K(M,0)};function Jt(X,at){I=K(function(){X(i.unstable_now())},at)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(X){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var gt=b;b=at;try{return X()}finally{b=gt}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(X,at){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var gt=b;b=X;try{return at()}finally{b=gt}},i.unstable_scheduleCallback=function(X,at,gt){var Ct=i.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Ct+gt:Ct):gt=Ct,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=gt+O,X={id:E++,callback:at,priorityLevel:X,startTime:gt,expirationTime:O,sortIndex:-1},gt>Ct?(X.sortIndex=gt,t(y,X),r(p)===null&&X===r(y)&&(B?(Q(I),I=-1):B=!0,Jt(lt,gt-Ct))):(X.sortIndex=O,t(p,X),U||C||(U=!0,ft||(ft=!0,z()))),X},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(X){var at=b;return function(){var gt=b;b=at;try{return X.apply(this,arguments)}finally{b=gt}}}})(xd)),xd}var Ov;function y1(){return Ov||(Ov=1,Dd.exports=p1()),Dd.exports}var Nd={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function v1(){if(Lv)return un;Lv=1;var i=bm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,un.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},un.flushSync=function(p){var y=h.T,E=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=y,a.p=E,a.d.f()}},un.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},un.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},un.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:C}):E==="script"&&a.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},un.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},un.requestFormReset=function(p){a.d.r(p)},un.unstable_batchedUpdates=function(p,y){return p(y)},un.useFormState=function(p,y,E){return h.H.useFormState(p,y,E)},un.useFormStatus=function(){return h.H.useHostTransitionStatus()},un.version="19.1.1",un}var Uv;function m0(){if(Uv)return Nd.exports;Uv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Nd.exports=v1(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function _1(){if(Pv)return go;Pv=1;var i=y1(),t=bm(),r=m0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),e;if(d===o)return m(f),n;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=d;else{for(var _=!1,T=f.child;T;){if(T===s){_=!0,s=f,o=d;break}if(T===o){_=!0,o=f,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,o=f;break}if(T===o){_=!0,o=d,s=f;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case lt:return"Suspense";case ft:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case Z:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Zt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Zt(e(n))}catch{}}return null}var Jt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Ct=[],O=-1;function nt(e){return{current:e}}function st(e){0>O||(e.current=Ct[O],Ct[O]=null,O--)}function it(e,n){O++,Ct[O]=e.current,e.current=n}var mt=nt(null),At=nt(null),pt=nt(null),he=nt(null);function Pt(e,n){switch(it(pt,n),it(At,e),it(mt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?rv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=rv(n),e=iv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(mt),it(mt,e)}function we(){st(mt),st(At),st(pt)}function It(e){e.memoizedState!==null&&it(he,e);var n=mt.current,s=iv(n,e.type);n!==s&&(it(At,e),it(mt,s))}function dn(e){At.current===e&&(st(mt),st(At)),he.current===e&&(st(he),oo._currentValue=gt)}var He=Object.prototype.hasOwnProperty,Tn=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,kn=i.unstable_shouldYield,er=i.unstable_requestPaint,mn=i.unstable_now,Wa=i.unstable_getCurrentPriorityLevel,qr=i.unstable_ImmediatePriority,gn=i.unstable_UserBlockingPriority,Bn=i.unstable_NormalPriority,Ai=i.unstable_LowPriority,Hr=i.unstable_IdlePriority,wi=i.log,ts=i.unstable_setDisableYieldValue,ue=null,Ot=null;function Re(e){if(typeof wi=="function"&&ts(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(ue,e)}catch{}}var pe=Math.clz32?Math.clz32:mr,da=Math.log,jn=Math.LN2;function mr(e){return e>>>=0,e===0?32:31-(da(e)/jn|0)|0}var Gr=256,Fr=4194304;function pn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qr(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?f=pn(o):(_&=T,_!==0?f=pn(_):s||(s=T&~e,s!==0&&(f=pn(s))))):(T=o&~d,T!==0?f=pn(T):_!==0?f=pn(_):s||(s=o&~e,s!==0&&(f=pn(s)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:f}function Yr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ri(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(){var e=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),e}function ga(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function nr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ae(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,n,s,o,f,d){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,N=e.expirationTimes,H=e.hiddenUpdates;for(s=_&~s;0<s;){var $=31-pe(s),tt=1<<$;T[$]=0,N[$]=-1;var G=H[$];if(G!==null)for(H[$]=null,$=0;$<G.length;$++){var F=G[$];F!==null&&(F.lane&=-536870913)}s&=~tt}o!==0&&ce(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function ce(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-pe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function Sn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-pe(s),f=1<<o;f&n|e[o]&n&&(e[o]|=n),s&=~f}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Le(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Sv(e.type))}function rr(e,n){var s=at.p;try{return at.p=e,n()}finally{at.p=s}}var Rt=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Rt,Ft="__reactProps$"+Rt,ye="__reactContainer$"+Rt,ir="__reactEvents$"+Rt,Xr="__reactListeners$"+Rt,Je="__reactHandles$"+Rt,gr="__reactResources$"+Rt,ar="__reactMarker$"+Rt;function Ci(e){delete e[Wt],delete e[Ft],delete e[ir],delete e[Xr],delete e[Je]}function Kr(e){var n=e[Wt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ye]||s[Wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=ov(e);e!==null;){if(s=e[Wt])return s;e=ov(e)}return n}e=s,s=e.parentNode}return null}function pr(e){if(e=e[Wt]||e[ye]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function yr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function yn(e){var n=e[gr];return n||(n=e[gr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(e){e[ar]=!0}var ml=new Set,es={};function sr(e,n){$r(e,n),$r(e+"Capture",n)}function $r(e,n){for(es[e]=n,e=0;e<n.length;e++)ml.add(n[e])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nu={},pa={};function ru(e){return He.call(pa,e)?!0:He.call(nu,e)?!1:eu.test(e)?pa[e]=!0:(nu[e]=!0,!1)}function Di(e,n,s){if(ru(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function We(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var ya,iu;function Zr(e){if(ya===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ya=n&&n[1]||"",iu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+e+iu}var ns=!1;function rs(e,n){if(!e||ns)return"";ns=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var G=F}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(F){G=F}e.call(tt.prototype)}}else{try{throw Error()}catch(F){G=F}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&G&&typeof F.stack=="string")return[F.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),H=T.split(`
`);for(f=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(o===N.length||f===H.length)for(o=N.length-1,f=H.length-1;1<=o&&0<=f&&N[o]!==H[f];)f--;for(;1<=o&&0<=f;o--,f--)if(N[o]!==H[f]){if(o!==1||f!==1)do if(o--,f--,0>f||N[o]!==H[f]){var $=`
`+N[o].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=o&&0<=f);break}}}finally{ns=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zr(s):""}function gl(e){switch(e.tag){case 26:case 27:case 5:return Zr(e.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 15:return rs(e.type,!1);case 11:return rs(e.type.render,!1);case 1:return rs(e.type,!0);case 31:return Zr("Activity");default:return""}}function is(e){try{var n="";do n+=gl(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xf(e){var n=pl(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function as(e){e._valueTracker||(e._valueTracker=xf(e))}function yl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=pl(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Nf=/[\n"\\]/g;function De(e){return e.replace(Nf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Nn(e,n,s,o,f,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+vn(n)):e.value!==""+vn(n)&&(e.value=""+vn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?xi(e,_,vn(n)):s!=null?xi(e,_,vn(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+vn(T):e.removeAttribute("name")}function _a(e,n,s,o,f,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+vn(s):"",n=n!=null?""+vn(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function xi(e,n,s){n==="number"&&va(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Jr(e,n,s,o){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+vn(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function te(e,n,s){if(n!=null&&(n=""+vn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+vn(s):""}function Ea(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Jt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=vn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function qn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||ba.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function vl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&au(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&au(e,d,n[d])}function _l(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ss(e){return Vf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Wr=null;function Hn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ti=null,ei=null;function El(e){var n=pr(e);if(n&&(e=n.stateNode)){var s=e[Ft]||null;t:switch(e=n.stateNode,n.type){case"input":if(Nn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+De(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var f=o[Ft]||null;if(!f)throw Error(a(90));Nn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&yl(o)}break t;case"textarea":te(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Jr(e,!!s.multiple,n,!1)}}}var _r=!1;function su(e,n,s){if(_r)return e(n,s);_r=!0;try{var o=e(n);return o}finally{if(_r=!1,(ti!==null||ei!==null)&&(Wu(),ti&&(n=ti,e=ei,ei=ti=null,El(n),e)))for(n=0;n<e.length;n++)El(e[n])}}function Ta(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ft]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(lr)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Gn=!1}var Er=null,Ni=null,ni=null;function bl(){if(ni)return ni;var e,n=Ni,s=n.length,o,f="value"in Er?Er.value:Er.textContent,d=f.length;for(e=0;e<s&&n[e]===f[e];e++);var _=s-e;for(o=1;o<=_&&n[s-o]===f[d-o];o++);return ni=f.slice(e,1<o?1-o:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Tr(){return!0}function Tl(){return!1}function Ge(e){function n(s,o,f,d,_){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Tr:Tl,this.isPropagationStopped=Tl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),n}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Ge(Yt),Aa=E({},Yt,{view:0,detail:0}),lu=Ge(Aa),os,us,Sr,wa=E({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sr&&(Sr&&e.type==="mousemove"?(os=e.screenX-Sr.screenX,us=e.screenY-Sr.screenY):us=os=0,Sr=e),os)},movementY:function(e){return"movementY"in e?e.movementY:us}}),Fn=Ge(wa),ou=E({},wa,{dataTransfer:0}),Mf=Ge(ou),Ra=E({},Aa,{relatedTarget:0}),cs=Ge(Ra),Sl=E({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),fs=Ge(Sl),uu=E({},Yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hs=Ge(uu),Of=E({},Yt,{data:0}),Al=Ge(Of),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fu[e])?!!n[e]:!1}function Da(){return wl}var hu=E({},Aa,{key:function(e){if(e.key){var n=Ca[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ds=Ge(hu),du=E({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Ge(du),ri=E({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),mu=Ge(ri),gu=E({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=Ge(gu),yu=E({},wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ms=Ge(yu),_n=E({},Yt,{newState:0,oldState:0}),vu=Ge(_n),_u=[9,13,27,32],Ar=lr&&"CompositionEvent"in window,c=null;lr&&"documentMode"in document&&(c=document.documentMode);var g=lr&&"TextEvent"in window&&!c,v=lr&&(!Ar||c&&8<c&&11>=c),A=" ",j=!1;function Y(e,n){switch(e){case"keyup":return _u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function Ue(e,n){switch(e){case"compositionend":return ot(n);case"keypress":return n.which!==32?null:(j=!0,A);case"textInput":return e=n.data,e===A&&j?null:e;default:return null}}function Bt(e,n){if(kt)return e==="compositionend"||!Ar&&Y(e,n)?(e=bl(),ni=Ni=Er=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Fe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pe(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Fe[e.type]:n==="textarea"}function ii(e,n,s,o){ti?ei?ei.push(o):ei=[o]:ti=o,n=ac(n,"onChange"),0<n.length&&(s=new ls("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var tn=null,wr=null;function Cl(e){Jy(e,0)}function Eu(e){var n=yr(e);if(yl(n))return e}function _g(e,n){if(e==="change")return n}var Eg=!1;if(lr){var Lf;if(lr){var Uf="oninput"in document;if(!Uf){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Uf=typeof bg.oninput=="function"}Lf=Uf}else Lf=!1;Eg=Lf&&(!document.documentMode||9<document.documentMode)}function Tg(){tn&&(tn.detachEvent("onpropertychange",Sg),wr=tn=null)}function Sg(e){if(e.propertyName==="value"&&Eu(wr)){var n=[];ii(n,wr,e,Hn(e)),su(Cl,n)}}function Hb(e,n,s){e==="focusin"?(Tg(),tn=n,wr=s,tn.attachEvent("onpropertychange",Sg)):e==="focusout"&&Tg()}function Gb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(wr)}function Fb(e,n){if(e==="click")return Eu(n)}function Qb(e,n){if(e==="input"||e==="change")return Eu(n)}function Yb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var In=typeof Object.is=="function"?Object.is:Yb;function Dl(e,n){if(In(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!He.call(n,f)||!In(e[f],n[f]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,n){var s=Ag(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ag(s)}}function Rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=va(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=va(e.document)}return n}function Pf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Xb=lr&&"documentMode"in document&&11>=document.documentMode,gs=null,zf=null,xl=null,kf=!1;function Dg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kf||gs==null||gs!==va(o)||(o=gs,"selectionStart"in o&&Pf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xl&&Dl(xl,o)||(xl=o,o=ac(zf,"onSelect"),0<o.length&&(n=new ls("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=gs)))}function xa(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ps={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},Bf={},xg={};lr&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Na(e){if(Bf[e])return Bf[e];if(!ps[e])return e;var n=ps[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in xg)return Bf[e]=n[s];return e}var Ng=Na("animationend"),Ig=Na("animationiteration"),Vg=Na("animationstart"),Kb=Na("transitionrun"),$b=Na("transitionstart"),Zb=Na("transitioncancel"),Mg=Na("transitionend"),Og=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function or(e,n){Og.set(e,n),sr(n,[e])}var Lg=new WeakMap;function Qn(e,n){if(typeof e=="object"&&e!==null){var s=Lg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:is(n)},Lg.set(e,n),n)}return{value:e,source:n,stack:is(n)}}var Yn=[],ys=0,qf=0;function bu(){for(var e=ys,n=qf=ys=0;n<e;){var s=Yn[n];Yn[n++]=null;var o=Yn[n];Yn[n++]=null;var f=Yn[n];Yn[n++]=null;var d=Yn[n];if(Yn[n++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}d!==0&&Ug(s,f,d)}}function Tu(e,n,s,o){Yn[ys++]=e,Yn[ys++]=n,Yn[ys++]=s,Yn[ys++]=o,qf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hf(e,n,s,o){return Tu(e,n,s,o),Su(e)}function vs(e,n){return Tu(e,null,null,n),Su(e)}function Ug(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-pe(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=s|536870912),d):null}function Su(e){if(50<to)throw to=0,Kh=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _s={};function Jb(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,n,s,o){return new Jb(e,n,s,o)}function Gf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ai(e,n){var s=e.alternate;return s===null?(s=Vn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Pg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,s,o,f,d){var _=0;if(o=e,typeof e=="function")Gf(e)&&(_=1);else if(typeof e=="string")_=t1(e,s,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Vn(31,s,n,f),e.elementType=R,e.lanes=d,e;case U:return Ia(s.children,f,d,n);case B:_=8,f|=24;break;case P:return e=Vn(12,s,n,f|2),e.elementType=P,e.lanes=d,e;case lt:return e=Vn(13,s,n,f),e.elementType=lt,e.lanes=d,e;case ft:return e=Vn(19,s,n,f),e.elementType=ft,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:case Z:_=10;break t;case Q:_=9;break t;case ut:_=11;break t;case I:_=14;break t;case w:_=16,o=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Vn(_,s,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function Ia(e,n,s,o){return e=Vn(7,e,o,n),e.lanes=s,e}function Ff(e,n,s){return e=Vn(6,e,null,n),e.lanes=s,e}function Qf(e,n,s){return n=Vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Es=[],bs=0,wu=null,Ru=0,Xn=[],Kn=0,Va=null,si=1,li="";function Ma(e,n){Es[bs++]=Ru,Es[bs++]=wu,wu=e,Ru=n}function zg(e,n,s){Xn[Kn++]=si,Xn[Kn++]=li,Xn[Kn++]=Va,Va=e;var o=si;e=li;var f=32-pe(o)-1;o&=~(1<<f),s+=1;var d=32-pe(n)+f;if(30<d){var _=f-f%5;d=(o&(1<<_)-1).toString(32),o>>=_,f-=_,si=1<<32-pe(n)+f|s<<f|o,li=d+e}else si=1<<d|s<<f|o,li=e}function Yf(e){e.return!==null&&(Ma(e,1),zg(e,1,0))}function Xf(e){for(;e===wu;)wu=Es[--bs],Es[bs]=null,Ru=Es[--bs],Es[bs]=null;for(;e===Va;)Va=Xn[--Kn],Xn[Kn]=null,li=Xn[--Kn],Xn[Kn]=null,si=Xn[--Kn],Xn[Kn]=null}var En=null,ve=null,Qt=!1,Oa=null,Rr=!1,Kf=Error(a(519));function La(e){var n=Error(a(418,""));throw Vl(Qn(n,e)),Kf}function kg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Wt]=e,n[Ft]=o,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<no.length;s++)Mt(no[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),_a(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),as(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),Ea(n,o.value,o.defaultValue,o.children),as(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||nv(n.textContent,s)?(o.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),o.onScroll!=null&&Mt("scroll",n),o.onScrollEnd!=null&&Mt("scrollend",n),o.onClick!=null&&(n.onclick=sc),n=!0):n=!1,n||La(e)}function Bg(e){for(En=e.return;En;)switch(En.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:En=En.return}}function Nl(e){if(e!==En)return!1;if(!Qt)return Bg(e),Qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&ve&&La(e),Bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ve=cr(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ve=null}}else n===27?(n=ve,Qi(e.type)?(e=gd,gd=null,ve=e):ve=n):ve=En?cr(e.stateNode.nextSibling):null;return!0}function Il(){ve=En=null,Qt=!1}function jg(){var e=Oa;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),Oa=null),e}function Vl(e){Oa===null?Oa=[e]:Oa.push(e)}var $f=nt(null),Ua=null,oi=null;function Ii(e,n,s){it($f,n._currentValue),n._currentValue=s}function ui(e){e._currentValue=$f.current,st($f)}function Zf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Jf(e,n,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var N=0;N<n.length;N++)if(T.context===n[N]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Zf(d.return,s,e),o||(_=null);break t}d=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Zf(_,s,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ml(e,n,s,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=f.type;In(f.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(f===he.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(oo):e=[oo])}f=f.return}e!==null&&Jf(n,e,s,o),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!In(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){Ua=e,oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function on(e){return qg(Ua,e)}function Du(e,n){return Ua===null&&Pa(e),qg(e,n)}function qg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},oi===null){if(e===null)throw Error(a(308));oi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else oi=oi.next=n;return s}var Wb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},tT=i.unstable_scheduleCallback,eT=i.unstable_NormalPriority,ze={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new Wb,data:new Map,refCount:0}}function Ol(e){e.refCount--,e.refCount===0&&tT(eT,function(){e.controller.abort()})}var Ll=null,th=0,Ts=0,Ss=null;function nT(e,n){if(Ll===null){var s=Ll=[];th=0,Ts=nd(),Ss={status:"pending",value:void 0,then:function(o){s.push(o)}}}return th++,n.then(Hg,Hg),n}function Hg(){if(--th===0&&Ll!==null){Ss!==null&&(Ss.status="fulfilled");var e=Ll;Ll=null,Ts=0,Ss=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function rT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var Gg=X.S;X.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&nT(e,n),Gg!==null&&Gg(e,n)};var za=nt(null);function eh(){var e=za.current;return e!==null?e:se.pooledCache}function xu(e,n){n===null?it(za,za.current):it(za,n.pool)}function Fg(){var e=eh();return e===null?null:{parent:ze._currentValue,pool:e}}var Ul=Error(a(460)),Qg=Error(a(474)),Nu=Error(a(542)),nh={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Iu(){}function Xg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Iu,Iu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e;default:if(typeof n.status=="string")n.then(Iu,Iu);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e}throw Pl=n,Ul}}var Pl=null;function Kg(){if(Pl===null)throw Error(a(459));var e=Pl;return Pl=null,e}function $g(e){if(e===Ul||e===Nu)throw Error(a(483))}var Vi=!1;function rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ih(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Su(e),Ug(e,null,s),n}return Tu(e,o,n,s),Su(e)}function zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Sn(e,s)}}function ah(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?f=d=n:d=d.next=n}else f=d=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var sh=!1;function kl(){if(sh){var e=Ss;if(e!==null)throw e}}function Bl(e,n,s,o){sh=!1;var f=e.updateQueue;Vi=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var N=T,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var $=e.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=H:T.next=H,$.lastBaseUpdate=N))}if(d!==null){var tt=f.baseState;_=0,$=H=N=null,T=d;do{var G=T.lane&-536870913,F=G!==T.lane;if(F?(jt&G)===G:(o&G)===G){G!==0&&G===Ts&&(sh=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=e,_t=T;G=n;var re=s;switch(_t.tag){case 1:if(Tt=_t.payload,typeof Tt=="function"){tt=Tt.call(re,tt,G);break t}tt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=_t.payload,G=typeof Tt=="function"?Tt.call(re,tt,G):Tt,G==null)break t;tt=E({},tt,G);break t;case 2:Vi=!0}}G=T.callback,G!==null&&(e.flags|=64,F&&(e.flags|=8192),F=f.callbacks,F===null?f.callbacks=[G]:F.push(G))}else F={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(H=$=F,N=tt):$=$.next=F,_|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;F=T,T=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);$===null&&(N=tt),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),qi|=_,e.lanes=_,e.memoizedState=tt}}function Zg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Jg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Zg(s[e],n)}var As=nt(null),Vu=nt(0);function Wg(e,n){e=pi,it(Vu,e),it(As,n),pi=e|n.baseLanes}function lh(){it(Vu,pi),it(As,As.current)}function oh(){pi=Vu.current,st(As),st(Vu)}var Li=0,xt=null,ee=null,xe=null,Mu=!1,ws=!1,ka=!1,Ou=0,jl=0,Rs=null,iT=0;function Te(){throw Error(a(321))}function uh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!In(e[s],n[s]))return!1;return!0}function ch(e,n,s,o,f,d){return Li=d,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=e===null||e.memoizedState===null?Up:Pp,ka=!1,d=s(o,f),ka=!1,ws&&(d=ep(n,s,o,f)),tp(e),d}function tp(e){X.H=Bu;var n=ee!==null&&ee.next!==null;if(Li=0,xe=ee=xt=null,Mu=!1,jl=0,Rs=null,n)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&Cu(e)&&(Qe=!0))}function ep(e,n,s,o){xt=e;var f=0;do{if(ws&&(Rs=null),jl=0,ws=!1,25<=f)throw Error(a(301));if(f+=1,xe=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=fT,d=n(s,o)}while(ws);return d}function aT(){var e=X.H,n=e.useState()[0];return n=typeof n.then=="function"?ql(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(xt.flags|=1024),n}function fh(){var e=Ou!==0;return Ou=0,e}function hh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function dh(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}Li=0,xe=ee=xt=null,ws=!1,jl=Ou=0,Rs=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?xt.memoizedState=xe=e:xe=xe.next=e,xe}function Ne(){if(ee===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=xe===null?xt.memoizedState:xe.next;if(n!==null)xe=n,ee=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},xe===null?xt.memoizedState=xe=e:xe=xe.next=e}return xe}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(e){var n=jl;return jl+=1,Rs===null&&(Rs=[]),e=Xg(Rs,e,n),n=xt,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?Up:Pp),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ql(e);if(e.$$typeof===Z)return on(e)}throw Error(a(438,String(e)))}function gh(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=mh(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function ci(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=Ne();return ph(n,ee,e)}function ph(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var T=_=null,N=null,H=n,$=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(jt&tt)===tt:(Li&tt)===tt){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===Ts&&($=!0);else if((Li&G)===G){H=H.next,G===Ts&&($=!0);continue}else tt={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=tt,_=d):N=N.next=tt,xt.lanes|=G,qi|=G;tt=H.action,ka&&s(d,tt),d=H.hasEagerState?H.eagerState:s(d,tt)}else G={lane:tt,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=G,_=d):N=N.next=G,xt.lanes|=tt,qi|=tt;H=H.next}while(H!==null&&H!==n);if(N===null?_=d:N.next=T,!In(d,e.memoizedState)&&(Qe=!0,$&&(s=Ss,s!==null)))throw s;e.memoizedState=d,e.baseState=_,e.baseQueue=N,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yh(e){var n=Ne(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=n.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);In(d,n.memoizedState)||(Qe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function np(e,n,s){var o=xt,f=Ne(),d=Qt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!In((ee||f).memoizedState,s);_&&(f.memoizedState=s,Qe=!0),f=f.queue;var T=ap.bind(null,o,f,e);if(Hl(2048,8,T,[e]),f.getSnapshot!==n||_||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,Cs(9,Pu(),ip.bind(null,o,f,s,n),null),se===null)throw Error(a(349));d||(Li&124)!==0||rp(o,n,s)}return s}function rp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=mh(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ip(e,n,s,o){n.value=s,n.getSnapshot=o,sp(n)&&lp(e)}function ap(e,n,s){return s(function(){sp(n)&&lp(e)})}function sp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!In(e,s)}catch{return!0}}function lp(e){var n=vs(e,2);n!==null&&Pn(n,e,2)}function vh(e){var n=An();if(typeof e=="function"){var s=e;if(e=s(),ka){Re(!0);try{s()}finally{Re(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},n}function op(e,n,s,o){return e.baseState=s,ph(e,ee,typeof o=="function"?o:ci)}function sT(e,n,s,o,f){if(ku(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,up(n,d)):(d.next=s.next,n.pending=s.next=d)}}function up(e,n){var s=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=X.T,_={};X.T=_;try{var T=s(f,o),N=X.S;N!==null&&N(_,T),cp(e,n,T)}catch(H){_h(e,n,H)}finally{X.T=d}}else try{d=s(f,o),cp(e,n,d)}catch(H){_h(e,n,H)}}function cp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){fp(e,n,o)},function(o){return _h(e,n,o)}):fp(e,n,s)}function fp(e,n,s){n.status="fulfilled",n.value=s,hp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,up(e,s)))}function _h(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,hp(n),n=n.next;while(n!==o)}e.action=null}function hp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function dp(e,n){return n}function mp(e,n){if(Qt){var s=se.formState;if(s!==null){t:{var o=xt;if(Qt){if(ve){e:{for(var f=ve,d=Rr;f.nodeType!==8;){if(!d){f=null;break e}if(f=cr(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ve=cr(f.nextSibling),o=f.data==="F!";break t}}La(o)}o=!1}o&&(n=s[0])}}return s=An(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:n},s.queue=o,s=Mp.bind(null,xt,o),o.dispatch=s,o=vh(!1),d=Ah.bind(null,xt,!1,o.queue),o=An(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,s=sT.bind(null,xt,f,d,s),f.dispatch=s,o.memoizedState=e,[n,s,!1]}function gp(e){var n=Ne();return pp(n,ee,e)}function pp(e,n,s){if(n=ph(e,n,dp)[0],e=Uu(ci)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ql(n)}catch(_){throw _===Ul?Nu:_}else o=n;n=Ne();var f=n.queue,d=f.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,Cs(9,Pu(),lT.bind(null,f,s),null)),[o,d,e]}function lT(e,n){e.action=n}function yp(e){var n=Ne(),s=ee;if(s!==null)return pp(n,s,e);Ne(),n=n.memoizedState,s=Ne();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Cs(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=xt.updateQueue,n===null&&(n=mh(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Pu(){return{destroy:void 0,resource:void 0}}function vp(){return Ne().memoizedState}function zu(e,n,s,o){var f=An();o=o===void 0?null:o,xt.flags|=e,f.memoizedState=Cs(1|n,Pu(),s,o)}function Hl(e,n,s,o){var f=Ne();o=o===void 0?null:o;var d=f.memoizedState.inst;ee!==null&&o!==null&&uh(o,ee.memoizedState.deps)?f.memoizedState=Cs(n,d,s,o):(xt.flags|=e,f.memoizedState=Cs(1|n,d,s,o))}function _p(e,n){zu(8390656,8,e,n)}function Ep(e,n){Hl(2048,8,e,n)}function bp(e,n){return Hl(4,2,e,n)}function Tp(e,n){return Hl(4,4,e,n)}function Sp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,Hl(4,4,Sp.bind(null,n,e),s)}function Eh(){}function wp(e,n){var s=Ne();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&uh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Rp(e,n){var s=Ne();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&uh(n,o[1]))return o[0];if(o=e(),ka){Re(!0);try{e()}finally{Re(!1)}}return s.memoizedState=[o,n],o}function bh(e,n,s){return s===void 0||(Li&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=xy(),xt.lanes|=e,qi|=e,s)}function Cp(e,n,s,o){return In(s,n)?s:As.current!==null?(e=bh(e,s,o),In(e,n)||(Qe=!0),e):(Li&42)===0?(Qe=!0,e.memoizedState=s):(e=xy(),xt.lanes|=e,qi|=e,n)}function Dp(e,n,s,o,f){var d=at.p;at.p=d!==0&&8>d?d:8;var _=X.T,T={};X.T=T,Ah(e,!1,n,s);try{var N=f(),H=X.S;if(H!==null&&H(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=rT(N,o);Gl(e,n,$,Un(e))}else Gl(e,n,o,Un(e))}catch(tt){Gl(e,n,{then:function(){},status:"rejected",reason:tt},Un())}finally{at.p=d,X.T=_}}function oT(){}function Th(e,n,s,o){if(e.tag!==5)throw Error(a(476));var f=xp(e).queue;Dp(e,f,n,gt,s===null?oT:function(){return Np(e),s(o)})}function xp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:gt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Np(e){var n=xp(e).next.queue;Gl(e,n,{},Un())}function Sh(){return on(oo)}function Ip(){return Ne().memoizedState}function Vp(){return Ne().memoizedState}function uT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Un();e=Mi(s);var o=Oi(n,e,s);o!==null&&(Pn(o,n,s),zl(o,n,s)),n={cache:Wf()},e.payload=n;return}n=n.return}}function cT(e,n,s){var o=Un();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ku(e)?Op(n,s):(s=Hf(e,n,s,o),s!==null&&(Pn(s,e,o),Lp(s,n,o)))}function Mp(e,n,s){var o=Un();Gl(e,n,s,o)}function Gl(e,n,s,o){var f={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ku(e))Op(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,s);if(f.hasEagerState=!0,f.eagerState=T,In(T,_))return Tu(e,n,f,0),se===null&&bu(),!1}catch{}finally{}if(s=Hf(e,n,f,o),s!==null)return Pn(s,e,o),Lp(s,n,o),!0}return!1}function Ah(e,n,s,o){if(o={lane:2,revertLane:nd(),action:o,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(n)throw Error(a(479))}else n=Hf(e,s,o,2),n!==null&&Pn(n,e,2)}function ku(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Op(e,n){ws=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Lp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Sn(e,s)}}var Bu={readContext:on,use:Lu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},Up={readContext:on,use:Lu,useCallback:function(e,n){return An().memoizedState=[e,n===void 0?null:n],e},useContext:on,useEffect:_p,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,zu(4194308,4,Sp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return zu(4194308,4,e,n)},useInsertionEffect:function(e,n){zu(4,2,e,n)},useMemo:function(e,n){var s=An();n=n===void 0?null:n;var o=e();if(ka){Re(!0);try{e()}finally{Re(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=An();if(s!==void 0){var f=s(n);if(ka){Re(!0);try{s(n)}finally{Re(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=cT.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var n=An();return e={current:e},n.memoizedState=e},useState:function(e){e=vh(e);var n=e.queue,s=Mp.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Eh,useDeferredValue:function(e,n){var s=An();return bh(s,e,n)},useTransition:function(){var e=vh(!1);return e=Dp.bind(null,xt,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=xt,f=An();if(Qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(jt&124)!==0||rp(o,n,s)}f.memoizedState=s;var d={value:s,getSnapshot:n};return f.queue=d,_p(ap.bind(null,o,d,e),[e]),o.flags|=2048,Cs(9,Pu(),ip.bind(null,o,d,s,n),null),s},useId:function(){var e=An(),n=se.identifierPrefix;if(Qt){var s=li,o=si;s=(o&~(1<<32-pe(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=Ou++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=iT++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Sh,useFormState:mp,useActionState:mp,useOptimistic:function(e){var n=An();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ah.bind(null,xt,!0,s),s.dispatch=n,[e,n]},useMemoCache:gh,useCacheRefresh:function(){return An().memoizedState=uT.bind(null,xt)}},Pp={readContext:on,use:Lu,useCallback:wp,useContext:on,useEffect:Ep,useImperativeHandle:Ap,useInsertionEffect:bp,useLayoutEffect:Tp,useMemo:Rp,useReducer:Uu,useRef:vp,useState:function(){return Uu(ci)},useDebugValue:Eh,useDeferredValue:function(e,n){var s=Ne();return Cp(s,ee.memoizedState,e,n)},useTransition:function(){var e=Uu(ci)[0],n=Ne().memoizedState;return[typeof e=="boolean"?e:ql(e),n]},useSyncExternalStore:np,useId:Ip,useHostTransitionStatus:Sh,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=Ne();return op(s,ee,e,n)},useMemoCache:gh,useCacheRefresh:Vp},fT={readContext:on,use:Lu,useCallback:wp,useContext:on,useEffect:Ep,useImperativeHandle:Ap,useInsertionEffect:bp,useLayoutEffect:Tp,useMemo:Rp,useReducer:yh,useRef:vp,useState:function(){return yh(ci)},useDebugValue:Eh,useDeferredValue:function(e,n){var s=Ne();return ee===null?bh(s,e,n):Cp(s,ee.memoizedState,e,n)},useTransition:function(){var e=yh(ci)[0],n=Ne().memoizedState;return[typeof e=="boolean"?e:ql(e),n]},useSyncExternalStore:np,useId:Ip,useHostTransitionStatus:Sh,useFormState:yp,useActionState:yp,useOptimistic:function(e,n){var s=Ne();return ee!==null?op(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gh,useCacheRefresh:Vp},Ds=null,Fl=0;function ju(e){var n=Fl;return Fl+=1,Ds===null&&(Ds=[]),Xg(Ds,e,n)}function Ql(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qu(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function zp(e){var n=e._init;return n(e._payload)}function kp(e){function n(k,L){if(e){var q=k.deletions;q===null?(k.deletions=[L],k.flags|=16):q.push(L)}}function s(k,L){if(!e)return null;for(;L!==null;)n(k,L),L=L.sibling;return null}function o(k){for(var L=new Map;k!==null;)k.key!==null?L.set(k.key,k):L.set(k.index,k),k=k.sibling;return L}function f(k,L){return k=ai(k,L),k.index=0,k.sibling=null,k}function d(k,L,q){return k.index=q,e?(q=k.alternate,q!==null?(q=q.index,q<L?(k.flags|=67108866,L):q):(k.flags|=67108866,L)):(k.flags|=1048576,L)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,L,q,J){return L===null||L.tag!==6?(L=Ff(q,k.mode,J),L.return=k,L):(L=f(L,q),L.return=k,L)}function N(k,L,q,J){var ht=q.type;return ht===U?$(k,L,q.props.children,J,q.key):L!==null&&(L.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&zp(ht)===L.type)?(L=f(L,q.props),Ql(L,q),L.return=k,L):(L=Au(q.type,q.key,q.props,null,k.mode,J),Ql(L,q),L.return=k,L)}function H(k,L,q,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Qf(q,k.mode,J),L.return=k,L):(L=f(L,q.children||[]),L.return=k,L)}function $(k,L,q,J,ht){return L===null||L.tag!==7?(L=Ia(q,k.mode,J,ht),L.return=k,L):(L=f(L,q),L.return=k,L)}function tt(k,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ff(""+L,k.mode,q),L.return=k,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return q=Au(L.type,L.key,L.props,null,k.mode,q),Ql(q,L),q.return=k,q;case C:return L=Qf(L,k.mode,q),L.return=k,L;case w:var J=L._init;return L=J(L._payload),tt(k,L,q)}if(Jt(L)||z(L))return L=Ia(L,k.mode,q,null),L.return=k,L;if(typeof L.then=="function")return tt(k,ju(L),q);if(L.$$typeof===Z)return tt(k,Du(k,L),q);qu(k,L)}return null}function G(k,L,q,J){var ht=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ht!==null?null:T(k,L,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===ht?N(k,L,q,J):null;case C:return q.key===ht?H(k,L,q,J):null;case w:return ht=q._init,q=ht(q._payload),G(k,L,q,J)}if(Jt(q)||z(q))return ht!==null?null:$(k,L,q,J,null);if(typeof q.then=="function")return G(k,L,ju(q),J);if(q.$$typeof===Z)return G(k,L,Du(k,q),J);qu(k,q)}return null}function F(k,L,q,J,ht){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(q)||null,T(L,k,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return k=k.get(J.key===null?q:J.key)||null,N(L,k,J,ht);case C:return k=k.get(J.key===null?q:J.key)||null,H(L,k,J,ht);case w:var Nt=J._init;return J=Nt(J._payload),F(k,L,q,J,ht)}if(Jt(J)||z(J))return k=k.get(q)||null,$(L,k,J,ht,null);if(typeof J.then=="function")return F(k,L,q,ju(J),ht);if(J.$$typeof===Z)return F(k,L,q,Du(L,J),ht);qu(L,J)}return null}function Tt(k,L,q,J){for(var ht=null,Nt=null,yt=L,Et=L=0,Xe=null;yt!==null&&Et<q.length;Et++){yt.index>Et?(Xe=yt,yt=null):Xe=yt.sibling;var Gt=G(k,yt,q[Et],J);if(Gt===null){yt===null&&(yt=Xe);break}e&&yt&&Gt.alternate===null&&n(k,yt),L=d(Gt,L,Et),Nt===null?ht=Gt:Nt.sibling=Gt,Nt=Gt,yt=Xe}if(Et===q.length)return s(k,yt),Qt&&Ma(k,Et),ht;if(yt===null){for(;Et<q.length;Et++)yt=tt(k,q[Et],J),yt!==null&&(L=d(yt,L,Et),Nt===null?ht=yt:Nt.sibling=yt,Nt=yt);return Qt&&Ma(k,Et),ht}for(yt=o(yt);Et<q.length;Et++)Xe=F(yt,k,Et,q[Et],J),Xe!==null&&(e&&Xe.alternate!==null&&yt.delete(Xe.key===null?Et:Xe.key),L=d(Xe,L,Et),Nt===null?ht=Xe:Nt.sibling=Xe,Nt=Xe);return e&&yt.forEach(function(Zi){return n(k,Zi)}),Qt&&Ma(k,Et),ht}function _t(k,L,q,J){if(q==null)throw Error(a(151));for(var ht=null,Nt=null,yt=L,Et=L=0,Xe=null,Gt=q.next();yt!==null&&!Gt.done;Et++,Gt=q.next()){yt.index>Et?(Xe=yt,yt=null):Xe=yt.sibling;var Zi=G(k,yt,Gt.value,J);if(Zi===null){yt===null&&(yt=Xe);break}e&&yt&&Zi.alternate===null&&n(k,yt),L=d(Zi,L,Et),Nt===null?ht=Zi:Nt.sibling=Zi,Nt=Zi,yt=Xe}if(Gt.done)return s(k,yt),Qt&&Ma(k,Et),ht;if(yt===null){for(;!Gt.done;Et++,Gt=q.next())Gt=tt(k,Gt.value,J),Gt!==null&&(L=d(Gt,L,Et),Nt===null?ht=Gt:Nt.sibling=Gt,Nt=Gt);return Qt&&Ma(k,Et),ht}for(yt=o(yt);!Gt.done;Et++,Gt=q.next())Gt=F(yt,k,Et,Gt.value,J),Gt!==null&&(e&&Gt.alternate!==null&&yt.delete(Gt.key===null?Et:Gt.key),L=d(Gt,L,Et),Nt===null?ht=Gt:Nt.sibling=Gt,Nt=Gt);return e&&yt.forEach(function(h1){return n(k,h1)}),Qt&&Ma(k,Et),ht}function re(k,L,q,J){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:t:{for(var ht=q.key;L!==null;){if(L.key===ht){if(ht=q.type,ht===U){if(L.tag===7){s(k,L.sibling),J=f(L,q.props.children),J.return=k,k=J;break t}}else if(L.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&zp(ht)===L.type){s(k,L.sibling),J=f(L,q.props),Ql(J,q),J.return=k,k=J;break t}s(k,L);break}else n(k,L);L=L.sibling}q.type===U?(J=Ia(q.props.children,k.mode,J,q.key),J.return=k,k=J):(J=Au(q.type,q.key,q.props,null,k.mode,J),Ql(J,q),J.return=k,k=J)}return _(k);case C:t:{for(ht=q.key;L!==null;){if(L.key===ht)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){s(k,L.sibling),J=f(L,q.children||[]),J.return=k,k=J;break t}else{s(k,L);break}else n(k,L);L=L.sibling}J=Qf(q,k.mode,J),J.return=k,k=J}return _(k);case w:return ht=q._init,q=ht(q._payload),re(k,L,q,J)}if(Jt(q))return Tt(k,L,q,J);if(z(q)){if(ht=z(q),typeof ht!="function")throw Error(a(150));return q=ht.call(q),_t(k,L,q,J)}if(typeof q.then=="function")return re(k,L,ju(q),J);if(q.$$typeof===Z)return re(k,L,Du(k,q),J);qu(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(s(k,L.sibling),J=f(L,q),J.return=k,k=J):(s(k,L),J=Ff(q,k.mode,J),J.return=k,k=J),_(k)):s(k,L)}return function(k,L,q,J){try{Fl=0;var ht=re(k,L,q,J);return Ds=null,ht}catch(yt){if(yt===Ul||yt===Nu)throw yt;var Nt=Vn(29,yt,null,k.mode);return Nt.lanes=J,Nt.return=k,Nt}finally{}}}var xs=kp(!0),Bp=kp(!1),$n=nt(null),Cr=null;function Ui(e){var n=e.alternate;it(ke,ke.current&1),it($n,e),Cr===null&&(n===null||As.current!==null||n.memoizedState!==null)&&(Cr=e)}function jp(e){if(e.tag===22){if(it(ke,ke.current),it($n,e),Cr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Cr=e)}}else Pi()}function Pi(){it(ke,ke.current),it($n,$n.current)}function fi(e){st($n),Cr===e&&(Cr=null),st(ke)}var ke=nt(0);function Hu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||md(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wh(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Rh={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Un(),f=Mi(o);f.payload=n,s!=null&&(f.callback=s),n=Oi(e,f,o),n!==null&&(Pn(n,e,o),zl(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Un(),f=Mi(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Oi(e,f,o),n!==null&&(Pn(n,e,o),zl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Un(),o=Mi(s);o.tag=2,n!=null&&(o.callback=n),n=Oi(e,o,s),n!==null&&(Pn(n,e,s),zl(n,e,s))}};function qp(e,n,s,o,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):n.prototype&&n.prototype.isPureReactComponent?!Dl(s,o)||!Dl(f,d):!0}function Hp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Rh.enqueueReplaceState(n,n.state,null)}function Ba(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var Gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Gp(e){Gu(e)}function Fp(e){console.error(e)}function Qp(e){Gu(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Yp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ch(e,n,s){return s=Mi(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function Xp(e){return e=Mi(e),e.tag=3,e}function Kp(e,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){Yp(n,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Yp(n,s,o),typeof f!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function hT(e,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ml(n,s,f,!0),s=$n.current,s!==null){switch(s.tag){case 13:return Cr===null?Zh():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===nh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Wh(e,o,f)),!1;case 22:return s.flags|=65536,o===nh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Wh(e,o,f)),!1}throw Error(a(435,s.tag))}return Wh(e,o,f),Zh(),!1}if(Qt)return n=$n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Kf&&(e=Error(a(422),{cause:o}),Vl(Qn(e,s)))):(o!==Kf&&(n=Error(a(423),{cause:o}),Vl(Qn(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Qn(o,s),f=Ch(e.stateNode,o,f),ah(e,f),_e!==4&&(_e=2)),!1;var d=Error(a(520),{cause:o});if(d=Qn(d,s),Wl===null?Wl=[d]:Wl.push(d),_e!==4&&(_e=2),n===null)return!0;o=Qn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=Ch(s.stateNode,o,e),ah(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hi===null||!Hi.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Xp(f),Kp(f,e,s,o),ah(s,f),!1}s=s.return}while(s!==null);return!1}var $p=Error(a(461)),Qe=!1;function en(e,n,s,o){n.child=e===null?Bp(n,null,s,o):xs(n,e.child,s,o)}function Zp(e,n,s,o,f){s=s.render;var d=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Pa(n),o=ch(e,n,s,_,d,f),T=fh(),e!==null&&!Qe?(hh(e,n,f),hi(e,n,f)):(Qt&&T&&Yf(n),n.flags|=1,en(e,n,o,f),n.child)}function Jp(e,n,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!Gf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Wp(e,n,d,o,f)):(e=Au(s.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Lh(e,f)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Dl,s(_,o)&&e.ref===n.ref)return hi(e,n,f)}return n.flags|=1,e=ai(d,o),e.ref=n.ref,e.return=n,n.child=e}function Wp(e,n,s,o,f){if(e!==null){var d=e.memoizedProps;if(Dl(d,o)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=o=d,Lh(e,f))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,hi(e,n,f)}return Dh(e,n,s,o,f)}function ty(e,n,s){var o=n.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return ey(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,d!==null?d.cachePool:null),d!==null?Wg(n,d):lh(),jp(n);else return n.lanes=n.childLanes=536870912,ey(e,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(xu(n,d.cachePool),Wg(n,d),Pi(),n.memoizedState=null):(e!==null&&xu(n,null),lh(),Pi());return en(e,n,f,s),n.child}function ey(e,n,s,o){var f=eh();return f=f===null?null:{parent:ze._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&xu(n,null),lh(),jp(n),e!==null&&Ml(e,n,o,!0),null}function Qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Dh(e,n,s,o,f){return Pa(n),s=ch(e,n,s,o,void 0,f),o=fh(),e!==null&&!Qe?(hh(e,n,f),hi(e,n,f)):(Qt&&o&&Yf(n),n.flags|=1,en(e,n,s,f),n.child)}function ny(e,n,s,o,f,d){return Pa(n),n.updateQueue=null,s=ep(n,o,s,f),tp(e),o=fh(),e!==null&&!Qe?(hh(e,n,d),hi(e,n,d)):(Qt&&o&&Yf(n),n.flags|=1,en(e,n,s,d),n.child)}function ry(e,n,s,o,f){if(Pa(n),n.stateNode===null){var d=_s,_=s.contextType;typeof _=="object"&&_!==null&&(d=on(_)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Rh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},rh(n),_=s.contextType,d.context=typeof _=="object"&&_!==null?on(_):_s,d.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(wh(n,s,_,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Rh.enqueueReplaceState(d,d.state,null),Bl(n,o,d,f),kl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,N=Ba(s,T);d.props=N;var H=d.context,$=s.contextType;_=_s,typeof $=="object"&&$!==null&&(_=on($));var tt=s.getDerivedStateFromProps;$=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&Hp(n,d,o,_),Vi=!1;var G=n.memoizedState;d.state=G,Bl(n,o,d,f),kl(),H=n.memoizedState,T||G!==H||Vi?(typeof tt=="function"&&(wh(n,s,tt,o),H=n.memoizedState),(N=Vi||qp(n,s,N,o,G,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=H),d.props=o,d.state=H,d.context=_,o=N):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,ih(e,n),_=n.memoizedProps,$=Ba(s,_),d.props=$,tt=n.pendingProps,G=d.context,H=s.contextType,N=_s,typeof H=="object"&&H!==null&&(N=on(H)),T=s.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||G!==N)&&Hp(n,d,o,N),Vi=!1,G=n.memoizedState,d.state=G,Bl(n,o,d,f),kl();var F=n.memoizedState;_!==tt||G!==F||Vi||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof T=="function"&&(wh(n,s,T,o),F=n.memoizedState),($=Vi||qp(n,s,$,o,G,F,N)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,F,N)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),d.props=o,d.state=F,d.context=N,o=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Qu(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=xs(n,e.child,null,f),n.child=xs(n,null,s,f)):en(e,n,s,f),n.memoizedState=d.state,e=n.child):e=hi(e,n,f),e}function iy(e,n,s,o){return Il(),n.flags|=256,en(e,n,s,o),n.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(e){return{baseLanes:e,cachePool:Fg()}}function Ih(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Zn),e}function ay(e,n,s){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(f?Ui(n):Pi(),Qt){var T=ve,N;if(N=T){t:{for(N=T,T=Rr;N.nodeType!==8;){if(!T){T=null;break t}if(N=cr(N.nextSibling),N===null){T=null;break t}}T=N}T!==null?(n.memoizedState={dehydrated:T,treeContext:Va!==null?{id:si,overflow:li}:null,retryLane:536870912,hydrationErrors:null},N=Vn(18,null,null,0),N.stateNode=T,N.return=n,n.child=N,En=n,ve=null,N=!0):N=!1}N||La(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return md(T)?n.lanes=32:n.lanes=536870912,null;fi(n)}return T=o.children,o=o.fallback,f?(Pi(),f=n.mode,T=Yu({mode:"hidden",children:T},f),o=Ia(o,f,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,f=n.child,f.memoizedState=Nh(s),f.childLanes=Ih(e,_,s),n.memoizedState=xh,o):(Ui(n),Vh(n,T))}if(N=e.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(d)n.flags&256?(Ui(n),n.flags&=-257,n=Mh(e,n,s)):n.memoizedState!==null?(Pi(),n.child=e.child,n.flags|=128,n=null):(Pi(),f=o.fallback,T=n.mode,o=Yu({mode:"visible",children:o.children},T),f=Ia(f,T,s,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,xs(n,e.child,null,s),o=n.child,o.memoizedState=Nh(s),o.childLanes=Ih(e,_,s),n.memoizedState=xh,n=f);else if(Ui(n),md(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,o=Error(a(419)),o.stack="",o.digest=_,Vl({value:o,source:null,stack:null}),n=Mh(e,n,s)}else if(Qe||Ml(e,n,s,!1),_=(s&e.childLanes)!==0,Qe||_){if(_=se,_!==null&&(o=s&-s,o=(o&42)!==0?1:Ee(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==N.retryLane))throw N.retryLane=o,vs(e,o),Pn(_,e,o),$p;T.data==="$?"||Zh(),n=Mh(e,n,s)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,ve=cr(T.nextSibling),En=n,Qt=!0,Oa=null,Rr=!1,e!==null&&(Xn[Kn++]=si,Xn[Kn++]=li,Xn[Kn++]=Va,si=e.id,li=e.overflow,Va=n),n=Vh(n,o.children),n.flags|=4096);return n}return f?(Pi(),f=o.fallback,T=n.mode,N=e.child,H=N.sibling,o=ai(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,H!==null?f=ai(H,f):(f=Ia(f,T,s,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,T=e.child.memoizedState,T===null?T=Nh(s):(N=T.cachePool,N!==null?(H=ze._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=Fg(),T={baseLanes:T.baseLanes|s,cachePool:N}),f.memoizedState=T,f.childLanes=Ih(e,_,s),n.memoizedState=xh,o):(Ui(n),s=e.child,e=s.sibling,s=ai(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function Vh(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=Vn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Mh(e,n,s){return xs(n,e.child,null,s),e=Vh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zf(e.return,n,s)}function Oh(e,n,s,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=f)}function ly(e,n,s){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(en(e,n,o.children,s),o=ke.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,s,n);else if(e.tag===19)sy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(it(ke,o),f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&Hu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Oh(n,!1,f,s,d);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Hu(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Oh(n,!0,s,null,d);break;case"together":Oh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function hi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),qi|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ml(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ai(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ai(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function dT(e,n,s){switch(n.tag){case 3:Pt(n,n.stateNode.containerInfo),Ii(n,ze,e.memoizedState.cache),Il();break;case 27:case 5:It(n);break;case 4:Pt(n,n.stateNode.containerInfo);break;case 10:Ii(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ui(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ay(e,n,s):(Ui(n),e=hi(e,n,s),e!==null?e.sibling:null);Ui(n);break;case 19:var f=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ml(e,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return ly(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(ke,ke.current),o)break;return null;case 22:case 23:return n.lanes=0,ty(e,n,s);case 24:Ii(n,ze,e.memoizedState.cache)}return hi(e,n,s)}function oy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!Lh(e,s)&&(n.flags&128)===0)return Qe=!1,dT(e,n,s);Qe=(e.flags&131072)!==0}else Qe=!1,Qt&&(n.flags&1048576)!==0&&zg(n,Ru,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")Gf(o)?(e=Ba(o,e),n.tag=1,n=ry(null,n,o,e,s)):(n.tag=0,n=Dh(null,n,o,e,s));else{if(o!=null){if(f=o.$$typeof,f===ut){n.tag=11,n=Zp(null,n,o,e,s);break t}else if(f===I){n.tag=14,n=Jp(null,n,o,e,s);break t}}throw n=Zt(o)||o,Error(a(306,n,""))}}return n;case 0:return Dh(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Ba(o,n.pendingProps),ry(e,n,o,f,s);case 3:t:{if(Pt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,ih(e,n),Bl(n,o,null,s);var _=n.memoizedState;if(o=_.cache,Ii(n,ze,o),o!==d.cache&&Jf(n,[ze],s,!0),kl(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=iy(e,n,o,s);break t}else if(o!==f){f=Qn(Error(a(424)),n),Vl(f),n=iy(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ve=cr(e.firstChild),En=n,Qt=!0,Oa=null,Rr=!0,s=Bp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Il(),o===f){n=hi(e,n,s);break t}en(e,n,o,s)}n=n.child}return n;case 26:return Qu(e,n),e===null?(s=hv(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qt||(s=n.type,e=n.pendingProps,o=lc(pt.current).createElement(s),o[Wt]=n,o[Ft]=e,rn(o,s,e),be(o),n.stateNode=o):n.memoizedState=hv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return It(n),e===null&&Qt&&(o=n.stateNode=uv(n.type,n.pendingProps,pt.current),En=n,Rr=!0,f=ve,Qi(n.type)?(gd=f,ve=cr(o.firstChild)):ve=f),en(e,n,n.pendingProps.children,s),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((f=o=ve)&&(o=jT(o,n.type,n.pendingProps,Rr),o!==null?(n.stateNode=o,En=n,ve=cr(o.firstChild),Rr=!1,f=!0):f=!1),f||La(n)),It(n),f=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,fd(f,d)?o=null:_!==null&&fd(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=ch(e,n,aT,null,null,s),oo._currentValue=f),Qu(e,n),en(e,n,o,s),n.child;case 6:return e===null&&Qt&&((e=s=ve)&&(s=qT(s,n.pendingProps,Rr),s!==null?(n.stateNode=s,En=n,ve=null,e=!0):e=!1),e||La(n)),null;case 13:return ay(e,n,s);case 4:return Pt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=xs(n,null,o,s):en(e,n,o,s),n.child;case 11:return Zp(e,n,n.type,n.pendingProps,s);case 7:return en(e,n,n.pendingProps,s),n.child;case 8:return en(e,n,n.pendingProps.children,s),n.child;case 12:return en(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ii(n,n.type,o.value),en(e,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Pa(n),f=on(f),o=o(f),n.flags|=1,en(e,n,o,s),n.child;case 14:return Jp(e,n,n.type,n.pendingProps,s);case 15:return Wp(e,n,n.type,n.pendingProps,s);case 19:return ly(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=Yu(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=ai(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return ty(e,n,s);case 24:return Pa(n),o=on(ze),e===null?(f=eh(),f===null&&(f=se,d=Wf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),n.memoizedState={parent:o,cache:f},rh(n),Ii(n,ze,f)):((e.lanes&s)!==0&&(ih(e,n),Bl(n,null,null,s),kl()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ii(n,ze,o)):(o=d.cache,Ii(n,ze,o),o!==f.cache&&Jf(n,[ze],s,!0))),en(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function di(e){e.flags|=4}function uy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!yv(n)){if(n=$n.current,n!==null&&((jt&4194048)===jt?Cr!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==Cr))throw Pl=nh,Qg;e.flags|=8192}}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ga():536870912,e.lanes|=n,Ms|=n)}function Yl(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function mT(e,n,s){var o=n.pendingProps;switch(Xf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ui(ze),we(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Nl(n)?di(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jg())),de(n),null;case 26:return s=n.memoizedState,e===null?(di(n),s!==null?(de(n),uy(n,s)):(de(n),n.flags&=-16777217)):s?s!==e.memoizedState?(di(n),de(n),uy(n,s)):(de(n),n.flags&=-16777217):(e.memoizedProps!==o&&di(n),de(n),n.flags&=-16777217),null;case 27:dn(n),s=pt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&di(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=mt.current,Nl(n)?kg(n):(e=uv(f,o,s),n.stateNode=e,di(n))}return de(n),null;case 5:if(dn(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&di(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(e=mt.current,Nl(n))kg(n);else{switch(f=lc(pt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(s,{is:o.is}):f.createElement(s)}}e[Wt]=n,e[Ft]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(rn(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&di(n)}}return de(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&di(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=pt.current,Nl(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,f=En,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Wt]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||nv(e.nodeValue,s)),e||La(n)}else e=lc(e).createTextNode(o),e[Wt]=n,n.stateNode=e}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Nl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Wt]=n}else Il(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),f=!1}else f=jg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(fi(n),n):(fi(n),null)}if(fi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),de(n),null;case 4:return we(),e===null&&sd(n.stateNode.containerInfo),de(n),null;case 10:return ui(n.type),de(n),null;case 19:if(st(ke),f=n.memoizedState,f===null)return de(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)Yl(f,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Hu(e),d!==null){for(n.flags|=128,Yl(f,!1),e=d.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Pg(s,e),s=s.sibling;return it(ke,ke.current&1|2),n.child}e=e.sibling}f.tail!==null&&mn()>Zu&&(n.flags|=128,o=!0,Yl(f,!1),n.lanes=4194304)}else{if(!o)if(e=Hu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Yl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Qt)return de(n),null}else 2*mn()-f.renderingStartTime>Zu&&s!==536870912&&(n.flags|=128,o=!0,Yl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=mn(),n.sibling=null,e=ke.current,it(ke,o?e&1|2:e&1),n):(de(n),null);case 22:case 23:return fi(n),oh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&st(za),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ui(ze),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function gT(e,n){switch(Xf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ui(ze),we(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dn(n),null;case 13:if(fi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Il()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return st(ke),null;case 4:return we(),null;case 10:return ui(n.type),null;case 22:case 23:return fi(n),oh(),e!==null&&st(za),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ui(ze),null;case 25:return null;default:return null}}function cy(e,n){switch(Xf(n),n.tag){case 3:ui(ze),we();break;case 26:case 27:case 5:dn(n);break;case 4:we();break;case 13:fi(n);break;case 19:st(ke);break;case 10:ui(n.type);break;case 22:case 23:fi(n),oh(),e!==null&&st(za);break;case 24:ui(ze)}}function Xl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,_=s.inst;o=d(),_.destroy=o}s=s.next}while(s!==f)}}catch(T){ie(n,n.return,T)}}function zi(e,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=n;var N=s,H=T;try{H()}catch($){ie(f,N,$)}}}o=o.next}while(o!==d)}}catch($){ie(n,n.return,$)}}function fy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Jg(n,s)}catch(o){ie(e,e.return,o)}}}function hy(e,n,s){s.props=Ba(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ie(e,n,o)}}function Kl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){ie(e,n,f)}}function Dr(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){ie(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){ie(e,n,f)}else s.current=null}function dy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){ie(e,e.return,f)}}function Uh(e,n,s){try{var o=e.stateNode;UT(o,e.type,s,n),o[Ft]=n}catch(f){ie(e,e.return,f)}}function my(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qi(e.type)||e.tag===4}function Ph(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||my(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zh(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=sc));else if(o!==4&&(o===27&&Qi(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zh(e,n,s),e=e.sibling;e!==null;)zh(e,n,s),e=e.sibling}function Ku(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Qi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ku(e,n,s),e=e.sibling;e!==null;)Ku(e,n,s),e=e.sibling}function gy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);rn(n,o,s),n[Wt]=e,n[Ft]=s}catch(d){ie(e,e.return,d)}}var mi=!1,Se=!1,kh=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function pT(e,n){if(e=e.containerInfo,ud=dc,e=Cg(e),Pf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var _=0,T=-1,N=-1,H=0,$=0,tt=e,G=null;e:for(;;){for(var F;tt!==s||f!==0&&tt.nodeType!==3||(T=_+f),tt!==d||o!==0&&tt.nodeType!==3||(N=_+o),tt.nodeType===3&&(_+=tt.nodeValue.length),(F=tt.firstChild)!==null;)G=tt,tt=F;for(;;){if(tt===e)break e;if(G===s&&++H===f&&(T=_),G===d&&++$===o&&(N=_),(F=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=F}s=T===-1||N===-1?null:{start:T,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(cd={focusedElem:e,selectionRange:s},dc=!1,Ye=n;Ye!==null;)if(n=Ye,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ye=e;else for(;Ye!==null;){switch(n=Ye,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Tt=Ba(s.type,f,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(Tt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){ie(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)dd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ye=e;break}Ye=n.return}}function yy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ki(e,s),o&4&&Xl(5,s);break;case 1:if(ki(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(_){ie(s,s.return,_)}else{var f=Ba(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ie(s,s.return,_)}}o&64&&fy(s),o&512&&Kl(s,s.return);break;case 3:if(ki(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Jg(e,n)}catch(_){ie(s,s.return,_)}}break;case 27:n===null&&o&4&&gy(s);case 26:case 5:ki(e,s),n===null&&o&4&&dy(s),o&512&&Kl(s,s.return);break;case 12:ki(e,s);break;case 13:ki(e,s),o&4&&Ey(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=wT.bind(null,s),HT(e,s))));break;case 22:if(o=s.memoizedState!==null||mi,!o){n=n!==null&&n.memoizedState!==null||Se,f=mi;var d=Se;mi=o,(Se=n)&&!d?Bi(e,s,(s.subtreeFlags&8772)!==0):ki(e,s),mi=f,Se=d}break;case 30:break;default:ki(e,s)}}function vy(e){var n=e.alternate;n!==null&&(e.alternate=null,vy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ci(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,wn=!1;function gi(e,n,s){for(s=s.child;s!==null;)_y(e,n,s),s=s.sibling}function _y(e,n,s){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(ue,s)}catch{}switch(s.tag){case 26:Se||Dr(s,n),gi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||Dr(s,n);var o=fe,f=wn;Qi(s.type)&&(fe=s.stateNode,wn=!1),gi(e,n,s),io(s.stateNode),fe=o,wn=f;break;case 5:Se||Dr(s,n);case 6:if(o=fe,f=wn,fe=null,gi(e,n,s),fe=o,wn=f,fe!==null)if(wn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(d){ie(s,n,d)}else try{fe.removeChild(s.stateNode)}catch(d){ie(s,n,d)}break;case 18:fe!==null&&(wn?(e=fe,lv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ho(e)):lv(fe,s.stateNode));break;case 4:o=fe,f=wn,fe=s.stateNode.containerInfo,wn=!0,gi(e,n,s),fe=o,wn=f;break;case 0:case 11:case 14:case 15:Se||zi(2,s,n),Se||zi(4,s,n),gi(e,n,s);break;case 1:Se||(Dr(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&hy(s,n,o)),gi(e,n,s);break;case 21:gi(e,n,s);break;case 22:Se=(o=Se)||s.memoizedState!==null,gi(e,n,s),Se=o;break;default:gi(e,n,s)}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ho(e)}catch(s){ie(n,n.return,s)}}function yT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new py),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new py),n;default:throw Error(a(435,e.tag))}}function Bh(e,n){var s=yT(e);n.forEach(function(o){var f=RT.bind(null,e,o);s.has(o)||(s.add(o),o.then(f,f))})}function Mn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Qi(T.type)){fe=T.stateNode,wn=!1;break t}break;case 5:fe=T.stateNode,wn=!1;break t;case 3:case 4:fe=T.stateNode.containerInfo,wn=!0;break t}T=T.return}if(fe===null)throw Error(a(160));_y(d,_,f),fe=null,wn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)by(n,e),n=n.sibling}var ur=null;function by(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mn(n,e),On(e),o&4&&(zi(3,e,e.return),Xl(3,e),zi(5,e,e.return));break;case 1:Mn(n,e),On(e),o&512&&(Se||s===null||Dr(s,s.return)),o&64&&mi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=ur;if(Mn(n,e),On(e),o&512&&(Se||s===null||Dr(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ar]||d[Wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),rn(d,o,s),d[Wt]=e,be(d),o=d;break t;case"link":var _=gv("link","href",f).get(o+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break e}}d=f.createElement(o),rn(d,o,s),f.head.appendChild(d);break;case"meta":if(_=gv("meta","content",f).get(o+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break e}}d=f.createElement(o),rn(d,o,s),f.head.appendChild(d);break;default:throw Error(a(468,o))}d[Wt]=e,be(d),o=d}e.stateNode=o}else pv(f,e.type,e.stateNode);else e.stateNode=mv(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?pv(f,e.type,e.stateNode):mv(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Uh(e,e.memoizedProps,s.memoizedProps)}break;case 27:Mn(n,e),On(e),o&512&&(Se||s===null||Dr(s,s.return)),s!==null&&o&4&&Uh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Mn(n,e),On(e),o&512&&(Se||s===null||Dr(s,s.return)),e.flags&32){f=e.stateNode;try{qn(f,"")}catch(F){ie(e,e.return,F)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Uh(e,f,s!==null?s.memoizedProps:f)),o&1024&&(kh=!0);break;case 6:if(Mn(n,e),On(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(F){ie(e,e.return,F)}}break;case 3:if(cc=null,f=ur,ur=oc(n.containerInfo),Mn(n,e),ur=f,On(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ho(n.containerInfo)}catch(F){ie(e,e.return,F)}kh&&(kh=!1,Ty(e));break;case 4:o=ur,ur=oc(e.stateNode.containerInfo),Mn(n,e),On(e),ur=o;break;case 12:Mn(n,e),On(e);break;case 13:Mn(n,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Qh=mn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bh(e,o)));break;case 22:f=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,H=mi,$=Se;if(mi=H||f,Se=$||N,Mn(n,e),Se=$,mi=H,On(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||N||mi||Se||ja(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var tt=N.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(F){ie(N,N.return,F)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(F){ie(N,N.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Bh(e,s))));break;case 19:Mn(n,e),On(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Bh(e,o)));break;case 30:break;case 21:break;default:Mn(n,e),On(e)}}function On(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(my(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Ph(e);Ku(e,d,f);break;case 5:var _=s.stateNode;s.flags&32&&(qn(_,""),s.flags&=-33);var T=Ph(e);Ku(e,T,_);break;case 3:case 4:var N=s.stateNode.containerInfo,H=Ph(e);zh(e,H,N);break;default:throw Error(a(161))}}catch($){ie(e,e.return,$)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(e,n.alternate,n),n=n.sibling}function ja(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zi(4,n,n.return),ja(n);break;case 1:Dr(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hy(n,n.return,s),ja(n);break;case 27:io(n.stateNode);case 26:case 5:Dr(n,n.return),ja(n);break;case 22:n.memoizedState===null&&ja(n);break;case 30:ja(n);break;default:ja(n)}e=e.sibling}}function Bi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Bi(f,d,s),Xl(4,d);break;case 1:if(Bi(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ie(o,o.return,H)}if(o=d,f=o.updateQueue,f!==null){var T=o.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Zg(N[f],T)}catch(H){ie(o,o.return,H)}}s&&_&64&&fy(d),Kl(d,d.return);break;case 27:gy(d);case 26:case 5:Bi(f,d,s),s&&o===null&&_&4&&dy(d),Kl(d,d.return);break;case 12:Bi(f,d,s);break;case 13:Bi(f,d,s),s&&_&4&&Ey(f,d);break;case 22:d.memoizedState===null&&Bi(f,d,s),Kl(d,d.return);break;case 30:break;default:Bi(f,d,s)}n=n.sibling}}function jh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ol(s))}function qh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ol(e))}function xr(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,s,o),n=n.sibling}function Sy(e,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:xr(e,n,s,o),f&2048&&Xl(9,n);break;case 1:xr(e,n,s,o);break;case 3:xr(e,n,s,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ol(e)));break;case 12:if(f&2048){xr(e,n,s,o),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ie(n,n.return,N)}}else xr(e,n,s,o);break;case 13:xr(e,n,s,o);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?xr(e,n,s,o):$l(e,n):d._visibility&2?xr(e,n,s,o):(d._visibility|=2,Ns(e,n,s,o,(n.subtreeFlags&10256)!==0)),f&2048&&jh(_,n);break;case 24:xr(e,n,s,o),f&2048&&qh(n.alternate,n);break;default:xr(e,n,s,o)}}function Ns(e,n,s,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,_=n,T=s,N=o,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ns(d,_,T,N,f),Xl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?Ns(d,_,T,N,f):$l(d,_):($._visibility|=2,Ns(d,_,T,N,f)),f&&H&2048&&jh(_.alternate,_);break;case 24:Ns(d,_,T,N,f),f&&H&2048&&qh(_.alternate,_);break;default:Ns(d,_,T,N,f)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,f=o.flags;switch(o.tag){case 22:$l(s,o),f&2048&&jh(o.alternate,o);break;case 24:$l(s,o),f&2048&&qh(o.alternate,o);break;default:$l(s,o)}n=n.sibling}}var Zl=8192;function Is(e){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 26:Is(e),e.flags&Zl&&e.memoizedState!==null&&n1(ur,e.memoizedState,e.memoizedProps);break;case 5:Is(e);break;case 3:case 4:var n=ur;ur=oc(e.stateNode.containerInfo),Is(e),ur=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Zl,Zl=16777216,Is(e),Zl=n):Is(e));break;default:Is(e)}}function wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ye=o,Cy(o,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&zi(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):Jl(e);break;default:Jl(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ye=o,Cy(o,e)}wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zi(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function Cy(e,n){for(;Ye!==null;){var s=Ye;switch(s.tag){case 0:case 11:case 15:zi(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ol(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ye=o;else t:for(s=e;Ye!==null;){o=Ye;var f=o.sibling,d=o.return;if(vy(o),o===s){Ye=null;break t}if(f!==null){f.return=d,Ye=f;break t}Ye=d}}}var vT={getCacheForType:function(e){var n=on(ze),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},_T=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Vt=null,jt=0,$t=0,Ln=null,ji=!1,Vs=!1,Hh=!1,pi=0,_e=0,qi=0,qa=0,Gh=0,Zn=0,Ms=0,Wl=null,Rn=null,Fh=!1,Qh=0,Zu=1/0,Ju=null,Hi=null,nn=0,Gi=null,Os=null,Ls=0,Yh=0,Xh=null,Dy=null,to=0,Kh=null;function Un(){if((Kt&2)!==0&&jt!==0)return jt&-jt;if(X.T!==null){var e=Ts;return e!==0?e:nd()}return Le()}function xy(){Zn===0&&(Zn=(jt&536870912)===0||Qt?ma():536870912);var e=$n.current;return e!==null&&(e.flags|=32),Zn}function Pn(e,n,s){(e===se&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Us(e,0),Fi(e,jt,Zn,!1)),ae(e,s),((Kt&2)===0||e!==se)&&(e===se&&((Kt&2)===0&&(qa|=s),_e===4&&Fi(e,jt,Zn,!1)),Nr(e))}function Ny(e,n,s){if((Kt&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Yr(e,n),f=o?TT(e,n):Jh(e,n,!0),d=o;do{if(f===0){Vs&&!o&&Fi(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!ET(s)){f=Jh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;f=Wl;var N=T.current.memoizedState.isDehydrated;if(N&&(Us(T,_).flags|=256),_=Jh(T,_,!1),_!==2){if(Hh&&!N){T.errorRecoveryDisabledLanes|=d,qa|=d,f=4;break t}d=Rn,Rn=f,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Us(e,0),Fi(e,n,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Fi(o,n,Zn,!ji);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Qh+300-mn(),10<f)){if(Fi(o,n,Zn,!ji),Qr(o,0,!0)!==0)break t;o.timeoutHandle=av(Iy.bind(null,o,s,Rn,Ju,Fh,n,Zn,qa,Ms,ji,d,2,-0,0),f);break t}Iy(o,s,Rn,Ju,Fh,n,Zn,qa,Ms,ji,d,0,-0,0)}}break}while(!0);Nr(e)}function Iy(e,n,s,o,f,d,_,T,N,H,$,tt,G,F){if(e.timeoutHandle=-1,tt=n.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(lo={stylesheets:null,count:0,unsuspend:e1},Ay(n),tt=r1(),tt!==null)){e.cancelPendingCommit=tt(zy.bind(null,e,n,d,s,o,f,_,T,N,$,1,G,F)),Fi(e,d,_,!H);return}zy(e,n,d,s,o,f,_,T,N)}function ET(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!In(d(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fi(e,n,s,o){n&=~Gh,n&=~qa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-pe(f),_=1<<d;o[d]=-1,f&=~_}s!==0&&ce(e,s,n)}function Wu(){return(Kt&6)===0?(eo(0),!1):!0}function $h(){if(Vt!==null){if($t===0)var e=Vt.return;else e=Vt,oi=Ua=null,dh(e),Ds=null,Fl=0,e=Vt;for(;e!==null;)cy(e.alternate,e),e=e.return;Vt=null}}function Us(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,zT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),$h(),se=e,Vt=s=ai(e.current,null),jt=n,$t=0,Ln=null,ji=!1,Vs=Yr(e,n),Hh=!1,Ms=Zn=Gh=qa=qi=_e=0,Rn=Wl=null,Fh=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-pe(o),d=1<<f;n|=e[f],o&=~d}return pi=n,bu(),s}function Vy(e,n){xt=null,X.H=Bu,n===Ul||n===Nu?(n=Kg(),$t=3):n===Qg?(n=Kg(),$t=4):$t=n===$p?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Vt===null&&(_e=1,Fu(e,Qn(n,e.current)))}function My(){var e=X.H;return X.H=Bu,e===null?Bu:e}function Oy(){var e=X.A;return X.A=vT,e}function Zh(){_e=4,ji||(jt&4194048)!==jt&&$n.current!==null||(Vs=!0),(qi&134217727)===0&&(qa&134217727)===0||se===null||Fi(se,jt,Zn,!1)}function Jh(e,n,s){var o=Kt;Kt|=2;var f=My(),d=Oy();(se!==e||jt!==n)&&(Ju=null,Us(e,n)),n=!1;var _=_e;t:do try{if($t!==0&&Vt!==null){var T=Vt,N=Ln;switch($t){case 8:$h(),_=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(n=!0);var H=$t;if($t=0,Ln=null,Ps(e,T,N,H),s&&Vs){_=0;break t}break;default:H=$t,$t=0,Ln=null,Ps(e,T,N,H)}}bT(),_=_e;break}catch($){Vy(e,$)}while(!0);return n&&e.shellSuspendCounter++,oi=Ua=null,Kt=o,X.H=f,X.A=d,Vt===null&&(se=null,jt=0,bu()),_}function bT(){for(;Vt!==null;)Ly(Vt)}function TT(e,n){var s=Kt;Kt|=2;var o=My(),f=Oy();se!==e||jt!==n?(Ju=null,Zu=mn()+500,Us(e,n)):Vs=Yr(e,n);t:do try{if($t!==0&&Vt!==null){n=Vt;var d=Ln;e:switch($t){case 1:$t=0,Ln=null,Ps(e,n,d,1);break;case 2:case 9:if(Yg(d)){$t=0,Ln=null,Uy(n);break}n=function(){$t!==2&&$t!==9||se!==e||($t=7),Nr(e)},d.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Yg(d)?($t=0,Ln=null,Uy(n)):($t=0,Ln=null,Ps(e,n,d,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var T=Vt;if(!_||yv(_)){$t=0,Ln=null;var N=T.sibling;if(N!==null)Vt=N;else{var H=T.return;H!==null?(Vt=H,tc(H)):Vt=null}break e}}$t=0,Ln=null,Ps(e,n,d,5);break;case 6:$t=0,Ln=null,Ps(e,n,d,6);break;case 8:$h(),_e=6;break t;default:throw Error(a(462))}}ST();break}catch($){Vy(e,$)}while(!0);return oi=Ua=null,X.H=o,X.A=f,Kt=s,Vt!==null?0:(se=null,jt=0,bu(),_e)}function ST(){for(;Vt!==null&&!kn();)Ly(Vt)}function Ly(e){var n=oy(e.alternate,e,pi);e.memoizedProps=e.pendingProps,n===null?tc(e):Vt=n}function Uy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ny(s,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=ny(s,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:dh(n);default:cy(s,n),n=Vt=Pg(n,pi),n=oy(s,n,pi)}e.memoizedProps=e.pendingProps,n===null?tc(e):Vt=n}function Ps(e,n,s,o){oi=Ua=null,dh(n),Ds=null,Fl=0;var f=n.return;try{if(hT(e,f,n,s,jt)){_e=1,Fu(e,Qn(s,e.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;_e=1,Fu(e,Qn(s,e.current)),Vt=null;return}n.flags&32768?(Qt||o===1?e=!0:Vs||(jt&536870912)!==0?e=!1:(ji=e=!0,(o===2||o===9||o===3||o===6)&&(o=$n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){Py(n,ji);return}e=n.return;var s=mT(n.alternate,n,pi);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);_e===0&&(_e=5)}function Py(e,n){do{var s=gT(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);_e=6,Vt=null}function zy(e,n,s,o,f,d,_,T,N){e.cancelPendingCommit=null;do ec();while(nn!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=qf,Oe(e,s,d,_,T,N),e===se&&(Vt=se=null,jt=0),Os=n,Gi=e,Ls=s,Yh=d,Xh=f,Dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,CT(Bn,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,f=at.p,at.p=2,_=Kt,Kt|=4;try{pT(e,n,s)}finally{Kt=_,at.p=f,X.T=o}}nn=1,ky(),By(),jy()}}function ky(){if(nn===1){nn=0;var e=Gi,n=Os,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var o=at.p;at.p=2;var f=Kt;Kt|=4;try{by(n,e);var d=cd,_=Cg(e.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Rg(T.ownerDocument.documentElement,T)){if(N!==null&&Pf(T)){var H=N.start,$=N.end;if($===void 0&&($=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min($,T.value.length);else{var tt=T.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var F=G.getSelection(),Tt=T.textContent.length,_t=Math.min(N.start,Tt),re=N.end===void 0?_t:Math.min(N.end,Tt);!F.extend&&_t>re&&(_=re,re=_t,_t=_);var k=wg(T,_t),L=wg(T,re);if(k&&L&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==L.node||F.focusOffset!==L.offset)){var q=tt.createRange();q.setStart(k.node,k.offset),F.removeAllRanges(),_t>re?(F.addRange(q),F.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),F.addRange(q))}}}}for(tt=[],F=T;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var J=tt[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}dc=!!ud,cd=ud=null}finally{Kt=f,at.p=o,X.T=s}}e.current=n,nn=2}}function By(){if(nn===2){nn=0;var e=Gi,n=Os,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var o=at.p;at.p=2;var f=Kt;Kt|=4;try{yy(e,n.alternate,n)}finally{Kt=f,at.p=o,X.T=s}}nn=3}}function jy(){if(nn===4||nn===3){nn=0,er();var e=Gi,n=Os,s=Ls,o=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?nn=5:(nn=0,Os=Gi=null,qy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Hi=null),Ce(s),n=n.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(ue,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=X.T,f=at.p,at.p=2,X.T=null;try{for(var d=e.onRecoverableError,_=0;_<o.length;_++){var T=o[_];d(T.value,{componentStack:T.stack})}}finally{X.T=n,at.p=f}}(Ls&3)!==0&&ec(),Nr(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===Kh?to++:(to=0,Kh=e):to=0,eo(0)}}function qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ol(n)))}function ec(e){return ky(),By(),jy(),Hy()}function Hy(){if(nn!==5)return!1;var e=Gi,n=Yh;Yh=0;var s=Ce(Ls),o=X.T,f=at.p;try{at.p=32>s?32:s,X.T=null,s=Xh,Xh=null;var d=Gi,_=Ls;if(nn=0,Os=Gi=null,Ls=0,(Kt&6)!==0)throw Error(a(331));var T=Kt;if(Kt|=4,Ry(d.current),Sy(d,d.current,_,s),Kt=T,eo(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{at.p=f,X.T=o,qy(e,n)}}function Gy(e,n,s){n=Qn(s,n),n=Ch(e.stateNode,n,2),e=Oi(e,n,2),e!==null&&(ae(e,2),Nr(e))}function ie(e,n,s){if(e.tag===3)Gy(e,e,s);else for(;n!==null;){if(n.tag===3){Gy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hi===null||!Hi.has(o))){e=Qn(s,e),s=Xp(2),o=Oi(n,s,2),o!==null&&(Kp(s,o,n,e),ae(o,2),Nr(o));break}}n=n.return}}function Wh(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new _T;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(Hh=!0,f.add(s),e=AT.bind(null,e,n,s),n.then(e,e))}function AT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(jt&s)===s&&(_e===4||_e===3&&(jt&62914560)===jt&&300>mn()-Qh?(Kt&2)===0&&Us(e,0):Gh|=s,Ms===jt&&(Ms=0)),Nr(e)}function Fy(e,n){n===0&&(n=ga()),e=vs(e,n),e!==null&&(ae(e,n),Nr(e))}function wT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Fy(e,s)}function RT(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Fy(e,s)}function CT(e,n){return Tn(e,n)}var nc=null,zs=null,td=!1,rc=!1,ed=!1,Ha=0;function Nr(e){e!==zs&&e.next===null&&(zs===null?nc=zs=e:zs=zs.next=e),rc=!0,td||(td=!0,xT())}function eo(e,n){if(!ed&&rc){ed=!0;do for(var s=!1,o=nc;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-pe(42|e)+1)-1,d&=f&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Ky(o,d))}else d=jt,d=Qr(o,o===se?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Yr(o,d)||(s=!0,Ky(o,d));o=o.next}while(s);ed=!1}}function DT(){Qy()}function Qy(){rc=td=!1;var e=0;Ha!==0&&(PT()&&(e=Ha),Ha=0);for(var n=mn(),s=null,o=nc;o!==null;){var f=o.next,d=Yy(o,n);d===0?(o.next=null,s===null?nc=f:s.next=f,f===null&&(zs=s)):(s=o,(e!==0||(d&3)!==0)&&(rc=!0)),o=f}eo(e)}function Yy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-pe(d),T=1<<_,N=f[_];N===-1?((T&s)===0||(T&o)!==0)&&(f[_]=Ri(T,n)):N<=n&&(e.expiredLanes|=T),d&=~T}if(n=se,s=jt,s=Qr(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ze(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Yr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Ze(o),Ce(s)){case 2:case 8:s=gn;break;case 32:s=Bn;break;case 268435456:s=Hr;break;default:s=Bn}return o=Xy.bind(null,e),s=Tn(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Ze(o),e.callbackPriority=2,e.callbackNode=null,2}function Xy(e,n){if(nn!==0&&nn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ec()&&e.callbackNode!==s)return null;var o=jt;return o=Qr(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ny(e,o,n),Yy(e,mn()),e.callbackNode!=null&&e.callbackNode===s?Xy.bind(null,e):null)}function Ky(e,n){if(ec())return null;Ny(e,n,!0)}function xT(){kT(function(){(Kt&6)!==0?Tn(qr,DT):Qy()})}function nd(){return Ha===0&&(Ha=ma()),Ha}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ss(""+e)}function Zy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function NT(e,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var d=$y((f[Ft]||null).action),_=o.submitter;_&&(n=(n=_[Ft]||null)?$y(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new ls("action","action",null,o,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ha!==0){var N=_?Zy(f,_):new FormData(f);Th(s,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?Zy(f,_):new FormData(f),Th(s,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var rd=0;rd<jf.length;rd++){var id=jf[rd],IT=id.toLowerCase(),VT=id[0].toUpperCase()+id.slice(1);or(IT,"on"+VT)}or(Ng,"onAnimationEnd"),or(Ig,"onAnimationIteration"),or(Vg,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(Kb,"onTransitionRun"),or($b,"onTransitionStart"),or(Zb,"onTransitionCancel"),or(Mg,"onTransitionEnd"),$r("onMouseEnter",["mouseout","mouseover"]),$r("onMouseLeave",["mouseout","mouseover"]),$r("onPointerEnter",["pointerout","pointerover"]),$r("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Jy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],N=T.instance,H=T.currentTarget;if(T=T.listener,N!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=H;try{d(f)}catch($){Gu($)}f.currentTarget=null,d=N}else for(_=0;_<o.length;_++){if(T=o[_],N=T.instance,H=T.currentTarget,T=T.listener,N!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=H;try{d(f)}catch($){Gu($)}f.currentTarget=null,d=N}}}}function Mt(e,n){var s=n[ir];s===void 0&&(s=n[ir]=new Set);var o=e+"__bubble";s.has(o)||(Wy(n,e,2,!1),s.add(o))}function ad(e,n,s){var o=0;n&&(o|=4),Wy(s,e,o,n)}var ic="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[ic]){e[ic]=!0,ml.forEach(function(s){s!=="selectionchange"&&(MT.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ic]||(n[ic]=!0,ad("selectionchange",!1,n))}}function Wy(e,n,s,o){switch(Sv(n)){case 2:var f=s1;break;case 8:f=l1;break;default:f=Ed}s=f.bind(null,n,s,e),f=void 0,!Gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function ld(e,n,s,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=Kr(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=d=_;continue t}T=T.parentNode}}o=o.return}su(function(){var H=d,$=Hn(s),tt=[];t:{var G=Og.get(e);if(G!==void 0){var F=ls,Tt=e;switch(e){case"keypress":if(br(s)===0)break t;case"keydown":case"keyup":F=ds;break;case"focusin":Tt="focus",F=cs;break;case"focusout":Tt="blur",F=cs;break;case"beforeblur":case"afterblur":F=cs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=mu;break;case Ng:case Ig:case Vg:F=fs;break;case Mg:F=pu;break;case"scroll":case"scrollend":F=lu;break;case"wheel":F=ms;break;case"copy":case"cut":case"paste":F=hs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Rl;break;case"toggle":case"beforetoggle":F=vu}var _t=(n&4)!==0,re=!_t&&(e==="scroll"||e==="scrollend"),k=_t?G!==null?G+"Capture":null:G;_t=[];for(var L=H,q;L!==null;){var J=L;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||k===null||(J=Ta(L,k),J!=null&&_t.push(ro(L,J,q))),re)break;L=L.return}0<_t.length&&(G=new F(G,Tt,null,s,$),tt.push({event:G,listeners:_t}))}}if((n&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",G&&s!==Wr&&(Tt=s.relatedTarget||s.fromElement)&&(Kr(Tt)||Tt[ye]))break t;if((F||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,F?(Tt=s.relatedTarget||s.toElement,F=H,Tt=Tt?Kr(Tt):null,Tt!==null&&(re=u(Tt),_t=Tt.tag,Tt!==re||_t!==5&&_t!==27&&_t!==6)&&(Tt=null)):(F=null,Tt=H),F!==Tt)){if(_t=Fn,J="onMouseLeave",k="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Rl,J="onPointerLeave",k="onPointerEnter",L="pointer"),re=F==null?G:yr(F),q=Tt==null?G:yr(Tt),G=new _t(J,L+"leave",F,s,$),G.target=re,G.relatedTarget=q,J=null,Kr($)===H&&(_t=new _t(k,L+"enter",Tt,s,$),_t.target=q,_t.relatedTarget=re,J=_t),re=J,F&&Tt)e:{for(_t=F,k=Tt,L=0,q=_t;q;q=ks(q))L++;for(q=0,J=k;J;J=ks(J))q++;for(;0<L-q;)_t=ks(_t),L--;for(;0<q-L;)k=ks(k),q--;for(;L--;){if(_t===k||k!==null&&_t===k.alternate)break e;_t=ks(_t),k=ks(k)}_t=null}else _t=null;F!==null&&tv(tt,G,F,_t,!1),Tt!==null&&re!==null&&tv(tt,re,Tt,_t,!0)}}t:{if(G=H?yr(H):window,F=G.nodeName&&G.nodeName.toLowerCase(),F==="select"||F==="input"&&G.type==="file")var ht=_g;else if(Pe(G))if(Eg)ht=Qb;else{ht=Gb;var Nt=Hb}else F=G.nodeName,!F||F.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&_l(H.elementType)&&(ht=_g):ht=Fb;if(ht&&(ht=ht(e,H))){ii(tt,ht,s,$);break t}Nt&&Nt(e,G,H),e==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&xi(G,"number",G.value)}switch(Nt=H?yr(H):window,e){case"focusin":(Pe(Nt)||Nt.contentEditable==="true")&&(gs=Nt,zf=H,xl=null);break;case"focusout":xl=zf=gs=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Dg(tt,s,$);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":Dg(tt,s,$)}var yt;if(Ar)t:{switch(e){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else kt?Y(e,s)&&(Et="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Et="onCompositionStart");Et&&(v&&s.locale!=="ko"&&(kt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&kt&&(yt=bl()):(Er=$,Ni="value"in Er?Er.value:Er.textContent,kt=!0)),Nt=ac(H,Et),0<Nt.length&&(Et=new Al(Et,e,null,s,$),tt.push({event:Et,listeners:Nt}),yt?Et.data=yt:(yt=ot(s),yt!==null&&(Et.data=yt)))),(yt=g?Ue(e,s):Bt(e,s))&&(Et=ac(H,"onBeforeInput"),0<Et.length&&(Nt=new Al("onBeforeInput","beforeinput",null,s,$),tt.push({event:Nt,listeners:Et}),Nt.data=yt)),NT(tt,e,H,s,$)}Jy(tt,n)})}function ro(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ac(e,n){for(var s=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ta(e,s),f!=null&&o.unshift(ro(e,f,d)),f=Ta(e,n),f!=null&&o.push(ro(e,f,d))),e.tag===3)return o;e=e.return}return[]}function ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tv(e,n,s,o,f){for(var d=n._reactName,_=[];s!==null&&s!==o;){var T=s,N=T.alternate,H=T.stateNode;if(T=T.tag,N!==null&&N===o)break;T!==5&&T!==26&&T!==27||H===null||(N=H,f?(H=Ta(s,d),H!=null&&_.unshift(ro(s,H,N))):f||(H=Ta(s,d),H!=null&&_.push(ro(s,H,N)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var OT=/\r\n?/g,LT=/\u0000|\uFFFD/g;function ev(e){return(typeof e=="string"?e:""+e).replace(OT,`
`).replace(LT,"")}function nv(e,n){return n=ev(n),ev(e)===n}function sc(){}function ne(e,n,s,o,f,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||qn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&qn(e,""+o);break;case"className":vr(e,"class",o);break;case"tabIndex":vr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(e,s,o);break;case"style":vl(e,o,d);break;case"data":if(n!=="object"){vr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ss(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",f.name,f,null),ne(e,n,"formEncType",f.formEncType,f,null),ne(e,n,"formMethod",f.formMethod,f,null),ne(e,n,"formTarget",f.formTarget,f,null)):(ne(e,n,"encType",f.encType,f,null),ne(e,n,"method",f.method,f,null),ne(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ss(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=sc);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ss(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),Di(e,"popover",o);break;case"xlinkActuate":We(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":We(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":We(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":We(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":We(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":We(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":We(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":We(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":We(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Di(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=If.get(s)||s,Di(e,s,o))}}function od(e,n,s,o,f,d){switch(s){case"style":vl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?qn(e,o):(typeof o=="number"||typeof o=="bigint")&&qn(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!es.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),d=e[Ft]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,f);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Di(e,s,o)}}}function rn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,d,_,s,null)}}f&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var T=d=_=f=null,N=null,H=null;for(o in s)if(s.hasOwnProperty(o)){var $=s[o];if($!=null)switch(o){case"name":f=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,n));break;default:ne(e,n,o,$,s,null)}}_a(e,d,T,N,H,_,f,!1),as(e);return;case"select":Mt("invalid",e),o=_=d=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:ne(e,n,f,T,s,null)}n=d,s=_,e.multiple=!!o,n!=null?Jr(e,!!o,n,!1):s!=null&&Jr(e,!!o,s,!0);return;case"textarea":Mt("invalid",e),d=f=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ne(e,n,_,T,s,null)}Ea(e,o,f,d),as(e);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(o=s[N],o!=null))switch(N){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,n,N,o,s,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<no.length;o++)Mt(no[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(o=s[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,H,o,s,null)}return;default:if(_l(n)){for($ in s)s.hasOwnProperty($)&&(o=s[$],o!==void 0&&od(e,n,$,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&ne(e,n,T,o,s,null))}function UT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,T=null,N=null,H=null,$=null;for(F in s){var tt=s[F];if(s.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=tt;default:o.hasOwnProperty(F)||ne(e,n,F,null,o,tt)}}for(var G in o){var F=o[G];if(tt=s[G],o.hasOwnProperty(G)&&(F!=null||tt!=null))switch(G){case"type":d=F;break;case"name":f=F;break;case"checked":H=F;break;case"defaultChecked":$=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==tt&&ne(e,n,G,F,o,tt)}}Nn(e,_,T,N,H,$,d,f);return;case"select":F=_=T=G=null;for(d in s)if(N=s[d],s.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:o.hasOwnProperty(d)||ne(e,n,d,null,o,N)}for(f in o)if(d=o[f],N=s[f],o.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&ne(e,n,f,d,o,N)}n=T,s=_,o=F,G!=null?Jr(e,!!s,G,!1):!!o!=!!s&&(n!=null?Jr(e,!!s,n,!0):Jr(e,!!s,s?[]:"",!1));return;case"textarea":F=G=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,n,T,null,o,f)}for(_ in o)if(f=o[_],d=s[_],o.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&ne(e,n,_,f,o,d)}te(e,G,F);return;case"option":for(var Tt in s)if(G=s[Tt],s.hasOwnProperty(Tt)&&G!=null&&!o.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:ne(e,n,Tt,null,o,G)}for(N in o)if(G=o[N],F=s[N],o.hasOwnProperty(N)&&G!==F&&(G!=null||F!=null))switch(N){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ne(e,n,N,G,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)G=s[_t],s.hasOwnProperty(_t)&&G!=null&&!o.hasOwnProperty(_t)&&ne(e,n,_t,null,o,G);for(H in o)if(G=o[H],F=s[H],o.hasOwnProperty(H)&&G!==F&&(G!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ne(e,n,H,G,o,F)}return;default:if(_l(n)){for(var re in s)G=s[re],s.hasOwnProperty(re)&&G!==void 0&&!o.hasOwnProperty(re)&&od(e,n,re,void 0,o,G);for($ in o)G=o[$],F=s[$],!o.hasOwnProperty($)||G===F||G===void 0&&F===void 0||od(e,n,$,G,o,F);return}}for(var k in s)G=s[k],s.hasOwnProperty(k)&&G!=null&&!o.hasOwnProperty(k)&&ne(e,n,k,null,o,G);for(tt in o)G=o[tt],F=s[tt],!o.hasOwnProperty(tt)||G===F||G==null&&F==null||ne(e,n,tt,G,o,F)}var ud=null,cd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function rv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function PT(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,zT=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,kT=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(e){return sv.resolve(null).then(e).catch(BT)}:av;function BT(e){setTimeout(function(){throw e})}function Qi(e){return e==="head"}function lv(e,n){var s=n,o=0,f=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var _=e.ownerDocument;if(s&1&&io(_.documentElement),s&2&&io(_.body),s&4)for(s=_.head,io(s),_=s.firstChild;_;){var T=_.nextSibling,N=_.nodeName;_[ar]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(f===0){e.removeChild(d),ho(n);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);ho(n)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dd(s),Ci(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function jT(e,n,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ar])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=cr(e.nextSibling),e===null)break}return null}function qT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=cr(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function HT(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function cr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var gd=null;function ov(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function uv(e,n,s){switch(n=lc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function io(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ci(e)}var Jn=new Map,cv=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yi=at.d;at.d={f:GT,r:FT,D:QT,C:YT,L:XT,m:KT,X:ZT,S:$T,M:JT};function GT(){var e=yi.f(),n=Wu();return e||n}function FT(e){var n=pr(e);n!==null&&n.tag===5&&n.type==="form"?Np(n):yi.r(e)}var Bs=typeof document>"u"?null:document;function fv(e,n,s){var o=Bs;if(o&&typeof n=="string"&&n){var f=De(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),cv.has(f)||(cv.add(f),e={rel:e,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),rn(n,"link",e),be(n),o.head.appendChild(n)))}}function QT(e){yi.D(e),fv("dns-prefetch",e,null)}function YT(e,n){yi.C(e,n),fv("preconnect",e,n)}function XT(e,n,s){yi.L(e,n,s);var o=Bs;if(o&&e&&n){var f='link[rel="preload"][as="'+De(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+De(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+De(s.imageSizes)+'"]')):f+='[href="'+De(e)+'"]';var d=f;switch(n){case"style":d=js(e);break;case"script":d=qs(e)}Jn.has(d)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Jn.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(ao(d))||n==="script"&&o.querySelector(so(d))||(n=o.createElement("link"),rn(n,"link",e),be(n),o.head.appendChild(n)))}}function KT(e,n){yi.m(e,n);var s=Bs;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+De(o)+'"][href="'+De(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qs(e)}if(!Jn.has(d)&&(e=E({rel:"modulepreload",href:e},n),Jn.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(so(d)))return}o=s.createElement("link"),rn(o,"link",e),be(o),s.head.appendChild(o)}}}function $T(e,n,s){yi.S(e,n,s);var o=Bs;if(o&&e){var f=yn(o).hoistableStyles,d=js(e);n=n||"default";var _=f.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(ao(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Jn.get(d))&&pd(e,s);var N=_=o.createElement("link");be(N),rn(N,"link",e),N._p=new Promise(function(H,$){N.onload=H,N.onerror=$}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,uc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(d,_)}}}function ZT(e,n){yi.X(e,n);var s=Bs;if(s&&e){var o=yn(s).hoistableScripts,f=qs(e),d=o.get(f);d||(d=s.querySelector(so(f)),d||(e=E({src:e,async:!0},n),(n=Jn.get(f))&&yd(e,n),d=s.createElement("script"),be(d),rn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function JT(e,n){yi.M(e,n);var s=Bs;if(s&&e){var o=yn(s).hoistableScripts,f=qs(e),d=o.get(f);d||(d=s.querySelector(so(f)),d||(e=E({src:e,async:!0,type:"module"},n),(n=Jn.get(f))&&yd(e,n),d=s.createElement("script"),be(d),rn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function hv(e,n,s,o){var f=(f=pt.current)?oc(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=js(s.href),s=yn(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=js(s.href);var d=yn(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(ao(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Jn.set(e,s),d||WT(f,e,s,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qs(s),s=yn(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function js(e){return'href="'+De(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function dv(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function WT(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),rn(n,"link",s),be(n),e.head.appendChild(n))}function qs(e){return'[src="'+De(e)+'"]'}function so(e){return"script[async]"+e}function mv(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+De(s.href)+'"]');if(o)return n.instance=o,be(o),o;var f=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),be(o),rn(o,"style",f),uc(o,s.precedence,e),n.instance=o;case"stylesheet":f=js(s.href);var d=e.querySelector(ao(f));if(d)return n.state.loading|=4,n.instance=d,be(d),d;o=dv(s),(f=Jn.get(f))&&pd(o,f),d=(e.ownerDocument||e).createElement("link"),be(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),rn(d,"link",o),n.state.loading|=4,uc(d,s.precedence,e),n.instance=d;case"script":return d=qs(s.src),(f=e.querySelector(so(d)))?(n.instance=f,be(f),f):(o=s,(f=Jn.get(d))&&(o=E({},s),yd(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),be(f),rn(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,uc(o,s.precedence,e));return n.instance}function uc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function gv(e,n,s){if(cc===null){var o=new Map,f=cc=new Map;f.set(s,o)}else f=cc,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[ar]||d[Wt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function pv(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function t1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var lo=null;function e1(){}function n1(e,n,s){if(lo===null)throw Error(a(475));var o=lo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=js(s.href),d=e.querySelector(ao(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=fc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,be(d);return}d=e.ownerDocument||e,s=dv(s),(f=Jn.get(f))&&pd(s,f),d=d.createElement("link"),be(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),rn(d,"link",s),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=fc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function r1(){if(lo===null)throw Error(a(475));var e=lo;return e.stylesheets&&e.count===0&&vd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&vd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function fc(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function vd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(i1,e),hc=null,fc.call(e))}function i1(e,n){if(!(n.state.loading&4)){var s=hc.get(e);if(s)var o=s.get(null);else{s=new Map,hc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}f=n.instance,_=f.getAttribute("data-precedence"),d=s.get(_)||o,d===o&&s.set(null,f),s.set(_,f),this.count++,o=fc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var oo={$$typeof:Z,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function a1(e,n,s,o,f,d,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function vv(e,n,s,o,f,d,_,T,N,H,$,tt){return e=new a1(e,n,s,_,T,N,H,tt),n=1,d===!0&&(n|=24),d=Vn(3,null,null,n),e.current=d,d.stateNode=e,n=Wf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},rh(d),e}function _v(e){return e?(e=_s,e):_s}function Ev(e,n,s,o,f,d){f=_v(f),o.context===null?o.context=f:o.pendingContext=f,o=Mi(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Oi(e,o,n),s!==null&&(Pn(s,e,n),zl(s,e,n))}function bv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function _d(e,n){bv(e,n),(e=e.alternate)&&bv(e,n)}function Tv(e){if(e.tag===13){var n=vs(e,67108864);n!==null&&Pn(n,e,67108864),_d(e,67108864)}}var dc=!0;function s1(e,n,s,o){var f=X.T;X.T=null;var d=at.p;try{at.p=2,Ed(e,n,s,o)}finally{at.p=d,X.T=f}}function l1(e,n,s,o){var f=X.T;X.T=null;var d=at.p;try{at.p=8,Ed(e,n,s,o)}finally{at.p=d,X.T=f}}function Ed(e,n,s,o){if(dc){var f=bd(o);if(f===null)ld(e,n,o,mc,s),Av(e,o);else if(u1(f,e,n,s,o))o.stopPropagation();else if(Av(e,o),n&4&&-1<o1.indexOf(e)){for(;f!==null;){var d=pr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-pe(_);T.entanglements[1]|=N,_&=~N}Nr(d),(Kt&6)===0&&(Zu=mn()+500,eo(0))}}break;case 13:T=vs(d,2),T!==null&&Pn(T,d,2),Wu(),_d(d,2)}if(d=bd(o),d===null&&ld(e,n,o,mc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else ld(e,n,o,null,s)}}function bd(e){return e=Hn(e),Td(e)}var mc=null;function Td(e){if(mc=null,e=Kr(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function Sv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wa()){case qr:return 2;case gn:return 8;case Bn:case Ai:return 32;case Hr:return 268435456;default:return 32}default:return 32}}var Sd=!1,Yi=null,Xi=null,Ki=null,uo=new Map,co=new Map,$i=[],o1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(e,n){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function fo(e,n,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=pr(n),n!==null&&Tv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function u1(e,n,s,o,f){switch(n){case"focusin":return Yi=fo(Yi,e,n,s,o,f),!0;case"dragenter":return Xi=fo(Xi,e,n,s,o,f),!0;case"mouseover":return Ki=fo(Ki,e,n,s,o,f),!0;case"pointerover":var d=f.pointerId;return uo.set(d,fo(uo.get(d)||null,e,n,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,co.set(d,fo(co.get(d)||null,e,n,s,o,f)),!0}return!1}function wv(e){var n=Kr(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,rr(e.priority,function(){if(s.tag===13){var o=Un();o=Ee(o);var f=vs(s,o);f!==null&&Pn(f,s,o),_d(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Wr=o,s.target.dispatchEvent(o),Wr=null}else return n=pr(s),n!==null&&Tv(n),e.blockedOn=s,!1;n.shift()}return!0}function Rv(e,n,s){gc(e)&&s.delete(n)}function c1(){Sd=!1,Yi!==null&&gc(Yi)&&(Yi=null),Xi!==null&&gc(Xi)&&(Xi=null),Ki!==null&&gc(Ki)&&(Ki=null),uo.forEach(Rv),co.forEach(Rv)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,c1)))}var yc=null;function Cv(e){yc!==e&&(yc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Td(o||s)===null)continue;break}var d=pr(s);d!==null&&(e.splice(n,3),n-=3,Th(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function ho(e){function n(N){return pc(N,e)}Yi!==null&&pc(Yi,e),Xi!==null&&pc(Xi,e),Ki!==null&&pc(Ki,e),uo.forEach(n),co.forEach(n);for(var s=0;s<$i.length;s++){var o=$i[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$i.length&&(s=$i[0],s.blockedOn===null);)wv(s),s.blockedOn===null&&$i.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],_=f[Ft]||null;if(typeof d=="function")_||Cv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ft]||null)T=_.formAction;else if(Td(f)!==null)continue}else T=_.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),Cv(s)}}}function Ad(e){this._internalRoot=e}vc.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Un();Ev(s,o,e,n,null,null)},vc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ev(e.current,2,null,e,null,null),Wu(),n[ye]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Le();e={blockedOn:null,target:e,priority:n};for(var s=0;s<$i.length&&n!==0&&n<$i[s].priority;s++);$i.splice(s,0,e),s===0&&wv(e)}};var Dv=t.version;if(Dv!=="19.1.1")throw Error(a(527,Dv,"19.1.1"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var f1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{ue=_c.inject(f1),Ot=_c}catch{}}return go.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",f=Gp,d=Fp,_=Qp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=vv(e,1,!1,null,null,s,o,f,d,_,T,null),e[ye]=n.current,sd(e),new Ad(n)},go.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,f="",d=Gp,_=Fp,T=Qp,N=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),n=vv(e,1,!0,n,s??null,o,f,d,_,T,N,H),n.context=_v(null),s=n.current,o=Un(),o=Ee(o),f=Mi(o),f.callback=null,Oi(s,f,o),s=o,n.current.lanes=s,ae(n,s),Nr(n),e[ye]=n.current,sd(e),new vc(n)},go.version="19.1.1",go}var zv;function E1(){if(zv)return Cd.exports;zv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Cd.exports=_1(),Cd.exports}var b1=E1();const T1=d0(b1);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kv="popstate";function S1(i={}){function t(l,u){let{pathname:h="/",search:m="",hash:p=""}=Ka(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Qd("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){let h=l.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=l.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Io(u))}function a(l,u){hr(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return w1(t,r,a,i)}function me(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function hr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function A1(){return Math.random().toString(36).substring(2,10)}function Bv(i,t){return{usr:i.state,key:i.key,idx:t}}function Qd(i,t,r=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Ka(t):t,state:r,key:t&&t.key||a||A1()}}function Io({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Ka(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function w1(i,t,r,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,h=l.history,m="POP",p=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let P=E(),K=P==null?null:P-y;y=P,p&&p({action:m,location:B.location,delta:K})}function b(P,K){m="PUSH";let Q=Qd(B.location,P,K);r&&r(Q,P),y=E()+1;let Z=Bv(Q,y),ut=B.createHref(Q);try{h.pushState(Z,"",ut)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;l.location.assign(ut)}u&&p&&p({action:m,location:B.location,delta:1})}function C(P,K){m="REPLACE";let Q=Qd(B.location,P,K);r&&r(Q,P),y=E();let Z=Bv(Q,y),ut=B.createHref(Q);h.replaceState(Z,"",ut),u&&p&&p({action:m,location:B.location,delta:0})}function U(P){return R1(P)}let B={get action(){return m},get location(){return i(l,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(kv,S),p=P,()=>{l.removeEventListener(kv,S),p=null}},createHref(P){return t(l,P)},createURL:U,encodeLocation(P){let K=U(P);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:C,go(P){return h.go(P)}};return B}function R1(i,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),me(r,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Io(i);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function g0(i,t,r="/"){return C1(i,t,r,!1)}function C1(i,t,r,a){let l=typeof t=="string"?Ka(t):t,u=Ei(l.pathname||"/",r);if(u==null)return null;let h=p0(i);D1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=k1(u);m=P1(h[p],y,a)}return m}function p0(i,t=[],r=[],a="",l=!1){let u=(h,m,p=l,y)=>{let E={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&p)return;me(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let S=vi([a,E.relativePath]),b=r.concat(E);h.children&&h.children.length>0&&(me(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),p0(h.children,t,b,S,p)),!(h.path==null&&!h.index)&&t.push({path:S,score:L1(S,h.index),routesMeta:b})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of y0(h.path))u(h,m,!0,p)}),t}function y0(i){let t=i.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let h=y0(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function D1(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:U1(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var x1=/^:[\w-]+$/,N1=3,I1=2,V1=1,M1=10,O1=-2,jv=i=>i==="*";function L1(i,t){let r=i.split("/"),a=r.length;return r.some(jv)&&(a+=O1),t&&(a+=I1),r.filter(l=>!jv(l)).reduce((l,u)=>l+(x1.test(u)?N1:u===""?V1:M1),a)}function U1(i,t){return i.length===t.length&&i.slice(0,-1).every((a,l)=>a===t[l])?i[i.length-1]-t[t.length-1]:0}function P1(i,t,r=!1){let{routesMeta:a}=i,l={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=zc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),b=p.route;if(!S&&y&&r&&!a[a.length-1].route.index&&(S=zc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(l,S.params),h.push({params:l,pathname:vi([u,S.pathname]),pathnameBase:H1(vi([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=vi([u,S.pathnameBase]))}return h}function zc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,a]=z1(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:S},b)=>{if(E==="*"){let U=m[b]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const C=m[b];return S&&!C?y[E]=void 0:y[E]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function z1(i,t=!1,r=!0){hr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function k1(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Ei(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=i.charAt(r);return a&&a!=="/"?null:i.slice(r)||"/"}function B1(i,t="/"){let{pathname:r,search:a="",hash:l=""}=typeof i=="string"?Ka(i):i;return{pathname:r?r.startsWith("/")?r:j1(r,t):t,search:G1(a),hash:F1(l)}}function j1(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Id(i,t,r,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q1(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function v0(i){let t=q1(i);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function _0(i,t,r,a=!1){let l;typeof i=="string"?l=Ka(i):(l={...i},me(!l.pathname||!l.pathname.includes("?"),Id("?","pathname","search",l)),me(!l.pathname||!l.pathname.includes("#"),Id("#","pathname","hash",l)),me(!l.search||!l.search.includes("#"),Id("#","search","hash",l)));let u=i===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=r;else{let S=t.length-1;if(!a&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),S-=1;l.pathname=b.join("/")}m=S>=0?t[S]:"/"}let p=B1(l,m),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var vi=i=>i.join("/").replace(/\/\/+/g,"/"),H1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),G1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,F1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Q1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var E0=["POST","PUT","PATCH","DELETE"];new Set(E0);var Y1=["GET",...E0];new Set(Y1);var il=D.createContext(null);il.displayName="DataRouter";var sf=D.createContext(null);sf.displayName="DataRouterState";D.createContext(!1);var b0=D.createContext({isTransitioning:!1});b0.displayName="ViewTransition";var X1=D.createContext(new Map);X1.displayName="Fetchers";var K1=D.createContext(null);K1.displayName="Await";var Br=D.createContext(null);Br.displayName="Navigation";var Go=D.createContext(null);Go.displayName="Location";var jr=D.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var Tm=D.createContext(null);Tm.displayName="RouteError";function $1(i,{relative:t}={}){me(Fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=D.useContext(Br),{hash:l,pathname:u,search:h}=Qo(i,{relative:t}),m=u;return r!=="/"&&(m=u==="/"?r:vi([r,u])),a.createHref({pathname:m,search:h,hash:l})}function Fo(){return D.useContext(Go)!=null}function $a(){return me(Fo(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Go).location}var T0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S0(i){D.useContext(Br).static||D.useLayoutEffect(i)}function A0(){let{isDataRoute:i}=D.useContext(jr);return i?cS():Z1()}function Z1(){me(Fo(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(il),{basename:t,navigator:r}=D.useContext(Br),{matches:a}=D.useContext(jr),{pathname:l}=$a(),u=JSON.stringify(v0(a)),h=D.useRef(!1);return S0(()=>{h.current=!0}),D.useCallback((p,y={})=>{if(hr(h.current,T0),!h.current)return;if(typeof p=="number"){r.go(p);return}let E=_0(p,JSON.parse(u),l,y.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:vi([t,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[t,r,u,l,i])}D.createContext(null);function J1(){let{matches:i}=D.useContext(jr),t=i[i.length-1];return t?t.params:{}}function Qo(i,{relative:t}={}){let{matches:r}=D.useContext(jr),{pathname:a}=$a(),l=JSON.stringify(v0(r));return D.useMemo(()=>_0(i,JSON.parse(l),a,t==="path"),[i,l,a,t])}function W1(i,t){return w0(i,t)}function w0(i,t,r,a,l){me(Fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=D.useContext(Br),{matches:h}=D.useContext(jr),m=h[h.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let Q=S&&S.path||"";R0(y,!S||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let b=$a(),C;if(t){let Q=typeof t=="string"?Ka(t):t;me(E==="/"||Q.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),C=Q}else C=b;let U=C.pathname||"/",B=U;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");B="/"+U.replace(/^\//,"").split("/").slice(Q.length).join("/")}let P=g0(i,{pathname:B});hr(S||P!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),hr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=iS(P&&P.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:vi([E,u.encodeLocation?u.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:vi([E,u.encodeLocation?u.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,r,a,l);return t&&K?D.createElement(Go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},K):K}function tS(){let i=uS(),t=Q1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),r?D.createElement("pre",{style:l},r):null,h)}var eS=D.createElement(tS,null),nS=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?D.createElement(jr.Provider,{value:this.props.routeContext},D.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rS({routeContext:i,match:t,children:r}){let a=D.useContext(il);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(jr.Provider,{value:i},r)}function iS(i,t=[],r=null,a=null,l=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let u=i,h=r?.errors;if(h!=null){let y=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);me(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(r)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:S,errors:b}=r,C=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||C){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,E,S)=>{let b,C=!1,U=null,B=null;r&&(b=h&&E.route.id?h[E.route.id]:void 0,U=E.route.errorElement||eS,m&&(p<0&&S===0?(R0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,B=null):p===S&&(C=!0,B=E.route.hydrateFallbackElement||null)));let P=t.concat(u.slice(0,S+1)),K=()=>{let Q;return b?Q=U:C?Q=B:E.route.Component?Q=D.createElement(E.route.Component,null):E.route.element?Q=E.route.element:Q=y,D.createElement(rS,{match:E,routeContext:{outlet:y,matches:P,isDataRoute:r!=null},children:Q})};return r&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?D.createElement(nS,{location:r.location,revalidation:r.revalidation,component:U,error:b,children:K(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:a}):K()},null)}function Sm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(i){let t=D.useContext(il);return me(t,Sm(i)),t}function sS(i){let t=D.useContext(sf);return me(t,Sm(i)),t}function lS(i){let t=D.useContext(jr);return me(t,Sm(i)),t}function Am(i){let t=lS(i),r=t.matches[t.matches.length-1];return me(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function oS(){return Am("useRouteId")}function uS(){let i=D.useContext(Tm),t=sS("useRouteError"),r=Am("useRouteError");return i!==void 0?i:t.errors?.[r]}function cS(){let{router:i}=aS("useNavigate"),t=Am("useNavigate"),r=D.useRef(!1);return S0(()=>{r.current=!0}),D.useCallback(async(l,u={})=>{hr(r.current,T0),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var qv={};function R0(i,t,r){!t&&!qv[i]&&(qv[i]=!0,hr(!1,r))}D.memo(fS);function fS({routes:i,future:t,state:r,unstable_onError:a}){return w0(i,void 0,r,a,t)}function Dc(i){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hS({basename:i="/",children:t=null,location:r,navigationType:a="POP",navigator:l,static:u=!1}){me(!Fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof r=="string"&&(r=Ka(r));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:b="default"}=r,C=D.useMemo(()=>{let U=Ei(p,h);return U==null?null:{location:{pathname:U,search:y,hash:E,state:S,key:b},navigationType:a}},[h,p,y,E,S,b,a]);return hr(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:D.createElement(Br.Provider,{value:m},D.createElement(Go.Provider,{children:t,value:C}))}function dS({children:i,location:t}){return W1(Yd(i),t)}function Yd(i,t=[]){let r=[];return D.Children.forEach(i,(a,l)=>{if(!D.isValidElement(a))return;let u=[...t,l];if(a.type===D.Fragment){r.push.apply(r,Yd(a.props.children,u));return}me(a.type===Dc,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Yd(a.props.children,u)),r.push(h)}),r}var xc="get",Nc="application/x-www-form-urlencoded";function lf(i){return i!=null&&typeof i.tagName=="string"}function mS(i){return lf(i)&&i.tagName.toLowerCase()==="button"}function gS(i){return lf(i)&&i.tagName.toLowerCase()==="form"}function pS(i){return lf(i)&&i.tagName.toLowerCase()==="input"}function yS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function vS(i,t){return i.button===0&&(!t||t==="_self")&&!yS(i)}var Ec=null;function _S(){if(Ec===null)try{new FormData(document.createElement("form"),0),Ec=!1}catch{Ec=!0}return Ec}var ES=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vd(i){return i!=null&&!ES.has(i)?(hr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nc}"`),null):i}function bS(i,t){let r,a,l,u,h;if(gS(i)){let m=i.getAttribute("action");a=m?Ei(m,t):null,r=i.getAttribute("method")||xc,l=Vd(i.getAttribute("enctype"))||Nc,u=new FormData(i)}else if(mS(i)||pS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(a=p?Ei(p,t):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||xc,l=Vd(i.getAttribute("formenctype"))||Vd(m.getAttribute("enctype"))||Nc,u=new FormData(m,i),!_S()){let{name:y,type:E,value:S}=i;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,S)}}else{if(lf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=xc,a=null,l=Nc,h=i}return u&&l==="text/plain"&&(h=u,u=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function TS(i,t,r){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&Ei(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function SS(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function wS(i,t,r){let a=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await SS(u,r);return h.links?h.links():[]}return[]}));return xS(a.flat(1).filter(AS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Hv(i,t,r,a,l,u){let h=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,m=(p,y)=>r[y].pathname!==p.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,y)=>h(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function RS(i,t,{includeHydrateFallback:r}={}){return CS(i.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function CS(i){return[...new Set(i)]}function DS(i){let t={},r=Object.keys(i).sort();for(let a of r)t[a]=i[a];return t}function xS(i,t){let r=new Set;return new Set(t),i.reduce((a,l)=>{let u=JSON.stringify(DS(l));return r.has(u)||(r.add(u),a.push({key:u,link:l})),a},[])}function C0(){let i=D.useContext(il);return wm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function NS(){let i=D.useContext(sf);return wm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Rm=D.createContext(void 0);Rm.displayName="FrameworkContext";function D0(){let i=D.useContext(Rm);return wm(i,"You must render this element inside a <HydratedRouter> element"),i}function IS(i,t){let r=D.useContext(Rm),[a,l]=D.useState(!1),[u,h]=D.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,b=D.useRef(null);D.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=K=>{K.forEach(Q=>{h(Q.isIntersecting)})},P=new IntersectionObserver(B,{threshold:.5});return b.current&&P.observe(b.current),()=>{P.disconnect()}}},[i]),D.useEffect(()=>{if(a){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[a]);let C=()=>{l(!0)},U=()=>{l(!1),h(!1)};return r?i!=="intent"?[u,b,{}]:[u,b,{onFocus:po(m,C),onBlur:po(p,U),onMouseEnter:po(y,C),onMouseLeave:po(E,U),onTouchStart:po(S,C)}]:[!1,b,{}]}function po(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function VS({page:i,...t}){let{router:r}=C0(),a=D.useMemo(()=>g0(r.routes,i,r.basename),[r.routes,i,r.basename]);return a?D.createElement(OS,{page:i,matches:a,...t}):null}function MS(i){let{manifest:t,routeModules:r}=D0(),[a,l]=D.useState([]);return D.useEffect(()=>{let u=!1;return wS(i,t,r).then(h=>{u||l(h)}),()=>{u=!0}},[i,t,r]),a}function OS({page:i,matches:t,...r}){let a=$a(),{manifest:l,routeModules:u}=D0(),{basename:h}=C0(),{loaderData:m,matches:p}=NS(),y=D.useMemo(()=>Hv(i,t,p,l,a,"data"),[i,t,p,l,a]),E=D.useMemo(()=>Hv(i,t,p,l,a,"assets"),[i,t,p,l,a]),S=D.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let U=new Set,B=!1;if(t.forEach(K=>{let Q=l.routes[K.route.id];!Q||!Q.hasLoader||(!y.some(Z=>Z.route.id===K.route.id)&&K.route.id in m&&u[K.route.id]?.shouldRevalidate||Q.hasClientLoader?B=!0:U.add(K.route.id))}),U.size===0)return[];let P=TS(i,h,"data");return B&&U.size>0&&P.searchParams.set("_routes",t.filter(K=>U.has(K.route.id)).map(K=>K.route.id).join(",")),[P.pathname+P.search]},[h,m,a,l,y,t,i,u]),b=D.useMemo(()=>RS(E,l),[E,l]),C=MS(E);return D.createElement(D.Fragment,null,S.map(U=>D.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...r})),b.map(U=>D.createElement("link",{key:U,rel:"modulepreload",href:U,...r})),C.map(({key:U,link:B})=>D.createElement("link",{key:U,nonce:r.nonce,...B})))}function LS(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var x0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x0&&(window.__reactRouterVersion="7.8.2")}catch{}function US({basename:i,children:t,window:r}){let a=D.useRef();a.current==null&&(a.current=S1({window:r,v5Compat:!0}));let l=a.current,[u,h]=D.useState({action:l.action,location:l.location}),m=D.useCallback(p=>{D.startTransition(()=>h(p))},[h]);return D.useLayoutEffect(()=>l.listen(m),[l,m]),D.createElement(hS,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:l})}var N0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cm=D.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:l,reloadDocument:u,replace:h,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,...b},C){let{basename:U}=D.useContext(Br),B=typeof y=="string"&&N0.test(y),P,K=!1;if(typeof y=="string"&&B&&(P=y,x0))try{let R=new URL(window.location.href),V=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=Ei(V.pathname,U);V.origin===R.origin&&M!=null?y=M+V.search+V.hash:K=!0}catch{hr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=$1(y,{relative:l}),[Z,ut,lt]=IS(a,b),ft=BS(y,{replace:h,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:S});function I(R){t&&t(R),R.defaultPrevented||ft(R)}let w=D.createElement("a",{...b,...lt,href:P||Q,onClick:K||u?t:I,ref:LS(C,ut),target:p,"data-discover":!B&&r==="render"?"true":void 0});return Z&&!B?D.createElement(D.Fragment,null,w,D.createElement(VS,{page:Q})):w});Cm.displayName="Link";var PS=D.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:l=!1,style:u,to:h,viewTransition:m,children:p,...y},E){let S=Qo(h,{relative:y.relative}),b=$a(),C=D.useContext(sf),{navigator:U,basename:B}=D.useContext(Br),P=C!=null&&FS(S)&&m===!0,K=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,Q=b.pathname,Z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(Q=Q.toLowerCase(),Z=Z?Z.toLowerCase():null,K=K.toLowerCase()),Z&&B&&(Z=Ei(Z,B)||Z);const ut=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let lt=Q===K||!l&&Q.startsWith(K)&&Q.charAt(ut)==="/",ft=Z!=null&&(Z===K||!l&&Z.startsWith(K)&&Z.charAt(K.length)==="/"),I={isActive:lt,isPending:ft,isTransitioning:P},w=lt?t:void 0,R;typeof a=="function"?R=a(I):R=[a,lt?"active":null,ft?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return D.createElement(Cm,{...y,"aria-current":w,className:R,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(I):p)});PS.displayName="NavLink";var zS=D.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:l,state:u,method:h=xc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...b},C)=>{let U=HS(),B=GS(m,{relative:y}),P=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&N0.test(m),Q=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ut=Z.nativeEvent.submitter,lt=ut?.getAttribute("formmethod")||h;U(ut||Z.currentTarget,{fetcherKey:t,method:lt,navigate:r,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return D.createElement("form",{ref:C,method:P,action:B,onSubmit:a?p:Q,...b,"data-discover":!K&&i==="render"?"true":void 0})});zS.displayName="Form";function kS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I0(i){let t=D.useContext(il);return me(t,kS(i)),t}function BS(i,{target:t,replace:r,state:a,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=A0(),p=$a(),y=Qo(i,{relative:u});return D.useCallback(E=>{if(vS(E,t)){E.preventDefault();let S=r!==void 0?r:Io(p)===Io(y);m(i,{replace:S,state:a,preventScrollReset:l,relative:u,viewTransition:h})}},[p,m,y,r,a,t,i,l,u,h])}var jS=0,qS=()=>`__${String(++jS)}__`;function HS(){let{router:i}=I0("useSubmit"),{basename:t}=D.useContext(Br),r=oS();return D.useCallback(async(a,l={})=>{let{action:u,method:h,encType:m,formData:p,body:y}=bS(a,t);if(l.navigate===!1){let E=l.fetcherKey||qS();await i.fetch(E,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function GS(i,{relative:t}={}){let{basename:r}=D.useContext(Br),a=D.useContext(jr);me(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...Qo(i||".",{relative:t})},h=$a();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:vi([r,u.pathname])),Io(u)}function FS(i,{relative:t}={}){let r=D.useContext(b0);me(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=I0("useViewTransitionState"),l=Qo(i,{relative:t});if(!r.isTransitioning)return!1;let u=Ei(r.currentLocation.pathname,a)||r.currentLocation.pathname,h=Ei(r.nextLocation.pathname,a)||r.nextLocation.pathname;return zc(l.pathname,h)!=null||zc(l.pathname,u)!=null}var yo=m0();const QS=()=>{};var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(i){const t=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},YS=function(i){const t=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],h=i[r++],m=i[r++],p=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],h=i[r++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const u=i[l],h=l+1<i.length,m=h?i[l+1]:0,p=l+2<i.length,y=p?i[l+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,C=y&63;p||(C=64,h||(b=64)),a.push(r[E],r[S],r[b],r[C])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(V0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):YS(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],m=l<i.length?r[i.charAt(l)]:0;++l;const y=l<i.length?r[i.charAt(l)]:64;++l;const S=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||m==null||y==null||S==null)throw new XS;const b=u<<2|m>>4;if(a.push(b),y!==64){const C=m<<4&240|y>>2;if(a.push(C),S!==64){const U=y<<6&192|S;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class XS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KS=function(i){const t=V0(i);return M0.encodeByteArray(t,!0)},kc=function(i){return KS(i).replace(/\./g,"")},$S=function(i){try{return M0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=()=>ZS().__FIREBASE_DEFAULTS__,WS=()=>{if(typeof process>"u"||typeof Gv>"u")return;const i=Gv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&$S(i[1]);return t&&JSON.parse(t)},Dm=()=>{try{return QS()||JS()||WS()||tA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},eA=i=>Dm()?.emulatorHosts?.[i],nA=i=>{const t=eA(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},O0=()=>Dm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[kc(JSON.stringify(r)),kc(JSON.stringify(h)),""].join(".")}const So={};function sA(){const i={prod:[],emulator:[]};for(const t of Object.keys(So))So[t]?i.emulator.push(t):i.prod.push(t);return i}function lA(i){let t=document.getElementById(i),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),r=!0),{created:r,element:t}}let Fv=!1;function oA(i,t){if(typeof window>"u"||typeof document>"u"||!xm(window.location.host)||So[i]===t||So[i]||Fv)return;So[i]=t;function r(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=sA().prod.length>0;function h(){const b=document.getElementById(a);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Fv=!0,h()},b}function E(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=lA(a),C=r("text"),U=document.getElementById(C)||document.createElement("span"),B=r("learnmore"),P=document.getElementById(B)||document.createElement("a"),K=r("preprendIcon"),Q=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Z=b.element;m(Z),E(P,B);const ut=y();p(Q,K),Z.append(Q,U,P,ut),document.body.appendChild(Z)}u?(U.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cA(){const i=Dm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return!cA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hA(){try{return typeof indexedDB=="object"}catch{return!1}}function dA(){return new Promise((i,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="FirebaseError";class al extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=mA,Object.setPrototypeOf(this,al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,L0.prototype.create)}}class L0{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?gA(u,a):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new al(l,m,a)}}function gA(i,t){return i.replace(pA,(r,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const pA=/\{\$([^}]+)}/g;function Bc(i,t){if(i===t)return!0;const r=Object.keys(i),a=Object.keys(t);for(const l of r){if(!a.includes(l))return!1;const u=i[l],h=t[l];if(Qv(u)&&Qv(h)){if(!Bc(u,h))return!1}else if(u!==h)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function Qv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(i){return i&&i._delegate?i._delegate:i}class Vo{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new rA;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_A(t))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=Ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ga){return this.instances.has(t)}getOptions(t=Ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(l)}return l}onInit(t,r){const a=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&t(u,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vA(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ga){return this.component?this.component.multipleInstances?t:Ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vA(i){return i===Ga?void 0:i}function _A(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new yA(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ht||(Ht={}));const bA={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},TA=Ht.INFO,SA={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},AA=(i,t,...r)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),l=SA[t];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class U0{constructor(t){this.name=t,this._logLevel=TA,this._logHandler=AA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const wA=(i,t)=>t.some(r=>i instanceof r);let Yv,Xv;function RA(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CA(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P0=new WeakMap,Xd=new WeakMap,z0=new WeakMap,Md=new WeakMap,Nm=new WeakMap;function DA(i){const t=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{r(ta(i.result)),l()},h=()=>{a(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(r=>{r instanceof IDBCursor&&P0.set(r,i)}).catch(()=>{}),Nm.set(t,i),t}function xA(i){if(Xd.has(i))return;const t=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{r(),l()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Xd.set(i,t)}let Kd={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Xd.get(i);if(t==="objectStoreNames")return i.objectStoreNames||z0.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ta(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function NA(i){Kd=i(Kd)}function IA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=i.call(Od(this),t,...r);return z0.set(a,t.sort?t.sort():[t]),ta(a)}:CA().includes(i)?function(...t){return i.apply(Od(this),t),ta(P0.get(this))}:function(...t){return ta(i.apply(Od(this),t))}}function VA(i){return typeof i=="function"?IA(i):(i instanceof IDBTransaction&&xA(i),wA(i,RA())?new Proxy(i,Kd):i)}function ta(i){if(i instanceof IDBRequest)return DA(i);if(Md.has(i))return Md.get(i);const t=VA(i);return t!==i&&(Md.set(i,t),Nm.set(t,i)),t}const Od=i=>Nm.get(i);function MA(i,t,{blocked:r,upgrade:a,blocking:l,terminated:u}={}){const h=indexedDB.open(i,t),m=ta(h);return a&&h.addEventListener("upgradeneeded",p=>{a(ta(h.result),p.oldVersion,p.newVersion,ta(h.transaction),p)}),r&&h.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const OA=["get","getKey","getAll","getAllKeys","count"],LA=["put","add","delete","clear"],Ld=new Map;function Kv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,l=LA.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||OA.includes(r)))return;const u=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),l&&p.done]))[0]};return Ld.set(t,u),u}NA(i=>({...i,get:(t,r,a)=>Kv(t,r)||i.get(t,r,a),has:(t,r)=>!!Kv(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(PA(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function PA(i){return i.getComponent()?.type==="VERSION"}const $d="@firebase/app",$v="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new U0("@firebase/app"),zA="@firebase/app-compat",kA="@firebase/analytics-compat",BA="@firebase/analytics",jA="@firebase/app-check-compat",qA="@firebase/app-check",HA="@firebase/auth",GA="@firebase/auth-compat",FA="@firebase/database",QA="@firebase/data-connect",YA="@firebase/database-compat",XA="@firebase/functions",KA="@firebase/functions-compat",$A="@firebase/installations",ZA="@firebase/installations-compat",JA="@firebase/messaging",WA="@firebase/messaging-compat",tw="@firebase/performance",ew="@firebase/performance-compat",nw="@firebase/remote-config",rw="@firebase/remote-config-compat",iw="@firebase/storage",aw="@firebase/storage-compat",sw="@firebase/firestore",lw="@firebase/ai",ow="@firebase/firestore-compat",uw="firebase",cw="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",fw={[$d]:"fire-core",[zA]:"fire-core-compat",[BA]:"fire-analytics",[kA]:"fire-analytics-compat",[qA]:"fire-app-check",[jA]:"fire-app-check-compat",[HA]:"fire-auth",[GA]:"fire-auth-compat",[FA]:"fire-rtdb",[QA]:"fire-data-connect",[YA]:"fire-rtdb-compat",[XA]:"fire-fn",[KA]:"fire-fn-compat",[$A]:"fire-iid",[ZA]:"fire-iid-compat",[JA]:"fire-fcm",[WA]:"fire-fcm-compat",[tw]:"fire-perf",[ew]:"fire-perf-compat",[nw]:"fire-rc",[rw]:"fire-rc-compat",[iw]:"fire-gcs",[aw]:"fire-gcs-compat",[sw]:"fire-fst",[ow]:"fire-fst-compat",[lw]:"fire-vertex","fire-js":"fire-js",[uw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,hw=new Map,Jd=new Map;function Zv(i,t){try{i.container.addComponent(t)}catch(r){bi.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function qc(i){const t=i.name;if(Jd.has(t))return bi.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,i);for(const r of jc.values())Zv(r,i);for(const r of hw.values())Zv(r,i);return!0}function dw(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function mw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new L0("app","Firebase",gw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,r,a){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=cw;function k0(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const a={name:Zd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ea.create("bad-app-name",{appName:String(l)});if(r||(r=O0()),!r)throw ea.create("no-options");const u=jc.get(l);if(u){if(Bc(r,u.options)&&Bc(a,u.config))return u;throw ea.create("duplicate-app",{appName:l})}const h=new EA(l);for(const p of Jd.values())h.addComponent(p);const m=new pw(r,a,h);return jc.set(l,m),m}function vw(i=Zd){const t=jc.get(i);if(!t&&i===Zd&&O0())return k0();if(!t)throw ea.create("no-app",{appName:i});return t}function Xs(i,t,r){let a=fw[i]??i;r&&(a+=`-${r}`);const l=a.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${t}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bi.warn(h.join(" "));return}qc(new Vo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firebase-heartbeat-database",Ew=1,Mo="firebase-heartbeat-store";let Ud=null;function B0(){return Ud||(Ud=MA(_w,Ew,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Mo)}catch(r){console.warn(r)}}}}).catch(i=>{throw ea.create("idb-open",{originalErrorMessage:i.message})})),Ud}async function bw(i){try{const r=(await B0()).transaction(Mo),a=await r.objectStore(Mo).get(j0(i));return await r.done,a}catch(t){if(t instanceof al)bi.warn(t.message);else{const r=ea.create("idb-get",{originalErrorMessage:t?.message});bi.warn(r.message)}}}async function Jv(i,t){try{const a=(await B0()).transaction(Mo,"readwrite");await a.objectStore(Mo).put(t,j0(i)),await a.done}catch(r){if(r instanceof al)bi.warn(r.message);else{const a=ea.create("idb-set",{originalErrorMessage:r?.message});bi.warn(a.message)}}}function j0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=1024,Sw=30;class Aw{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Rw(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>Sw){const l=Cw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Wv(),{heartbeatsToSend:r,unsentEntries:a}=ww(this._heartbeatsCache.heartbeats),l=kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return bi.warn(t),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function ww(i,t=Tw){const r=[];let a=i.slice();for(const l of i){const u=r.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),t_(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),t_(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class Rw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hA()?dA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await bw(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Jv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Jv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function t_(i){return kc(JSON.stringify({version:2,heartbeats:i})).length}function Cw(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(i){qc(new Vo("platform-logger",t=>new UA(t),"PRIVATE")),qc(new Vo("heartbeat",t=>new Aw(t),"PRIVATE")),Xs($d,$v,i),Xs($d,$v,"esm2020"),Xs("fire-js","")}Dw("");var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,q0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function R(){}R.prototype=w.prototype,I.D=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(V,M,z){for(var x=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)x[Zt-2]=arguments[Zt];return w.prototype[M].apply(V,x)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,R){R||(R=0);var V=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)V[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;16>M;++M)V[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],M=I.g[2];var z=I.g[3],x=w+(z^R&(M^z))+V[0]+3614090360&4294967295;w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+V[1]+3905402710&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+V[2]+606105819&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+V[3]+3250441966&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(z^R&(M^z))+V[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+V[5]+1200080426&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+V[6]+2821735955&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+V[7]+4249261313&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(z^R&(M^z))+V[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+V[9]+2336552879&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+V[10]+4294925233&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+V[11]+2304563134&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(z^R&(M^z))+V[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+V[13]+4254626195&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+V[14]+2792965006&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+V[15]+1236535329&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(M^z&(R^M))+V[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+V[6]+3225465664&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+V[11]+643717713&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+V[0]+3921069994&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^z&(R^M))+V[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+V[10]+38016083&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+V[15]+3634488961&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+V[4]+3889429448&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^z&(R^M))+V[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+V[14]+3275163606&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+V[3]+4107603335&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+V[8]+1163531501&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^z&(R^M))+V[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+V[2]+4243563512&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+V[7]+1735328473&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+V[12]+2368359562&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(R^M^z)+V[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+V[8]+2272392833&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+V[11]+1839030562&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+V[14]+4259657740&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^z)+V[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+V[4]+1272893353&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+V[7]+4139469664&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+V[10]+3200236656&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^z)+V[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+V[0]+3936430074&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+V[3]+3572445317&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+V[6]+76029189&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^z)+V[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+V[12]+3873151461&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+V[15]+530742520&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+V[2]+3299628645&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(M^(R|~z))+V[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+V[7]+1126891415&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+V[14]+2878612391&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+V[5]+4237533241&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~z))+V[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+V[3]+2399980690&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+V[10]+4293915773&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+V[1]+2240044497&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~z))+V[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+V[15]+4264355552&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+V[6]+2734768916&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+V[13]+1309151649&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~z))+V[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+V[11]+3174756917&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+V[2]+718787259&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+z&4294967295}a.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var R=w-this.blockSize,V=this.B,M=this.h,z=0;z<w;){if(M==0)for(;z<=R;)l(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<w;)if(V[M++]=I.charCodeAt(z++),M==this.blockSize){l(this,V),M=0;break}}else for(;z<w;)if(V[M++]=I[z++],M==this.blockSize){l(this,V),M=0;break}}this.h=M,this.o+=w},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var R=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=R&255,R/=256;for(this.u(I),I=Array(16),w=R=0;4>w;++w)for(var V=0;32>V;V+=8)I[R++]=this.g[w]>>>V&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function h(I,w){this.h=w;for(var R=[],V=!0,M=I.length-1;0<=M;M--){var z=I[M]|0;V&&z==w||(R[M]=z,V=!1)}this.g=R}var m={};function p(I){return-128<=I&&128>I?u(I,function(w){return new h([w|0],0>w?-1:0)}):new h([I|0],0>I?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(0>I)return P(y(-I));for(var w=[],R=1,V=0;I>=R;V++)w[V]=I/R|0,R*=4294967296;return new h(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return P(E(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),V=S,M=0;M<I.length;M+=8){var z=Math.min(8,I.length-M),x=parseInt(I.substring(M,M+z),w);8>z?(z=y(Math.pow(w,z)),V=V.j(z).add(y(x))):(V=V.j(R),V=V.add(y(x)))}return V}var S=p(0),b=p(1),C=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-P(this).m();for(var I=0,w=1,R=0;R<this.g.length;R++){var V=this.i(R);I+=(0<=V?V:4294967296+V)*w,w*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(B(this))return"-"+P(this).toString(I);for(var w=y(Math.pow(I,6)),R=this,V="";;){var M=ut(R,w).g;R=K(R,M.j(w));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=M,U(R))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function B(I){return I.h==-1}i.l=function(I){return I=K(this,I),B(I)?-1:U(I)?0:1};function P(I){for(var w=I.g.length,R=[],V=0;V<w;V++)R[V]=~I.g[V];return new h(R,~I.h).add(b)}i.abs=function(){return B(this)?P(this):this},i.add=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],V=0,M=0;M<=w;M++){var z=V+(this.i(M)&65535)+(I.i(M)&65535),x=(z>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);V=x>>>16,z&=65535,x&=65535,R[M]=x<<16|z}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(I,w){return I.add(P(w))}i.j=function(I){if(U(this)||U(I))return S;if(B(this))return B(I)?P(this).j(P(I)):P(P(this).j(I));if(B(I))return P(this.j(P(I)));if(0>this.l(C)&&0>I.l(C))return y(this.m()*I.m());for(var w=this.g.length+I.g.length,R=[],V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<I.g.length;M++){var z=this.i(V)>>>16,x=this.i(V)&65535,Zt=I.i(M)>>>16,Jt=I.i(M)&65535;R[2*V+2*M]+=x*Jt,Q(R,2*V+2*M),R[2*V+2*M+1]+=z*Jt,Q(R,2*V+2*M+1),R[2*V+2*M+1]+=x*Zt,Q(R,2*V+2*M+1),R[2*V+2*M+2]+=z*Zt,Q(R,2*V+2*M+2)}for(V=0;V<w;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=w;V<2*w;V++)R[V]=0;return new h(R,0)};function Q(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Z(I,w){this.g=I,this.h=w}function ut(I,w){if(U(w))throw Error("division by zero");if(U(I))return new Z(S,S);if(B(I))return w=ut(P(I),w),new Z(P(w.g),P(w.h));if(B(w))return w=ut(I,P(w)),new Z(P(w.g),w.h);if(30<I.g.length){if(B(I)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,V=w;0>=V.l(I);)R=lt(R),V=lt(V);var M=ft(R,1),z=ft(V,1);for(V=ft(V,2),R=ft(R,2);!U(V);){var x=z.add(V);0>=x.l(I)&&(M=M.add(R),z=x),V=ft(V,1),R=ft(R,1)}return w=K(I,M.j(w)),new Z(M,w)}for(M=S;0<=I.l(w);){for(R=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=y(R),x=z.j(w);B(x)||0<x.l(I);)R-=V,z=y(R),x=z.j(w);U(z)&&(z=b),M=M.add(z),I=K(I,x)}return new Z(M,I)}i.A=function(I){return ut(this,I).h},i.and=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)&I.i(V);return new h(R,this.h&I.h)},i.or=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)|I.i(V);return new h(R,this.h|I.h)},i.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)^I.i(V);return new h(R,this.h^I.h)};function lt(I){for(var w=I.g.length+1,R=[],V=0;V<w;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new h(R,I.h)}function ft(I,w){var R=w>>5;w%=32;for(var V=I.g.length-R,M=[],z=0;z<V;z++)M[z]=0<w?I.i(z+R)>>>w|I.i(z+R+1)<<32-w:I.i(z+R);return new h(M,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,q0=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,na=h}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H0,vo,G0,Ic,Wd,F0,Q0,Y0;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=r(this);function l(c,g){if(g)t:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break t;v=v[j]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,A=!1,j={next:function(){if(!A&&v<c.length){var Y=v++;return{value:g(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}l("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function S(c,g,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function b(c,g,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,b.apply(null,arguments)}function C(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,j,Y){for(var ot=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ot[kt-2]=arguments[kt];return g.prototype[j].apply(A,ot)}}function B(c){const g=c.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function P(c,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const j=c.length||0,Y=A.length||0;c.length=j+Y;for(let ot=0;ot<Y;ot++)c[j+ot]=A[ot]}else c.push(A)}}class K{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var lt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ft(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function I(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function w(c){const g={};for(const v in c)g[v]=c[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let Y=0;Y<R.length;Y++)v=R[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function M(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Ct;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Zt{constructor(){this.h=this.g=null}add(g,v){const A=Jt.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Jt=new K(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let at,gt=!1,Ct=new Zt,O=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(nt)}};var nt=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){z(v)}var g=Jt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}gt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var mt=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c})();function At(c,g){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(lt){t:{try{ut(g.nodeName);var j=!0;break t}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&At.aa.h.call(this)}}U(At,it);var pt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function we(c,g,v,A,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=j,this.key=++Pt,this.da=this.fa=!1}function It(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function dn(c){this.src=c,this.g={},this.h=0}dn.prototype.add=function(c,g,v,A,j){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ot=Tn(c,g,A,j);return-1<ot?(g=c[ot],v||(g.fa=!1)):(g=new we(g,this.src,Y,!!A,j),g.fa=v,c.push(g)),g};function He(c,g){var v=g.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,g,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(A,j,1),Y&&(It(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Tn(c,g,v,A){for(var j=0;j<c.length;++j){var Y=c[j];if(!Y.da&&Y.listener==g&&Y.capture==!!v&&Y.ha==A)return j}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),kn={};function er(c,g,v,A,j){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)er(c,g[Y],v,A,j);return null}return v=ts(v),c&&c[he]?c.K(g,v,y(A)?!!A.capture:!1,j):mn(c,g,v,!1,A,j)}function mn(c,g,v,A,j,Y){if(!g)throw Error("Invalid event type");var ot=y(j)?!!j.capture:!!j,kt=Hr(c);if(kt||(c[Ze]=kt=new dn(c)),v=kt.add(g,v,A,ot,Y),v.proxy)return v;if(A=Wa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)mt||(j=ot),j===void 0&&(j=!1),c.addEventListener(g.toString(),A,j);else if(c.attachEvent)c.attachEvent(Bn(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wa(){function c(v){return g.call(c.src,c.listener,v)}const g=Ai;return c}function qr(c,g,v,A,j){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)qr(c,g[Y],v,A,j);else A=y(A)?!!A.capture:!!A,v=ts(v),c&&c[he]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],v=Tn(Y,v,A,j),-1<v&&(It(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=Hr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Tn(g,v,A,j)),(v=-1<c?g[c]:null)&&gn(v))}function gn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[he])He(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(Bn(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Hr(g))?(He(v,c),v.h==0&&(v.src=null,g[Ze]=null)):It(c)}}}function Bn(c){return c in kn?kn[c]:kn[c]="on"+c}function Ai(c,g){if(c.da)c=!0;else{g=new At(g,this);var v=c.listener,A=c.ha||c.src;c.fa&&gn(c),c=v.call(A,g)}return c}function Hr(c){return c=c[Ze],c instanceof dn?c:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ts(c){return typeof c=="function"?c:(c[wi]||(c[wi]=function(g){return c.handleEvent(g)}),c[wi])}function ue(){st.call(this),this.i=new dn(this),this.M=this,this.F=null}U(ue,st),ue.prototype[he]=!0,ue.prototype.removeEventListener=function(c,g,v,A){qr(this,c,g,v,A)};function Ot(c,g){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new it(g,c);else if(g instanceof it)g.target=g.target||c;else{var j=g;g=new it(A,c),V(g,j)}if(j=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ot=g.g=v[Y];j=Re(ot,A,!0,g)&&j}if(ot=g.g=c,j=Re(ot,A,!0,g)&&j,j=Re(ot,A,!1,g)&&j,v)for(Y=0;Y<v.length;Y++)ot=g.g=v[Y],j=Re(ot,A,!1,g)&&j}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],A=0;A<v.length;A++)It(v[A]);delete c.g[g],c.h--}}this.F=null},ue.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},ue.prototype.L=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function Re(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,Y=0;Y<g.length;++Y){var ot=g[Y];if(ot&&!ot.da&&ot.capture==v){var kt=ot.listener,Ue=ot.ha||ot.src;ot.fa&&He(c.i,ot),j=kt.call(Ue,A)!==!1&&j}}return j&&!A.defaultPrevented}function pe(c,g,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function da(c){c.g=pe(()=>{c.g=null,c.i&&(c.i=!1,da(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class jn extends st{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(c){st.call(this),this.h=c,this.g={}}U(mr,st);var Gr=[];function Fr(c){ft(c.g,function(g,v){this.g.hasOwnProperty(v)&&gn(g)},c),c.g={}}mr.prototype.N=function(){mr.aa.N.call(this),Fr(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pn=m.JSON.stringify,Qr=m.JSON.parse,Yr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ri(){}Ri.prototype.h=null;function ma(c){return c.h||(c.h=c.i())}function ga(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ae(){it.call(this,"d")}U(ae,it);function Oe(){it.call(this,"c")}U(Oe,it);var ce={},Sn=null;function Ee(){return Sn=Sn||new ue}ce.La="serverreachability";function Ce(c){it.call(this,ce.La,c)}U(Ce,it);function Le(c){const g=Ee();Ot(g,new Ce(g))}ce.STAT_EVENT="statevent";function rr(c,g){it.call(this,ce.STAT_EVENT,c),this.stat=g}U(rr,it);function Rt(c){const g=Ee();Ot(g,new rr(g,c))}ce.Ma="timingevent";function Wt(c,g){it.call(this,ce.Ma,c),this.size=g}U(Wt,it);function Ft(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function ir(c,g,v,A,j,Y){c.info(function(){if(c.g)if(Y)for(var ot="",kt=Y.split("&"),Ue=0;Ue<kt.length;Ue++){var Bt=kt[Ue].split("=");if(1<Bt.length){var Fe=Bt[0];Bt=Bt[1];var Pe=Fe.split("_");ot=2<=Pe.length&&Pe[1]=="type"?ot+(Fe+"="+Bt+"&"):ot+(Fe+"=redacted&")}}else ot=null;else ot=Y;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+g+`
`+v+`
`+ot})}function Xr(c,g,v,A,j,Y,ot){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+g+`
`+v+`
`+Y+" "+ot})}function Je(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ar(c,v)+(A?" "+A:"")})}function gr(c,g){c.info(function(){return"TIMEOUT: "+g})}ye.prototype.info=function(){};function ar(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ot=1;ot<j.length;ot++)j[ot]=""}}}}return pn(v)}catch{return g}}var Ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function yr(){}U(yr,Ri),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},pr=new yr;function yn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.R=A||1,this.U=new mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}var ml={},es={};function sr(c,g,v){c.L=1,c.v=Ea(Nn(g)),c.m=v,c.P=!0,$r(c,null)}function $r(c,g){c.F=Date.now(),pa(c),c.A=Nn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),El(v.i,"t",A),c.C=0,v=c.j.J,c.h=new be,c.g=pu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new jn(b(c.Y,c,c.g),c.O)),g=c.U,v=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Gr[0]=j.toString()),j=Gr);for(var Y=0;Y<j.length;Y++){var ot=er(v,j[Y],A||g.handleEvent,!1,g.h||g);if(!ot)break;g.g[ot.key]=ot}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Le(),ir(c.i,c.u,c.A,c.l,c.R,c.m)}yn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Fn(c)==3?g.j():this.Y(c)},yn.prototype.Y=function(c){try{if(c==this.g)t:{const Pe=Fn(this.g);var g=this.g.Ba();const ii=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||Pe!=4||g==7||(g==8||0>=ii?Le(3):Le(2)),Di(this);var v=this.g.Z();this.X=v;e:if(eu(this)){var A=ou(this.g);c="";var j=A.length,Y=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),vr(this);var ot="";break e}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(Y&&g==j-1)});A.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=v==200,Xr(this.i,this.u,this.A,this.l,this.R,Pe,v),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Ue=this.g;if((kt=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(kt)){var Bt=kt;break e}}Bt=null}if(v=Bt)Je(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,v);else{this.o=!1,this.s=3,Rt(12),We(this),vr(this);break t}}if(this.P){v=!0;let tn;for(;!this.J&&this.C<ot.length;)if(tn=nu(this,ot),tn==es){Pe==4&&(this.s=4,Rt(14),v=!1),Je(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==ml){this.s=4,Rt(15),Je(this.i,this.l,ot,"[Invalid Chunk]"),v=!1;break}else Je(this.i,this.l,tn,null),ya(this,tn);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||ot.length!=0||this.h.h||(this.s=1,Rt(16),v=!1),this.o=this.o&&v,!v)Je(this.i,this.l,ot,"[Invalid Chunked Response]"),We(this),vr(this);else if(0<ot.length&&!this.W){this.W=!0;var Fe=this.j;Fe.g==this&&Fe.ba&&!Fe.M&&(Fe.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Da(Fe),Fe.M=!0,Rt(11))}}else Je(this.i,this.l,ot,null),ya(this,ot);Pe==4&&We(this),this.o&&!this.J&&(Pe==4?du(this.j,this):(this.o=!1,pa(this)))}else Mf(this.g),v==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),We(this),vr(this)}}}catch{}finally{}};function eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?es:(v=Number(g.substring(v,A)),isNaN(v)?ml:(A+=1,A+v>g.length?es:(g=g.slice(A,A+v),c.C=A+v,g)))}yn.prototype.cancel=function(){this.J=!0,We(this)};function pa(c){c.S=Date.now()+c.I,ru(c,c.I)}function ru(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ft(b(c.ba,c),g)}function Di(c){c.B&&(m.clearTimeout(c.B),c.B=null)}yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gr(this.i,this.A),this.L!=2&&(Le(),Rt(17)),We(this),this.s=2,vr(this)):ru(this,this.S-c)};function vr(c){c.j.G==0||c.J||du(c.j,c)}function We(c){Di(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Fr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ya(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||gl(v.h,c))){if(!c.K&&gl(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ds(v),fs(v);else break t;wl(v),Rt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ft(b(v.Za,v),6e3));if(1>=rs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ri(v,11)}else if((c.K||v.g==c)&&ds(v),!Q(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let Bt=j[g];if(v.T=Bt[0],Bt=Bt[1],v.G==2)if(Bt[0]=="c"){v.K=Bt[1],v.ia=Bt[2];const Fe=Bt[3];Fe!=null&&(v.la=Fe,v.j.info("VER="+v.la));const Pe=Bt[4];Pe!=null&&(v.Aa=Pe,v.j.info("SVER="+v.Aa));const ii=Bt[5];ii!=null&&typeof ii=="number"&&0<ii&&(A=1.5*ii,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const tn=c.g;if(tn){const wr=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var Y=A.h;Y.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(is(Y,Y.h),Y.h=null))}if(A.D){const Cl=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(A.ya=Cl,te(A.I,A.D,Cl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ot=c;if(A.qa=gu(A,A.J?A.ia:null,A.W),ot.K){vn(A.h,ot);var kt=ot,Ue=A.L;Ue&&(kt.I=Ue),kt.B&&(Di(kt),pa(kt)),A.g=ot}else fu(A);0<v.i.length&&hs(v)}else Bt[0]!="stop"&&Bt[0]!="close"||ri(v,7);else v.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ri(v,7):Sl(v):Bt[0]!="noop"&&v.l&&v.l.ta(Bt),v.v=0)}}Le(4)}catch{}}var iu=class{constructor(c,g){this.g=c,this.map=g}};function Zr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ns(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rs(c){return c.h?1:c.g?c.g.size:0}function gl(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function is(c,g){c.g?c.g.add(g):c.h=g}function vn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Zr.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return B(c.i)}function xf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,A=0;A<v;A++)g.push(c[A]);return g}g=[],v=0;for(A in c)g[v++]=c[A];return g}function as(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const A in c)g[v++]=A;return g}}}function yl(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=as(c),A=xf(c),j=A.length,Y=0;Y<j;Y++)g.call(void 0,A[Y],v&&v[Y],c)}var va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nf(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),j=null;if(0<=A){var Y=c[v].substring(0,A);j=c[v].substring(A+1)}else Y=c[v];g(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function De(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof De){this.h=c.h,_a(this,c.j),this.o=c.o,this.g=c.g,xi(this,c.s),this.l=c.l;var g=c.i,v=new Wr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Jr(this,v),this.m=c.m}else c&&(g=String(c).match(va))?(this.h=!1,_a(this,g[1]||"",!0),this.o=qn(g[2]||""),this.g=qn(g[3]||"",!0),xi(this,g[4]),this.l=qn(g[5]||"",!0),Jr(this,g[6]||"",!0),this.m=qn(g[7]||"")):(this.h=!1,this.i=new Wr(null,this.h))}De.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ba(g,vl,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ba(g,vl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ba(v,v.charAt(0)=="/"?If:_l,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ba(v,ss)),c.join("")};function Nn(c){return new De(c)}function _a(c,g,v){c.j=v?qn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function xi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Jr(c,g,v){g instanceof Wr?(c.i=g,su(c.i,c.h)):(v||(g=ba(g,Vf)),c.i=new Wr(g,c.h))}function te(c,g,v){c.i.set(g,v)}function Ea(c){return te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ba(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,au),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function au(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vl=/[#\/\?@]/g,_l=/[#\?:]/g,If=/[#\?]/g,Vf=/[#\?@]/g,ss=/#/g;function Wr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Hn(c){c.g||(c.g=new Map,c.h=0,c.i&&Nf(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=Wr.prototype,i.add=function(c,g){Hn(this),this.i=null,c=_r(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function ti(c,g){Hn(c),g=_r(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ei(c,g){return Hn(c),g=_r(c,g),c.g.has(g)}i.forEach=function(c,g){Hn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(g,j,A,this)},this)},this)},i.na=function(){Hn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const j=c[A];for(let Y=0;Y<j.length;Y++)v.push(g[A])}return v},i.V=function(c){Hn(this);let g=[];if(typeof c=="string")ei(this,c)&&(g=g.concat(this.g.get(_r(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},i.set=function(c,g){return Hn(this),this.i=null,c=_r(this,c),ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function El(c,g,v){ti(c,g),0<v.length&&(c.i=null,c.g.set(_r(c,g),B(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const Y=encodeURIComponent(String(A)),ot=this.V(A);for(A=0;A<ot.length;A++){var j=Y;ot[A]!==""&&(j+="="+encodeURIComponent(String(ot[A]))),c.push(j)}}return this.i=c.join("&")};function _r(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function su(c,g){g&&!c.j&&(Hn(c),c.i=null,c.g.forEach(function(v,A){var j=A.toLowerCase();A!=j&&(ti(this,A),El(this,j,v))},c)),c.j=g}function Ta(c,g){const v=new ye;if(m.Image){const A=new Image;A.onload=C(Gn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=C(Gn,v,"TestLoadImage: error",!1,g,A),A.onabort=C(Gn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=C(Gn,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function lr(c,g){const v=new ye,A=new AbortController,j=setTimeout(()=>{A.abort(),Gn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(j),Y.ok?Gn(v,"TestPingServer: ok",!0,g):Gn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Gn(v,"TestPingServer: error",!1,g)})}function Gn(c,g,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Sa(){this.g=new Yr}function Er(c,g,v){const A=v||"";try{yl(c,function(j,Y){let ot=j;y(j)&&(ot=pn(j)),g.push(A+Y+"="+encodeURIComponent(ot))})}catch(j){throw g.push(A+"type="+encodeURIComponent("_badmap")),j}}function Ni(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Ni,Ri),Ni.prototype.g=function(){return new ni(this.l,this.j)},Ni.prototype.i=(function(c){return function(){return c}})({});function ni(c,g){ue.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(ni,ue),i=ni.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Tr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?br(this):Tr(this),this.readyState==3&&bl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,br(this))},i.Qa=function(c){this.g&&(this.response=c,br(this))},i.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Tr(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Tr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tl(c){let g="";return ft(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ge(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Tl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):te(c,g,v))}function Yt(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Yt,ue);var ls=/^https?$/i,Aa=["POST","PUT"];i=Yt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?ma(this.o):ma(pr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){lu(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Aa,g,void 0))||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ot]of v)this.g.setRequestHeader(Y,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){lu(this,Y)}};function lu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,os(c),Sr(c)}function os(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),Sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),Yt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?us(this):this.bb())},i.bb=function(){us(this)};function us(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)pe(c.Ea,0,c);else if(Ot(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=ot===0){var j=String(c.D).match(va)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!ls.test(j?j.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var Y=2<Fn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",os(c)}}finally{Sr(c)}}}}function Sr(c,g){if(c.g){wa(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ot(c,"ready");try{v.onreadystatechange=A}catch{}}}function wa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Qr(g)}};function ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mf(c){const g={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Q(c[A]))continue;var v=M(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=g[j]||[];g[j]=Y,Y.push(v)}I(g,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function cs(c){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,c),this.cb=Ra("retryDelaySeedMs",1e4,c),this.Wa=Ra("forwardChannelMaxRetries",2,c),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zr(c&&c.concurrentRequestLimit),this.Da=new Sa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=cs.prototype,i.la=8,i.G=1,i.connect=function(c,g,v,A){Rt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=gu(this,null,this.W),hs(this)};function Sl(c){if(uu(c),c.G==3){var g=c.U++,v=Nn(c.I);if(te(v,"SID",c.K),te(v,"RID",g),te(v,"TYPE","terminate"),Ca(c,v),g=new yn(c,c.j,g),g.L=2,g.v=Ea(Nn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=pu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),pa(g)}mu(c)}function fs(c){c.g&&(Da(c),c.g.cancel(),c.g=null)}function uu(c){fs(c),c.u&&(m.clearTimeout(c.u),c.u=null),ds(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function hs(c){if(!ns(c.h)&&!c.s){c.s=!0;var g=c.Ga;at||O(),gt||(at(),gt=!0),Ct.add(g,c),c.B=0}}function Of(c,g){return rs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ft(b(c.Ga,c,g),Rl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new yn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=w(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=cu(this,j,g),v=Nn(this.I),te(v,"RID",c),te(v,"CVER",22),this.D&&te(v,"X-HTTP-Session-Id",this.D),Ca(this,v),Y&&(this.O?g="headers="+encodeURIComponent(String(Tl(Y)))+"&"+g:this.m&&Ge(v,this.m,Y)),is(this.h,j),this.Ua&&te(v,"TYPE","init"),this.P?(te(v,"$req",g),te(v,"SID","null"),j.T=!0,sr(j,v,null)):sr(j,v,g),this.G=2}}else this.G==3&&(c?Al(this,c):this.i.length==0||ns(this.h)||Al(this))};function Al(c,g){var v;g?v=g.l:v=c.U++;const A=Nn(c.I);te(A,"SID",c.K),te(A,"RID",v),te(A,"AID",c.T),Ca(c,A),c.m&&c.o&&Ge(A,c.m,c.o),v=new yn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=cu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),is(c.h,v),sr(v,A,g)}function Ca(c,g){c.H&&ft(c.H,function(v,A){te(g,A,v)}),c.l&&yl({},function(v,A){te(g,A,v)})}function cu(c,g,v){v=Math.min(c.i.length,v);var A=c.l?b(c.l.Na,c.l,c):null;t:{var j=c.i;let Y=-1;for(;;){const ot=["count="+v];Y==-1?0<v?(Y=j[0].g,ot.push("ofs="+Y)):Y=0:ot.push("ofs="+Y);let kt=!0;for(let Ue=0;Ue<v;Ue++){let Bt=j[Ue].g;const Fe=j[Ue].map;if(Bt-=Y,0>Bt)Y=Math.max(0,j[Ue].g-100),kt=!1;else try{Er(Fe,ot,"req"+Bt+"_")}catch{A&&A(Fe)}}if(kt){A=ot.join("&");break t}}}return c=c.i.splice(0,v),g.D=c,A}function fu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;at||O(),gt||(at(),gt=!0),Ct.add(g,c),c.v=0}}function wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ft(b(c.Fa,c),Rl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ft(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),fs(this),hu(this))};function Da(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function hu(c){c.g=new yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Nn(c.qa);te(g,"RID","rpc"),te(g,"SID",c.K),te(g,"AID",c.T),te(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&te(g,"TO",c.ja),te(g,"TYPE","xmlhttp"),Ca(c,g),c.m&&c.o&&Ge(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ea(Nn(g)),v.m=null,v.P=!0,$r(v,c)}i.Za=function(){this.C!=null&&(this.C=null,fs(this),wl(this),Rt(19))};function ds(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function du(c,g){var v=null;if(c.g==g){ds(c),Da(c),c.g=null;var A=2}else if(gl(c.h,g))v=g.D,vn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;A=Ee(),Ot(A,new Wt(A,v)),hs(c)}else fu(c);else if(j=g.s,j==3||j==0&&0<g.X||!(A==1&&Of(c,g)||A==2&&wl(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),j){case 1:ri(c,5);break;case 4:ri(c,10);break;case 3:ri(c,6);break;default:ri(c,2)}}}function Rl(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function ri(c,g){if(c.j.info("Error code "+g),g==2){var v=b(c.fb,c),A=c.Xa;const j=!A;A=new De(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_a(A,"https"),Ea(A),j?Ta(A.toString(),v):lr(A.toString(),v)}else Rt(2);c.G=0,c.l&&c.l.sa(g),mu(c),uu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function mu(c){if(c.G=0,c.ka=[],c.l){const g=pl(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ka,g),P(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function gu(c,g,v){var A=v instanceof De?Nn(v):new De(v);if(A.g!="")g&&(A.g=g+"."+A.g),xi(A,A.s);else{var j=m.location;A=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var Y=new De(null);A&&_a(Y,A),g&&(Y.g=g),j&&xi(Y,j),v&&(Y.l=v),A=Y}return v=c.D,g=c.ya,v&&g&&te(A,v,g),te(A,"VER",c.la),Ca(c,A),A}function pu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Yt(new Ni({eb:v})):new Yt(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}i=yu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ms(){}ms.prototype.g=function(c,g){return new _n(c,g)};function _n(c,g){ue.call(this),this.g=new cs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ar(this)}U(_n,ue),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Sl(this.g)},_n.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=pn(c),c=v);g.i.push(new iu(g.Ya++,c)),g.G==3&&hs(g)},_n.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,_n.aa.N.call(this)};function vu(c){ae.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}U(vu,ae);function _u(){Oe.call(this),this.status=1}U(_u,Oe);function Ar(c){this.g=c}U(Ar,yu),Ar.prototype.ua=function(){Ot(this.g,"a")},Ar.prototype.ta=function(c){Ot(this.g,new vu(c))},Ar.prototype.sa=function(c){Ot(this.g,new _u)},Ar.prototype.ra=function(){Ot(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,Y0=function(){return new ms},Q0=function(){return Ee()},F0=ce,Wd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,Ic=Ci,Kr.COMPLETE="complete",G0=Kr,ga.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",ue.prototype.listen=ue.prototype.K,vo=ga,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,H0=Yt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore",r_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new U0("@firebase/firestore");function Hs(){return Ya.logLevel}function ct(i,...t){if(Ya.logLevel<=Ht.DEBUG){const r=t.map(Im);Ya.debug(`Firestore (${sl}): ${i}`,...r)}}function Ti(i,...t){if(Ya.logLevel<=Ht.ERROR){const r=t.map(Im);Ya.error(`Firestore (${sl}): ${i}`,...r)}}function Js(i,...t){if(Ya.logLevel<=Ht.WARN){const r=t.map(Im);Ya.warn(`Firestore (${sl}): ${i}`,...r)}}function Im(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,X0(i,a,r)}function X0(i,t,r){let a=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw Ti(a),new Error(a)}function Xt(i,t,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,i||X0(t,l,a)}function wt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends al{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(fn.UNAUTHENTICATED)))}shutdown(){}}class Nw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Iw{constructor(t){this.t=t,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Xt(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,r(p)):Promise.resolve();let u=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _i,t.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _i)}}),0),h()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new K0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new fn(t)}}class Vw{constructor(t,r,a){this.P=t,this.T=r,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mw{constructor(t,r,a){this.P=t,this.T=r,this.I=a}getToken(){return Promise.resolve(new Vw(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ow{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Xt(this.o===void 0,3512);const a=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const l=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new i_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(Xt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new i_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Lw(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<r&&(a+=t.charAt(l[u]%62))}return a}}function Lt(i,t){return i<t?-1:i>t?1:0}function tm(i,t){const r=Math.min(i.length,t.length);for(let a=0;a<r;a++){const l=i.charAt(a),u=t.charAt(a);if(l!==u)return Pd(l)===Pd(u)?Lt(l,u):Pd(l)?1:-1}return Lt(i.length,t.length)}const Uw=55296,Pw=57343;function Pd(i){const t=i.charCodeAt(0);return t>=Uw&&t<=Pw}function Ws(i,t,r){return i.length===t.length&&i.every(((a,l)=>r(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class Ir{constructor(t,r,a){r===void 0?r=0:r>t.length&&bt(637,{offset:r,range:t.length}),a===void 0?a=t.length-r:a>t.length-r&&bt(1746,{length:a,range:t.length-r}),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return Ir.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ir?t.forEach((a=>{r.push(a)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let l=0;l<a;l++){const u=Ir.compareSegments(t.get(l),r.get(l));if(u!==0)return u}return Lt(t.length,r.length)}static compareSegments(t,r){const a=Ir.isNumericId(t),l=Ir.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?Ir.extractNumericId(t).compare(Ir.extractNumericId(r)):tm(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return na.fromString(t.substring(4,t.length-2))}}class le extends Ir{construct(t,r,a){return new le(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new dt(rt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((l=>l.length>0)))}return new le(r)}static emptyPath(){return new le([])}}const zw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ir{construct(t,r,a){return new sn(t,r,a)}static isValidIdentifier(t){return zw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new sn([a_])}static fromServerFormat(t){const r=[];let a="",l=0;const u=()=>{if(a.length===0)throw new dt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new dt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(a+=m,l++):(u(),l++)}if(u(),h)throw new dt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(r)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(le.fromString(t))}static fromName(t){return new vt(le.fromString(t).popFirst(5))}static empty(){return new vt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return le.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(i,t,r){if(!r)throw new dt(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function kw(i,t,r,a){if(t===!0&&a===!0)throw new dt(rt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function s_(i){if(!vt.isDocumentKey(i))throw new dt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function l_(i){if(vt.isDocumentKey(i))throw new dt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Z0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Mm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":bt(12329,{type:typeof i})}function Ur(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new dt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Mm(i);throw new dt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(i,t){const r={typeString:i};return t&&(r.value=t),r}function Yo(i,t){if(!Z0(i))throw new dt(rt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in t)if(t[a]){const l=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in i)){r=`JSON missing required field: '${a}'`;break}const h=i[a];if(l&&typeof h!==l){r=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${a}' field to equal '${u.value}'`;break}}if(r)throw new dt(rt.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=-62135596800,u_=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*u_);return new oe(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<o_)throw new dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yo(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-o_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ve("string",oe._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new oe(0,0))}static max(){return new St(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=-1;function Bw(i,t){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new oe(r+1,0):new oe(r,a));return new aa(l,vt.empty(),t)}function jw(i){return new aa(i.readTime,i.key,Oo)}class aa{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new aa(St.min(),vt.empty(),Oo)}static max(){return new aa(St.max(),vt.empty(),Oo)}}function qw(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=vt.comparator(i.documentKey,t.documentKey),r!==0?r:Lt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(i){if(i.code!==rt.FAILED_PRECONDITION||i.message!==Hw)throw i;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new et(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(r,u).next(a,l)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):et.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):et.reject(r)}static resolve(t){return new et(((r,a)=>{r(t)}))}static reject(t){return new et(((r,a)=>{a(t)}))}static waitFor(t){return new et(((r,a)=>{let l=0,u=0,h=!1;t.forEach((m=>{++l,m.next((()=>{++u,h&&u===l&&r()}),(p=>a(p)))})),h=!0,u===l&&r()}))}static or(t){let r=et.resolve(!1);for(const a of t)r=r.next((l=>l?et.resolve(l):a()));return r}static forEach(t,r){const a=[];return t.forEach(((l,u)=>{a.push(r.call(this,l,u))})),this.waitFor(a)}static mapArray(t,r){return new et(((a,l)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;r(t[y]).next((E=>{h[y]=E,++m,m===u&&a(h)}),(E=>l(E)))}}))}static doWhile(t,r){return new et(((a,l)=>{const u=()=>{t()===!0?r().next((()=>{u()}),l):a()};u()}))}}function Fw(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ol(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>r.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}of.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=-1;function uf(i){return i==null}function Hc(i){return i===0&&1/i==-1/0}function Qw(i){return typeof i=="number"&&Number.isInteger(i)&&!Hc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="";function Yw(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=c_(t)),t=Xw(i.get(r),t);return c_(t)}function Xw(i,t){let r=t;const a=i.length;for(let l=0;l<a;l++){const u=i.charAt(l);switch(u){case"\0":r+="";break;case J0:r+="";break;default:r+=u}}return r}function c_(i){return i+J0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function fa(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function W0(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,r){this.comparator=t,this.root=r||an.EMPTY}insert(t,r){return new ge(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,a)=>(t(r,a),!1)))}toString(){const t=[];return this.inorderTraversal(((r,a)=>(t.push(`${r}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,r,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?a(t.key,r):1,r&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,r,a,l,u){this.key=t,this.value=r,this.color=a??an.RED,this.left=l??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,l,u){return new an(t??this.key,r??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,r,a),null):u===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return an.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,r,a,l,u){return this}insert(t,r,a){return new an(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,a)=>(t(r),!1)))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new h_(this.data.getIterator())}getIteratorFrom(t){return new h_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((a=>{r=r.add(a)})),r}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new qe(this.comparator);return r.data=t,r}}class h_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new zn([])}unionWith(t){let r=new qe(sn.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new zn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Ws(this.fields,t.fields,((r,a)=>r.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new tE("Invalid base64 string: "+u):u}})(t);return new ln(r)}static fromUint8Array(t){const r=(function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u})(t);return new ln(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(i){if(Xt(!!i,39018),typeof i=="string"){let t=0;const r=Kw.exec(i);if(Xt(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(i.seconds),nanos:Ae(i.nanos)}}function Ae(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function la(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="server_timestamp",nE="__type__",rE="__previous_value__",iE="__local_write_time__";function Lm(i){return(i?.mapValue?.fields||{})[nE]?.stringValue===eE}function cf(i){const t=i.mapValue.fields[rE];return Lm(t)?cf(t):t}function Lo(i){const t=sa(i.mapValue.fields[iE].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,r,a,l,u,h,m,p,y,E){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Gc="(default)";class Uo{constructor(t,r){this.projectId=t,this.database=r||Gc}static empty(){return new Uo("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof Uo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="__type__",Zw="__max__",Sc={mapValue:{}},sE="__vector__",Fc="value";function oa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Lm(i)?4:Ww(i)?9007199254740991:Jw(i)?10:11:bt(28295,{value:i})}function Pr(i,t){if(i===t)return!0;const r=oa(i);if(r!==oa(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Lo(i).isEqual(Lo(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=sa(l.timestampValue),m=sa(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(l,u){return la(l.bytesValue).isEqual(la(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(l,u){return Ae(l.geoPointValue.latitude)===Ae(u.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(u.geoPointValue.longitude)})(i,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ae(l.integerValue)===Ae(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=Ae(l.doubleValue),m=Ae(u.doubleValue);return h===m?Hc(h)===Hc(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return Ws(i.arrayValue.values||[],t.arrayValue.values||[],Pr);case 10:case 11:return(function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(f_(h)!==f_(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Pr(h[p],m[p])))return!1;return!0})(i,t);default:return bt(52216,{left:i})}}function Po(i,t){return(i.values||[]).find((r=>Pr(r,t)))!==void 0}function tl(i,t){if(i===t)return 0;const r=oa(i),a=oa(t);if(r!==a)return Lt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=Ae(u.integerValue||u.doubleValue),p=Ae(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return d_(i.timestampValue,t.timestampValue);case 4:return d_(Lo(i),Lo(t));case 5:return tm(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=la(u),p=la(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Lt(m[y],p[y]);if(E!==0)return E}return Lt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Lt(Ae(u.latitude),Ae(h.latitude));return m!==0?m:Lt(Ae(u.longitude),Ae(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return m_(i.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},y=m[Fc]?.arrayValue,E=p[Fc]?.arrayValue,S=Lt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:m_(y,E)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===Sc.mapValue&&h===Sc.mapValue)return 0;if(u===Sc.mapValue)return 1;if(h===Sc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=h.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const b=tm(p[S],E[S]);if(b!==0)return b;const C=tl(m[p[S]],y[E[S]]);if(C!==0)return C}return Lt(p.length,E.length)})(i.mapValue,t.mapValue);default:throw bt(23264,{he:r})}}function d_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Lt(i,t);const r=sa(i),a=sa(t),l=Lt(r.seconds,a.seconds);return l!==0?l:Lt(r.nanos,a.nanos)}function m_(i,t){const r=i.values||[],a=t.values||[];for(let l=0;l<r.length&&l<a.length;++l){const u=tl(r[l],a[l]);if(u)return u}return Lt(r.length,a.length)}function el(i){return em(i)}function em(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const a=sa(r);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return la(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return vt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let a="[",l=!0;for(const u of r.values||[])l?l=!1:a+=",",a+=em(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(r){const a=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const h of a)u?u=!1:l+=",",l+=`${h}:${em(r.fields[h])}`;return l+"}"})(i.mapValue):bt(61005,{value:i})}function Vc(i){switch(oa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cf(i);return t?16+Vc(t):16;case 5:return 2*i.stringValue.length;case 6:return la(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+Vc(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return fa(a.fields,((u,h)=>{l+=u.length+Vc(h)})),l})(i.mapValue);default:throw bt(13486,{value:i})}}function nm(i){return!!i&&"integerValue"in i}function Um(i){return!!i&&"arrayValue"in i}function g_(i){return!!i&&"nullValue"in i}function p_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mc(i){return!!i&&"mapValue"in i}function Jw(i){return(i?.mapValue?.fields||{})[aE]?.stringValue===sE}function Ao(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return fa(i.mapValue.fields,((r,a)=>t.mapValue.fields[r]=Ao(a))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ao(i.arrayValue.values[r]);return t}return{...i}}function Ww(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Zw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!Mc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ao(r)}setAll(t){let r=sn.emptyPath(),a={},l=[];t.forEach(((h,m)=>{if(!r.isImmediateParentOf(m)){const p=this.getFieldsMap(r);this.applyChanges(p,a,l),a={},l=[],r=m.popLast()}h?a[m.lastSegment()]=Ao(h):l.push(m.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,a,l)}delete(t){const r=this.field(t.popLast());Mc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Pr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=r.mapValue.fields[t.get(a)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,a){fa(r,((l,u)=>t[l]=u));for(const l of a)delete t[l]}clone(){return new Dn(Ao(this.value))}}function lE(i){const t=[];return fa(i.fields,((r,a)=>{const l=new sn([r]);if(Mc(a)){const u=lE(a.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)})),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,r,a,l,u,h,m){this.key=t,this.documentType=r,this.version=a,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new hn(t,0,St.min(),St.min(),St.min(),Dn.empty(),0)}static newFoundDocument(t,r,a,l){return new hn(t,1,r,St.min(),a,l,0)}static newNoDocument(t,r){return new hn(t,2,r,St.min(),St.min(),Dn.empty(),0)}static newUnknownDocument(t,r){return new hn(t,3,r,St.min(),St.min(),Dn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,r){this.position=t,this.inclusive=r}}function y_(i,t,r){let a=0;for(let l=0;l<i.position.length;l++){const u=t[l],h=i.position[l];if(u.field.isKeyField()?a=vt.comparator(vt.fromName(h.referenceValue),r.key):a=tl(h,r.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function v_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Pr(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,r="asc"){this.field=t,this.dir=r}}function tR(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{}class je extends oE{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new nR(t,r,a):r==="array-contains"?new aR(t,a):r==="in"?new sR(t,a):r==="not-in"?new lR(t,a):r==="array-contains-any"?new oR(t,a):new je(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new rR(t,a):new iR(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(tl(r,this.value)):r!==null&&oa(this.value)===oa(r)&&this.matchesComparison(tl(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends oE{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new zr(t,r)}matches(t){return uE(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uE(i){return i.op==="and"}function cE(i){return eR(i)&&uE(i)}function eR(i){for(const t of i.filters)if(t instanceof zr)return!1;return!0}function rm(i){if(i instanceof je)return i.field.canonicalString()+i.op.toString()+el(i.value);if(cE(i))return i.filters.map((t=>rm(t))).join(",");{const t=i.filters.map((r=>rm(r))).join(",");return`${i.op}(${t})`}}function fE(i,t){return i instanceof je?(function(a,l){return l instanceof je&&a.op===l.op&&a.field.isEqual(l.field)&&Pr(a.value,l.value)})(i,t):i instanceof zr?(function(a,l){return l instanceof zr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,h,m)=>u&&fE(h,l.filters[m])),!0):!1})(i,t):void bt(19439)}function hE(i){return i instanceof je?(function(r){return`${r.field.canonicalString()} ${r.op} ${el(r.value)}`})(i):i instanceof zr?(function(r){return r.op.toString()+" {"+r.getFilters().map(hE).join(" ,")+"}"})(i):"Filter"}class nR extends je{constructor(t,r,a){super(t,r,a),this.key=vt.fromName(a.referenceValue)}matches(t){const r=vt.comparator(t.key,this.key);return this.matchesComparison(r)}}class rR extends je{constructor(t,r){super(t,"in",r),this.keys=dE("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class iR extends je{constructor(t,r){super(t,"not-in",r),this.keys=dE("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function dE(i,t){return(t.arrayValue?.values||[]).map((r=>vt.fromName(r.referenceValue)))}class aR extends je{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Um(r)&&Po(r.arrayValue,this.value)}}class sR extends je{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Po(this.value.arrayValue,r)}}class lR extends je{constructor(t,r){super(t,"not-in",r)}matches(t){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Po(this.value.arrayValue,r)}}class oR extends je{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Um(r)||!r.arrayValue.values)&&r.arrayValue.values.some((a=>Po(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,r=null,a=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function __(i,t=null,r=[],a=[],l=null,u=null,h=null){return new uR(i,t,r,a,l,u,h)}function Pm(i){const t=wt(i);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((a=>rm(a))).join(","),r+="|ob:",r+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),uf(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>el(a))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>el(a))).join(",")),t.Te=r}return t.Te}function zm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!tR(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!fE(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!v_(i.startAt,t.startAt)&&v_(i.endAt,t.endAt)}function im(i){return vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,r=null,a=[],l=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cR(i,t,r,a,l,u,h,m){return new ff(i,t,r,a,l,u,h,m)}function km(i){return new ff(i)}function E_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fR(i){return i.collectionGroup!==null}function wo(i){const t=wt(i);if(t.Ie===null){t.Ie=[];const r=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),r.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new qe(sn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{r.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Yc(u,a))})),r.has(sn.keyField().canonicalString())||t.Ie.push(new Yc(sn.keyField(),a))}return t.Ie}function Vr(i){const t=wt(i);return t.Ee||(t.Ee=hR(t,wo(i))),t.Ee}function hR(i,t){if(i.limitType==="F")return __(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Yc(l.field,u)}));const r=i.endAt?new Qc(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Qc(i.startAt.position,i.startAt.inclusive):null;return __(i.path,i.collectionGroup,t,i.filters,i.limit,r,a)}}function am(i,t,r){return new ff(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function hf(i,t){return zm(Vr(i),Vr(t))&&i.limitType===t.limitType}function mE(i){return`${Pm(Vr(i))}|lt:${i.limitType}`}function Gs(i){return`Query(target=${(function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map((l=>hE(l))).join(", ")}]`),uf(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map((l=>el(l))).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map((l=>el(l))).join(",")),`Target(${a})`})(Vr(i))}; limitType=${i.limitType})`}function df(i,t){return t.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):vt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,t)&&(function(a,l){for(const u of wo(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(i,t)&&(function(a,l){return!(a.startAt&&!(function(h,m,p){const y=y_(h,m,p);return h.inclusive?y<=0:y<0})(a.startAt,wo(a),l)||a.endAt&&!(function(h,m,p){const y=y_(h,m,p);return h.inclusive?y>=0:y>0})(a.endAt,wo(a),l))})(i,t)}function dR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function gE(i){return(t,r)=>{let a=!1;for(const l of wo(i)){const u=mR(l,t,r);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function mR(i,t,r){const a=i.field.isKeyField()?vt.comparator(t.key,r.key):(function(u,h,m){const p=h.data.field(u),y=m.data.field(u);return p!==null&&y!==null?tl(p,y):bt(42886)})(i.field,t,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return bt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){fa(this.inner,((r,a)=>{for(const[l,u]of a)t(l,u)}))}isEmpty(){return W0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new ge(vt.comparator);function Si(){return gR}const pE=new ge(vt.comparator);function _o(...i){let t=pE;for(const r of i)t=t.insert(r.key,r);return t}function yE(i){let t=pE;return i.forEach(((r,a)=>t=t.insert(r,a.overlayedDocument))),t}function Fa(){return Ro()}function vE(){return Ro()}function Ro(){return new Za((i=>i.toString()),((i,t)=>i.isEqual(t)))}const pR=new ge(vt.comparator),yR=new qe(vt.comparator);function Ut(...i){let t=yR;for(const r of i)t=t.add(r);return t}const vR=new qe(Lt);function _R(){return vR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function _E(i){return{integerValue:""+i}}function ER(i,t){return Qw(t)?_E(t):Bm(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function bR(i,t,r){return i instanceof Xc?(function(l,u){const h={fields:{[nE]:{stringValue:eE},[iE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Lm(u)&&(u=cf(u)),u&&(h.fields[rE]=u),{mapValue:h}})(r,t):i instanceof zo?bE(i,t):i instanceof ko?TE(i,t):(function(l,u){const h=EE(l,u),m=b_(h)+b_(l.Ae);return nm(h)&&nm(l.Ae)?_E(m):Bm(l.serializer,m)})(i,t)}function TR(i,t,r){return i instanceof zo?bE(i,t):i instanceof ko?TE(i,t):r}function EE(i,t){return i instanceof Kc?(function(a){return nm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class Xc extends mf{}class zo extends mf{constructor(t){super(),this.elements=t}}function bE(i,t){const r=SE(t);for(const a of i.elements)r.some((l=>Pr(l,a)))||r.push(a);return{arrayValue:{values:r}}}class ko extends mf{constructor(t){super(),this.elements=t}}function TE(i,t){let r=SE(t);for(const a of i.elements)r=r.filter((l=>!Pr(l,a)));return{arrayValue:{values:r}}}class Kc extends mf{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function b_(i){return Ae(i.integerValue||i.doubleValue)}function SE(i){return Um(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function SR(i,t){return i.field.isEqual(t.field)&&(function(a,l){return a instanceof zo&&l instanceof zo||a instanceof ko&&l instanceof ko?Ws(a.elements,l.elements,Pr):a instanceof Kc&&l instanceof Kc?Pr(a.Ae,l.Ae):a instanceof Xc&&l instanceof Xc})(i.transform,t.transform)}class AR{constructor(t,r){this.version=t,this.transformResults=r}}class fr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new fr}static exists(t){return new fr(void 0,t)}static updateTime(t){return new fr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class gf{}function AE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new jm(i.key,fr.none()):new Xo(i.key,i.data,fr.none());{const r=i.data,a=Dn.empty();let l=new qe(sn.comparator);for(let u of t.fields)if(!l.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?a.delete(u):a.set(u,h),l=l.add(u)}return new ha(i.key,a,new zn(l.toArray()),fr.none())}}function wR(i,t,r){i instanceof Xo?(function(l,u,h){const m=l.value.clone(),p=S_(l.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,r):i instanceof ha?(function(l,u,h){if(!Oc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=S_(l.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(wE(l)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,r):(function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,r)}function Co(i,t,r,a){return i instanceof Xo?(function(u,h,m,p){if(!Oc(u.precondition,h))return m;const y=u.value.clone(),E=A_(u.fieldTransforms,p,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,t,r,a):i instanceof ha?(function(u,h,m,p){if(!Oc(u.precondition,h))return m;const y=A_(u.fieldTransforms,p,h),E=h.data;return E.setAll(wE(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,t,r,a):(function(u,h,m){return Oc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,r)}function RR(i,t){let r=null;for(const a of i.fieldTransforms){const l=t.data.field(a.field),u=EE(a.transform,l||null);u!=null&&(r===null&&(r=Dn.empty()),r.set(a.field,u))}return r||null}function T_(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ws(a,l,((u,h)=>SR(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Xo extends gf{constructor(t,r,a,l=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ha extends gf{constructor(t,r,a,l,u=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wE(i){const t=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const a=i.data.field(r);t.set(r,a)}})),t}function S_(i,t,r){const a=new Map;Xt(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let l=0;l<r.length;l++){const u=i[l],h=u.transform,m=t.data.field(u.field);a.set(u.field,TR(h,m,r[l]))}return a}function A_(i,t,r){const a=new Map;for(const l of i){const u=l.transform,h=r.data.field(l.field);a.set(l.field,bR(u,h,t))}return a}class jm extends gf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CR extends gf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t,r,a,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&wR(u,t,a[l])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Co(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Co(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=vE();return this.mutations.forEach((l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=r.has(l.key)?null:m;const p=AE(h,m);p!==null&&a.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Ws(this.mutations,t.mutations,((r,a)=>T_(r,a)))&&Ws(this.baseMutations,t.baseMutations,((r,a)=>T_(r,a)))}}class qm{constructor(t,r,a,l){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(t,r,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return pR})();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,a[h].version);return new qm(t,r,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,qt;function IR(i){switch(i){case rt.OK:return bt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return bt(15467,{code:i})}}function RE(i){if(i===void 0)return Ti("GRPC error has no .code"),rt.UNKNOWN;switch(i){case Ie.OK:return rt.OK;case Ie.CANCELLED:return rt.CANCELLED;case Ie.UNKNOWN:return rt.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return rt.INTERNAL;case Ie.UNAVAILABLE:return rt.UNAVAILABLE;case Ie.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ie.NOT_FOUND:return rt.NOT_FOUND;case Ie.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ie.ABORTED:return rt.ABORTED;case Ie.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ie.DATA_LOSS:return rt.DATA_LOSS;default:return bt(39323,{code:i})}}(qt=Ie||(Ie={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new na([4294967295,4294967295],0);function w_(i){const t=VR().encode(i),r=new q0;return r.update(t),new Uint8Array(r.digest())}function R_(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new na([r,a],0),new na([l,u],0)]}class Hm{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Eo(`Invalid padding: ${r}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=na.fromNumber(this.ge)}ye(t,r,a){let l=t.add(r.multiply(na.fromNumber(a)));return l.compare(MR)===1&&(l=new na([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=w_(t),[a,l]=R_(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);if(!this.we(h))return!1}return!0}static create(t,r,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Hm(u,l,r);return a.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const r=w_(t),[a,l]=R_(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);this.Se(h)}}Se(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,r,a,l,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const l=new Map;return l.set(t,Ko.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new pf(St.min(),l,new ge(Lt),Si(),Ut())}}class Ko{constructor(t,r,a,l,u){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new Ko(a,r,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,r,a,l){this.be=t,this.removedTargetIds=r,this.key=a,this.De=l}}class CE{constructor(t,r){this.targetId=t,this.Ce=r}}class DE{constructor(t,r,a=ln.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=l}}class C_{constructor(){this.ve=0,this.Fe=D_(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),r=Ut(),a=Ut();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:bt(38017,{changeType:u})}})),new Ko(this.Me,this.xe,t,r,a)}qe(){this.Oe=!1,this.Fe=D_()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Si(),this.Je=Ac(),this.He=Ac(),this.Ye=new ge(Lt)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const a=this.nt(r);switch(t.state){case 0:this.rt(r)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),a.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((a,l)=>{this.rt(l)&&r(l)}))}st(t){const r=t.targetId,a=t.Ce.count,l=this.ot(r);if(l){const u=l.target;if(im(u))if(a===0){const h=new vt(u.path);this.et(r,h,hn.newNoDocument(h,St.min()))}else Xt(a===1,20013,{expectedCount:a});else{const h=this._t(r);if(h!==a){const m=this.ut(t),p=m?this.ct(m,t,h):1;if(p!==0){this.it(r);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,y)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=r;let h,m;try{h=la(a).toUint8Array()}catch(p){if(p instanceof tE)return Js("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Hm(h,l,u)}catch(p){return Js(p instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,r,a){return r.Ce.count===a-this.Pt(t,r.targetId)?0:2}Pt(t,r){const a=this.Ge.getRemoteKeysForTarget(r);let l=0;return a.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(r,u,null),l++)})),l}Tt(t){const r=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&im(m.target)){const p=new vt(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,hn.newNoDocument(p,t))}u.Be&&(r.set(h,u.ke()),u.qe())}}));let a=Ut();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const l=new pf(t,r,this.Ye,this.je,a);return this.je=Si(),this.Je=Ac(),this.He=Ac(),this.Ye=new ge(Lt),l}Xe(t,r){if(!this.rt(t))return;const a=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,a),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),a&&(this.je=this.je.insert(r,a))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new C_,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new qe(Lt),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new qe(Lt),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||ct("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new C_),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function Ac(){return new ge(vt.comparator)}function D_(){return new ge(vt.comparator)}const LR={asc:"ASCENDING",desc:"DESCENDING"},UR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PR={and:"AND",or:"OR"};class zR{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function sm(i,t){return i.useProto3Json||uf(t)?t:{value:t}}function $c(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function kR(i,t){return $c(i,t.toTimestamp())}function Mr(i){return Xt(!!i,49232),St.fromTimestamp((function(r){const a=sa(r);return new oe(a.seconds,a.nanos)})(i))}function Gm(i,t){return lm(i,t).canonicalString()}function lm(i,t){const r=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(i).child("documents");return t===void 0?r:r.child(t)}function NE(i){const t=le.fromString(i);return Xt(LE(t),10190,{key:t.toString()}),t}function om(i,t){return Gm(i.databaseId,t.path)}function zd(i,t){const r=NE(t);if(r.get(1)!==i.databaseId.projectId)throw new dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new vt(VE(r))}function IE(i,t){return Gm(i.databaseId,t)}function BR(i){const t=NE(i);return t.length===4?le.emptyPath():VE(t)}function um(i){return new le(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function VE(i){return Xt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function x_(i,t,r){return{name:om(i,t),fields:r.value.mapValue.fields}}function jR(i,t){let r;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:bt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),ln.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),ln.fromUint8Array(E||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(y){const E=y.code===void 0?rt.UNKNOWN:RE(y.code);return new dt(E,y.message||"")})(h);r=new DE(a,l,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=zd(i,a.document.name),u=Mr(a.document.updateTime),h=a.document.createTime?Mr(a.document.createTime):St.min(),m=new Dn({mapValue:{fields:a.document.fields}}),p=hn.newFoundDocument(l,u,h,m),y=a.targetIds||[],E=a.removedTargetIds||[];r=new Lc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=zd(i,a.document),u=a.readTime?Mr(a.readTime):St.min(),h=hn.newNoDocument(l,u),m=a.removedTargetIds||[];r=new Lc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=zd(i,a.document),u=a.removedTargetIds||[];r=new Lc([],u,l,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,h=new NR(l,u),m=a.targetId;r=new CE(m,h)}}return r}function qR(i,t){let r;if(t instanceof Xo)r={update:x_(i,t.key,t.value)};else if(t instanceof jm)r={delete:om(i,t.key)};else if(t instanceof ha)r={update:x_(i,t.key,t.data),updateMask:ZR(t.fieldMask)};else{if(!(t instanceof CR))return bt(16599,{Vt:t.type});r={verify:om(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((a=>(function(u,h){const m=h.transform;if(m instanceof Xc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof zo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ko)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw bt(20930,{transform:h.transform})})(0,a)))),t.precondition.isNone||(r.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:kR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(i,t.precondition)),r}function HR(i,t){return i&&i.length>0?(Xt(t!==void 0,14353),i.map((r=>(function(l,u){let h=l.updateTime?Mr(l.updateTime):Mr(u);return h.isEqual(St.min())&&(h=Mr(u)),new AR(h,l.transformResults||[])})(r,t)))):[]}function GR(i,t){return{documents:[IE(i,t.path)]}}function FR(i,t){const r={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=IE(i,l);const u=(function(y){if(y.length!==0)return OE(zr.create(y,"and"))})(t.filters);u&&(r.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:Fs(b.field),direction:XR(b.dir)}})(E)))})(t.orderBy);h&&(r.structuredQuery.orderBy=h);const m=sm(i,t.limit);return m!==null&&(r.structuredQuery.limit=m),t.startAt&&(r.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:r,parent:l}}function QR(i){let t=BR(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const E=r.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];r.where&&(u=(function(S){const b=ME(S);return b instanceof zr&&cE(b)?b.getFilters():[b]})(r.where));let h=[];r.orderBy&&(h=(function(S){return S.map((b=>(function(U){return new Yc(Qs(U.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(b)))})(r.orderBy));let m=null;r.limit&&(m=(function(S){let b;return b=typeof S=="object"?S.value:S,uf(b)?null:b})(r.limit));let p=null;r.startAt&&(p=(function(S){const b=!!S.before,C=S.values||[];return new Qc(C,b)})(r.startAt));let y=null;return r.endAt&&(y=(function(S){const b=!S.before,C=S.values||[];return new Qc(C,b)})(r.endAt)),cR(t,l,h,u,m,"F",p,y)}function YR(i,t){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:l})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function ME(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Qs(r.unaryFilter.field);return je.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qs(r.unaryFilter.field);return je.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Qs(r.unaryFilter.field);return je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Qs(r.unaryFilter.field);return je.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(i):i.fieldFilter!==void 0?(function(r){return je.create(Qs(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return zr.create(r.compositeFilter.filters.map((a=>ME(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(r.compositeFilter.op))})(i):bt(30097,{filter:i})}function XR(i){return LR[i]}function KR(i){return UR[i]}function $R(i){return PR[i]}function Fs(i){return{fieldPath:i.canonicalString()}}function Qs(i){return sn.fromServerFormat(i.fieldPath)}function OE(i){return i instanceof je?(function(r){if(r.op==="=="){if(p_(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NAN"}};if(g_(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(p_(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NOT_NAN"}};if(g_(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(r.field),op:KR(r.op),value:r.value}}})(i):i instanceof zr?(function(r){const a=r.getFilters().map((l=>OE(l)));return a.length===1?a[0]:{compositeFilter:{op:$R(r.op),filters:a}}})(i):bt(54877,{filter:i})}function ZR(i){const t=[];return i.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function LE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,r,a,l,u=St.min(),h=St.min(),m=ln.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Wi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.yt=t}}function WR(i){const t=QR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?am(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.Cn=new e2}addToCollectionParentIndex(t,r){return this.Cn.add(r),et.resolve()}getCollectionParents(t,r){return et.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return et.resolve()}deleteFieldIndex(t,r){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,r){return et.resolve()}getDocumentsMatchingTarget(t,r){return et.resolve(null)}getIndexType(t,r){return et.resolve(0)}getFieldIndexes(t,r){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,r){return et.resolve(aa.min())}getMinOffsetFromCollectionGroup(t,r){return et.resolve(aa.min())}updateCollectionGroup(t,r,a){return et.resolve()}updateIndexEntries(t,r){return et.resolve()}}class e2{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r]||new qe(le.comparator),u=!l.has(a);return this.index[r]=l.add(a),u}has(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(t){return(this.index[t]||new qe(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(UE,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LruGarbageCollector",n2=1048576;function V_([i,t],[r,a]){const l=Lt(i,r);return l===0?Lt(t,a):l}class r2{constructor(t){this.Ir=t,this.buffer=new qe(V_),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();V_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class i2{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(I_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ol(r)?ct(I_,"Ignoring IndexedDB error during garbage collection: ",r):await ll(r)}await this.Vr(3e5)}))}}class a2{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next((a=>Math.floor(r/100*a)))}nthSequenceNumber(t,r){if(r===0)return et.resolve(of.ce);const a=new r2(r);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,r,a){return this.mr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(N_)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.yr(t,r)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let a,l,u,h,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,h=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,m=Date.now(),this.removeTargets(t,a,r)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),Hs()<=Ht.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function s2(i,t){return new a2(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.changes=new Za((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,hn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?et.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,r,a,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,r)))).next((l=>(a!==null&&Co(a.mutation,l,zn.empty(),oe.now()),l)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,r,a=Ut()){const l=Fa();return this.populateOverlays(t,l,r).next((()=>this.computeViews(t,r,l,a).next((u=>{let h=_o();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,r){const a=Fa();return this.populateOverlays(t,a,r).next((()=>this.computeViews(t,r,a,Ut())))}populateOverlays(t,r,a){const l=[];return a.forEach((u=>{r.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((h,m)=>{r.set(h,m)}))}))}computeViews(t,r,a,l){let u=Si();const h=Ro(),m=(function(){return Ro()})();return r.forEach(((p,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof ha)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Co(E.mutation,y,E.mutation.getFieldMask(),oe.now())):h.set(y.key,zn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>h.set(y,E))),r.forEach(((y,E)=>m.set(y,new o2(E,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,r){const a=Ro();let l=new ge(((h,m)=>h-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((h=>{for(const m of h)m.keys().forEach((p=>{const y=r.get(p);if(y===null)return;let E=a.get(p)||zn.empty();E=m.applyToLocalView(y,E),a.set(p,E);const S=(l.get(m.batchId)||Ut()).add(p);l=l.insert(m.batchId,S)}))})).next((()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=vE();E.forEach((b=>{if(!u.has(b)){const C=AE(r.get(b),a.get(b));C!==null&&S.set(b,C),u=u.add(b)}})),h.push(this.documentOverlayCache.saveOverlays(t,y,S))}return et.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,r,a,l){return(function(h){return vt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):fR(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,l):this.getDocumentsMatchingCollectionQuery(t,r,a,l)}getNextDocuments(t,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,l-u.size):et.resolve(Fa());let m=Oo,p=u;return h.next((y=>et.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,Ut()))).next((E=>({batchId:m,changes:yE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new vt(r)).next((a=>{let l=_o();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,r,a,l){const u=r.collectionGroup;let h=_o();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(p=>{const y=(function(S,b){return new ff(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(r,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((E=>{E.forEach(((S,b)=>{h=h.insert(S,b)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,r,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,u,l)))).next((h=>{u.forEach(((p,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,hn.newInvalidDocument(E)))}));let m=_o();return h.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Co(E.mutation,y,zn.empty(),oe.now()),df(r,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return et.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:Mr(l.createTime)}})(r)),et.resolve()}getNamedQuery(t,r){return et.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:WR(l.bundledQuery),readTime:Mr(l.readTime)}})(r)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.overlays=new ge(vt.comparator),this.qr=new Map}getOverlay(t,r){return et.resolve(this.overlays.get(r))}getOverlays(t,r){const a=Fa();return et.forEach(r,(l=>this.getOverlay(t,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(t,r,a){return a.forEach(((l,u)=>{this.St(t,r,u)})),et.resolve()}removeOverlaysForBatchId(t,r,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),et.resolve()}getOverlaysForCollection(t,r,a){const l=Fa(),u=r.length+1,h=new vt(r.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&l.set(p.getKey(),p)}return et.resolve(l)}getOverlaysForCollectionGroup(t,r,a,l){let u=new ge(((y,E)=>y-E));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Fa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Fa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=l)););return et.resolve(m)}St(t,r,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new xR(r,a));let u=this.qr.get(r);u===void 0&&(u=Ut(),this.qr.set(r,u)),this.qr.set(r,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.Qr=new qe(Ke.$r),this.Ur=new qe(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const a=new Ke(t,r);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,r){t.forEach((a=>this.addReference(a,r)))}removeReference(t,r){this.Gr(new Ke(t,r))}zr(t,r){t.forEach((a=>this.removeReference(a,r)))}jr(t){const r=new vt(new le([])),a=new Ke(r,t),l=new Ke(r,t+1),u=[];return this.Ur.forEachInRange([a,l],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new vt(new le([])),a=new Ke(r,t),l=new Ke(r,t+1);let u=Ut();return this.Ur.forEachInRange([a,l],(h=>{u=u.add(h.key)})),u}containsKey(t){const r=new Ke(t,0),a=this.Qr.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class Ke{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return vt.comparator(t.key,r.key)||Lt(t.Yr,r.Yr)}static Kr(t,r){return Lt(t.Yr,r.Yr)||vt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ke.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new DR(u,r,a,l);this.mutationQueue.push(h);for(const m of l)this.Zr=this.Zr.add(new Ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(h)}lookupMutationBatch(t,r){return et.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,l=this.ei(a),u=l<0?0:l;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new Ke(r,0),l=new Ke(r,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(h=>{const m=this.Xr(h.Yr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new qe(Lt);return r.forEach((l=>{const u=new Ke(l,0),h=new Ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{a=a.add(m.Yr)}))})),et.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,l=a.length+1;let u=a;vt.isDocumentKey(u)||(u=u.child(""));const h=new Ke(new vt(u),0);let m=new qe(Lt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Yr)),!0)}),h),et.resolve(this.ti(m))}ti(t){const r=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&r.push(l)})),r}removeMutationBatch(t,r){Xt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return et.forEach(r.mutations,(l=>{const u=new Ke(l.key,r.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,r){const a=new Ke(r,0),l=this.Zr.firstAfterOrEqual(a);return et.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.ri=t,this.docs=(function(){return new ge(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,l=this.docs.get(a),u=l?l.size:0,h=this.ri(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return et.resolve(a?a.document.mutableCopy():hn.newInvalidDocument(r))}getEntries(t,r){let a=Si();return r.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():hn.newInvalidDocument(l))})),et.resolve(a)}getDocumentsMatchingQuery(t,r,a,l){let u=Si();const h=r.path,m=new vt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||qw(jw(E),a)<=0||(l.has(E.key)||df(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,r,a,l){bt(9500)}ii(t,r){return et.forEach(this.docs,(a=>r(a)))}newChangeBuffer(t){return new g2(this)}getSize(t){return et.resolve(this.size)}}class g2 extends l2{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),et.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.persistence=t,this.si=new Za((r=>Pm(r)),zm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Fm,this.targetCount=0,this.ai=nl.ur()}forEachTarget(t,r){return this.si.forEach(((a,l)=>r(l))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.oi&&(this.oi=r),et.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new nl(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,et.resolve()}updateTargetData(t,r){return this.Pr(r),et.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,r,a){let l=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=r&&a.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)})),et.waitFor(u).next((()=>l))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,r){const a=this.si.get(r)||null;return et.resolve(a)}addMatchingKeys(t,r,a){return this._i.Wr(r,a),et.resolve()}removeMatchingKeys(t,r,a){this._i.zr(r,a);const l=this.persistence.referenceDelegate,u=[];return l&&r.forEach((h=>{u.push(l.markPotentiallyOrphaned(t,h))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),et.resolve()}getMatchingKeysForTargetId(t,r){const a=this._i.Hr(r);return et.resolve(a)}containsKey(t,r){return et.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,r){this.ui={},this.overlays={},this.ci=new of(0),this.li=!1,this.li=!0,this.hi=new h2,this.referenceDelegate=t(this),this.Pi=new p2(this),this.indexManager=new t2,this.remoteDocumentCache=(function(l){return new m2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new JR(r),this.Ii=new c2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new f2,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.ui[t.toKey()];return a||(a=new d2(r,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,a){ct("MemoryPersistence","Starting transaction:",t);const l=new y2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,r){return et.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,r))))}}class y2 extends Gw{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Ri=new Fm,this.Vi=null}static mi(t){return new Qm(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,r,a){return this.Ri.addReference(a,r),this.fi.delete(a.toString()),et.resolve()}removeReference(t,r,a){return this.Ri.removeReference(a,r),this.fi.add(a.toString()),et.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),et.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(t,r)))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(a=>{const l=vt.fromPath(a);return this.gi(t,l).next((u=>{u||r.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,r.apply(t))))}updateLimboDocument(t,r){return this.gi(t,r).next((a=>{a?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(t){return 0}gi(t,r){return et.or([()=>et.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Zc{constructor(t,r){this.persistence=t,this.pi=new Za((a=>Yw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=s2(this,r)}static mi(t,r){return new Zc(t,r)}Ei(){}di(t){return et.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>r.next((l=>a+l))))}wr(t){let r=0;return this.pr(t,(a=>{r++})).next((()=>r))}pr(t,r){return et.forEach(this.pi,((a,l)=>this.br(t,a,l).next((u=>u?et.resolve():r(l)))))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(h=>this.br(t,h,r).next((m=>{m||(a++,u.removeEntry(h,St.min()))})))).next((()=>u.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),et.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.pi.set(a,t.currentSequenceNumber),et.resolve()}removeReference(t,r,a){return this.pi.set(a,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),et.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Vc(t.data.value)),r}br(t,r,a){return et.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.pi.get(r);return et.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,r,a,l){this.targetId=t,this.fromCache=r,this.Es=a,this.ds=l}static As(t,r){let a=Ut(),l=Ut();for(const u of r.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Ym(t,r.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fA()?8:Fw(uA())>0?6:4})()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,a,l){const u={result:null};return this.ys(t,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(t,r,l,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new v2;return this.Ss(t,r,h).next((m=>{if(u.result=m,this.Vs)return this.bs(t,r,h,m.size)}))})).next((()=>u.result))}bs(t,r,a,l){return a.documentReadCount<this.fs?(Hs()<=Ht.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Gs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(Hs()<=Ht.DEBUG&&ct("QueryEngine","Query:",Gs(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Hs()<=Ht.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Gs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vr(r))):et.resolve())}ys(t,r){if(E_(r))return et.resolve(null);let a=Vr(r);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=am(r,null,"F"),a=Vr(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const h=Ut(...u);return this.ps.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,a).next((p=>{const y=this.Ds(r,m);return this.Cs(r,y,h,p.readTime)?this.ys(t,am(r,null,"F")):this.vs(t,y,r,p)}))))})))))}ws(t,r,a,l){return E_(r)||l.isEqual(St.min())?et.resolve(null):this.ps.getDocuments(t,a).next((u=>{const h=this.Ds(r,u);return this.Cs(r,h,a,l)?et.resolve(null):(Hs()<=Ht.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Gs(r)),this.vs(t,h,r,Bw(l,Oo)).next((m=>m)))}))}Ds(t,r){let a=new qe(gE(t));return r.forEach(((l,u)=>{df(t,u)&&(a=a.add(u))})),a}Cs(t,r,a,l){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,r,a){return Hs()<=Ht.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Gs(r)),this.ps.getDocumentsMatchingQuery(t,r,aa.min(),a)}vs(t,r,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="LocalStore",E2=3e8;class b2{constructor(t,r,a,l){this.persistence=t,this.Fs=r,this.serializer=l,this.Ms=new ge(Lt),this.xs=new Za((u=>Pm(u)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new u2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Ms)))}}function T2(i,t,r,a){return new b2(i,t,r,a)}async function zE(i,t){const r=wt(i);return await r.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,r.Bs(t),r.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],m=[];let p=Ut();for(const y of l){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return r.localDocuments.getDocuments(a,p).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function S2(i,t){const r=wt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),u=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const S=y.batch,b=S.keys();let C=et.resolve();return b.forEach((U=>{C=C.next((()=>E.getEntry(p,U))).next((B=>{const P=y.docVersions.get(U);Xt(P!==null,48541),B.version.compareTo(P)<0&&(S.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),E.addEntry(B)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(r,a,t,u).next((()=>u.apply(a))).next((()=>r.mutationQueue.performConsistencyCheck(a))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Ut();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>r.localDocuments.getDocuments(a,l)))}))}function kE(i){const t=wt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Pi.getLastRemoteSnapshotVersion(r)))}function A2(i,t){const r=wt(i),a=t.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const m=[];t.targetChanges.forEach(((E,S)=>{const b=l.get(S);if(!b)return;m.push(r.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>r.Pi.addMatchingKeys(u,E.addedDocuments,S))));let C=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?C=C.withResumeToken(ln.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,a)),l=l.insert(S,C),(function(B,P,K){return B.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=E2?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(b,C,E)&&m.push(r.Pi.updateTargetData(u,C))}));let p=Si(),y=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(w2(u,h,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!a.isEqual(St.min())){const E=r.Pi.getLastRemoteSnapshotVersion(u).next((S=>r.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return et.waitFor(m).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(r.Ms=l,u)))}function w2(i,t,r){let a=Ut(),l=Ut();return r.forEach((u=>a=a.add(u))),t.getEntries(i,a).next((u=>{let h=Si();return r.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ct(Xm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:h,qs:l}}))}function R2(i,t){const r=wt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Om),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function C2(i,t){const r=wt(i);return r.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return r.Pi.getTargetData(a,t).next((u=>u?(l=u,et.resolve(l)):r.Pi.allocateTargetId(a).next((h=>(l=new Wi(t,h,"TargetPurposeListen",a.currentSequenceNumber),r.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=r.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(a.targetId,a),r.xs.set(t,a.targetId)),a}))}async function cm(i,t,r){const a=wt(i),l=a.Ms.get(t),u=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!ol(h))throw h;ct(Xm,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function M_(i,t,r){const a=wt(i);let l=St.min(),u=Ut();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,E){const S=wt(p),b=S.xs.get(E);return b!==void 0?et.resolve(S.Ms.get(b)):S.Pi.getTargetData(y,E)})(a,h,Vr(t)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(h,t,r?l:St.min(),r?u:Ut()))).next((m=>(D2(a,dR(t),m),{documents:m,Qs:u})))))}function D2(i,t,r){let a=i.Os.get(t)||St.min();r.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Os.set(t,a)}class O_{constructor(){this.activeTargetIds=_R()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class x2{constructor(){this.Mo=new O_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,a){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new O_,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="ConnectivityMonitor";class U_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(L_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(L_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function fm(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="RestConnection",I2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Gc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,r,a,l,u){const h=fm(),m=this.zo(t,r.toUriEncodedString());ct(kd,`Sending RPC '${t}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:y}=new URL(m),E=xm(y);return this.Jo(t,m,p,a,E).then((S=>(ct(kd,`Received RPC '${t}' ${h}: `,S),S)),(S=>{throw Js(kd,`RPC '${t}' ${h} failed with error: `,S,"url: ",m,"request:",a),S}))}Ho(t,r,a,l,u,h){return this.Go(t,r,a,l,u)}jo(t,r,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,u)=>t[u]=l)),a&&a.headers.forEach(((l,u)=>t[u]=l))}zo(t,r){const a=I2[t];return`${this.Uo}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class O2 extends V2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,a,l,u){const h=fm();return new Promise(((m,p)=>{const y=new H0;y.setWithCredentials(!0),y.listenOnce(G0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ic.NO_ERROR:const S=y.getResponseJson();ct(cn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(S)),m(S);break;case Ic.TIMEOUT:ct(cn,`RPC '${t}' ${h} timed out`),p(new dt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const b=y.getStatus();if(ct(cn,`RPC '${t}' ${h} failed with status:`,b,"response text:",y.getResponseText()),b>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C?.error;if(U&&U.status&&U.message){const B=(function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(Q)>=0?Q:rt.UNKNOWN})(U.status);p(new dt(B,U.message))}else p(new dt(rt.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new dt(rt.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct(cn,`RPC '${t}' ${h} completed.`)}}));const E=JSON.stringify(l);ct(cn,`RPC '${t}' ${h} sending request:`,l),y.send(r,"POST",E,a,15)}))}T_(t,r,a){const l=fm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=Y0(),m=Q0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,r,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ct(cn,`Creating RPC '${t}' stream ${l}: ${E}`,p);const S=h.createWebChannel(E,p);this.I_(S);let b=!1,C=!1;const U=new M2({Yo:P=>{C?ct(cn,`Not sending because RPC '${t}' stream ${l} is closed:`,P):(b||(ct(cn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),b=!0),ct(cn,`RPC '${t}' stream ${l} sending:`,P),S.send(P))},Zo:()=>S.close()}),B=(P,K,Q)=>{P.listen(K,(Z=>{try{Q(Z)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return B(S,vo.EventType.OPEN,(()=>{C||(ct(cn,`RPC '${t}' stream ${l} transport opened.`),U.o_())})),B(S,vo.EventType.CLOSE,(()=>{C||(C=!0,ct(cn,`RPC '${t}' stream ${l} transport closed`),U.a_(),this.E_(S))})),B(S,vo.EventType.ERROR,(P=>{C||(C=!0,Js(cn,`RPC '${t}' stream ${l} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new dt(rt.UNAVAILABLE,"The operation could not be completed")))})),B(S,vo.EventType.MESSAGE,(P=>{if(!C){const K=P.data[0];Xt(!!K,16349);const Q=K,Z=Q?.error||Q[0]?.error;if(Z){ct(cn,`RPC '${t}' stream ${l} received error:`,Z);const ut=Z.status;let lt=(function(w){const R=Ie[w];if(R!==void 0)return RE(R)})(ut),ft=Z.message;lt===void 0&&(lt=rt.INTERNAL,ft="Unknown error status: "+ut+" with message "+Z.message),C=!0,U.a_(new dt(lt,ft)),S.close()}else ct(cn,`RPC '${t}' stream ${l} received:`,K),U.u_(K)}})),B(m,F0.STAT_EVENT,(P=>{P.stat===Wd.PROXY?ct(cn,`RPC '${t}' stream ${l} detected buffering proxy`):P.stat===Wd.NOPROXY&&ct(cn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((r=>r===t))}}function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(i){return new zR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,r,a=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=r,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-a);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="PersistentStream";class jE{constructor(t,r,a,l,u,h,m,p){this.Mi=t,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BE(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===rt.RESOURCE_EXHAUSTED?(Ti(r.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===r&&this.G_(a,l)}),(a=>{t((()=>{const l=new dt(rt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,r){const a=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(P_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget((()=>this.D_===t?r():(ct(P_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L2 extends jE{constructor(t,r,a,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,h),this.serializer=u}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=jR(this.serializer,t),a=(function(u){if(!("targetChange"in u))return St.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?St.min():h.readTime?Mr(h.readTime):St.min()})(t);return this.listener.H_(r,a)}Y_(t){const r={};r.database=um(this.serializer),r.addTarget=(function(u,h){let m;const p=h.target;if(m=im(p)?{documents:GR(u,p)}:{query:FR(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=xE(u,h.resumeToken);const y=sm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(St.min())>0){m.readTime=$c(u,h.snapshotVersion.toTimestamp());const y=sm(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const a=YR(this.serializer,t);a&&(r.labels=a),this.q_(r)}Z_(t){const r={};r.database=um(this.serializer),r.removeTarget=t,this.q_(r)}}class U2 extends jE{constructor(t,r,a,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=HR(t.writeResults,t.commitTime),a=Mr(t.commitTime);return this.listener.na(a,r)}ra(){const t={};t.database=um(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((a=>qR(this.serializer,a)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{}class z2 extends P2{constructor(t,r,a,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new dt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(t,lm(r,a),l,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt(rt.UNKNOWN,u.toString())}))}Ho(t,r,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(t,lm(r,a),l,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new dt(rt.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class k2{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ti(r),this.aa=!1):ct("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class B2{constructor(t,r,a,l,u){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{a.enqueueAndForget((async()=>{Ja(this)&&(ct(Xa,"Restarting streams for network reachability change."),await(async function(p){const y=wt(p);y.Ea.add(4),await $o(y),y.Ra.set("Unknown"),y.Ea.delete(4),await vf(y)})(this))}))})),this.Ra=new k2(a,l)}}async function vf(i){if(Ja(i))for(const t of i.da)await t(!0)}async function $o(i){for(const t of i.da)await t(!1)}function qE(i,t){const r=wt(i);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),Jm(r)?Zm(r):ul(r).O_()&&$m(r,t))}function Km(i,t){const r=wt(i),a=ul(r);r.Ia.delete(t),a.O_()&&HE(r,t),r.Ia.size===0&&(a.O_()?a.L_():Ja(r)&&r.Ra.set("Unknown"))}function $m(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}ul(i).Y_(t)}function HE(i,t){i.Va.Ue(t),ul(i).Z_(t)}function Zm(i){i.Va=new OR({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),ul(i).start(),i.Ra.ua()}function Jm(i){return Ja(i)&&!ul(i).x_()&&i.Ia.size>0}function Ja(i){return wt(i).Ea.size===0}function GE(i){i.Va=void 0}async function j2(i){i.Ra.set("Online")}async function q2(i){i.Ia.forEach(((t,r)=>{$m(i,t)}))}async function H2(i,t){GE(i),Jm(i)?(i.Ra.ha(t),Zm(i)):i.Ra.set("Unknown")}async function G2(i,t,r){if(i.Ra.set("Online"),t instanceof DE&&t.state===2&&t.cause)try{await(async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.Va.removeTarget(m))})(i,t)}catch(a){ct(Xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Jc(i,a)}else if(t instanceof Lc?i.Va.Ze(t):t instanceof CE?i.Va.st(t):i.Va.tt(t),!r.isEqual(St.min()))try{const a=await kE(i.localStore);r.compareTo(a)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(ln.EMPTY_BYTE_STRING,E.snapshotVersion)),HE(u,p);const S=new Wi(E.target,p,y,E.sequenceNumber);$m(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(i,r)}catch(a){ct(Xa,"Failed to raise snapshot:",a),await Jc(i,a)}}async function Jc(i,t,r){if(!ol(t))throw t;i.Ea.add(1),await $o(i),i.Ra.set("Offline"),r||(r=()=>kE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ct(Xa,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await vf(i)}))}function FE(i,t){return t().catch((r=>Jc(i,r,t)))}async function _f(i){const t=wt(i),r=ua(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Om;for(;F2(t);)try{const l=await R2(t.localStore,a);if(l===null){t.Ta.length===0&&r.L_();break}a=l.batchId,Q2(t,l)}catch(l){await Jc(t,l)}QE(t)&&YE(t)}function F2(i){return Ja(i)&&i.Ta.length<10}function Q2(i,t){i.Ta.push(t);const r=ua(i);r.O_()&&r.X_&&r.ea(t.mutations)}function QE(i){return Ja(i)&&!ua(i).x_()&&i.Ta.length>0}function YE(i){ua(i).start()}async function Y2(i){ua(i).ra()}async function X2(i){const t=ua(i);for(const r of i.Ta)t.ea(r.mutations)}async function K2(i,t,r){const a=i.Ta.shift(),l=qm.from(a,t,r);await FE(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await _f(i)}async function $2(i,t){t&&ua(i).X_&&await(async function(a,l){if((function(h){return IR(h)&&h!==rt.ABORTED})(l.code)){const u=a.Ta.shift();ua(a).B_(),await FE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await _f(a)}})(i,t),QE(i)&&YE(i)}async function z_(i,t){const r=wt(i);r.asyncQueue.verifyOperationInProgress(),ct(Xa,"RemoteStore received new credentials");const a=Ja(r);r.Ea.add(3),await $o(r),a&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await vf(r)}async function Z2(i,t){const r=wt(i);t?(r.Ea.delete(2),await vf(r)):t||(r.Ea.add(2),await $o(r),r.Ra.set("Unknown"))}function ul(i){return i.ma||(i.ma=(function(r,a,l){const u=wt(r);return u.sa(),new L2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:j2.bind(null,i),t_:q2.bind(null,i),r_:H2.bind(null,i),H_:G2.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Jm(i)?Zm(i):i.Ra.set("Unknown")):(await i.ma.stop(),GE(i))}))),i.ma}function ua(i){return i.fa||(i.fa=(function(r,a,l){const u=wt(r);return u.sa(),new U2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Y2.bind(null,i),r_:$2.bind(null,i),ta:X2.bind(null,i),na:K2.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await _f(i)):(await i.fa.stop(),i.Ta.length>0&&(ct(Xa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,r,a,l,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,l,u){const h=Date.now()+a,m=new Wm(t,r,h,l,u);return m.start(a),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(i,t){if(Ti("AsyncQueue",`${t}: ${i}`),ol(i))return new dt(rt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{static emptySet(t){return new Ks(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||vt.comparator(r.key,a.key):(r,a)=>vt.comparator(r.key,a.key),this.keyedMap=_o(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,a)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Ks)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new Ks;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.ga=new ge(vt.comparator)}track(t){const r=t.doc.key,a=this.ga.get(r);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(r,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(r):t.type===1&&a.type===2?this.ga=this.ga.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,a)=>{t.push(a)})),t}}class rl{constructor(t,r,a,l,u,h,m,p,y){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,r,a,l,u){const h=[];return r.forEach((m=>{h.push({type:0,doc:m})})),new rl(t,r,Ks.emptySet(r),h,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class W2{constructor(){this.queries=B_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,a){const l=wt(r),u=l.queries;l.queries=B_(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new dt(rt.ABORTED,"Firestore shutting down"))}}function B_(){return new Za((i=>mE(i)),hf)}async function XE(i,t){const r=wt(i);let a=3;const l=t.query;let u=r.queries.get(l);u?!u.ba()&&t.Da()&&(a=2):(u=new J2,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await r.onListen(l,!0);break;case 1:u.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(h){const m=tg(h,`Initialization of query '${Gs(t.query)}' failed`);return void t.onError(m)}r.queries.set(l,u),u.Sa.push(t),t.va(r.onlineState),u.wa&&t.Fa(u.wa)&&eg(r)}async function KE(i,t){const r=wt(i),a=t.query;let l=3;const u=r.queries.get(a);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function tC(i,t){const r=wt(i);let a=!1;for(const l of t){const u=l.query,h=r.queries.get(u);if(h){for(const m of h.Sa)m.Fa(l)&&(a=!0);h.wa=l}}a&&eg(r)}function eC(i,t,r){const a=wt(i),l=a.queries.get(t);if(l)for(const u of l.Sa)u.onError(r);a.queries.delete(t)}function eg(i){i.Ca.forEach((t=>{t.next()}))}var hm,j_;(j_=hm||(hm={})).Ma="default",j_.Cache="cache";class $E{constructor(t,r,a){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new rl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const a=r!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=rl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t){this.key=t}}class JE{constructor(t){this.key=t}}class nC{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=gE(t),this.tu=new Ks(this.eu)}get nu(){return this.Ya}ru(t,r){const a=r?r.iu:new k_,l=r?r.tu:this.tu;let u=r?r.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,S)=>{const b=l.get(E),C=df(this.query,S)?S:null,U=!!b&&this.mutatedKeys.has(b.key),B=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;b&&C?b.data.isEqual(C.data)?U!==B&&(a.track({type:3,doc:C}),P=!0):this.su(b,C)||(a.track({type:2,doc:C}),P=!0,(p&&this.eu(C,p)>0||y&&this.eu(C,y)<0)&&(m=!0)):!b&&C?(a.track({type:0,doc:C}),P=!0):b&&!C&&(a.track({type:1,doc:b}),P=!0,(p||y)&&(m=!0)),P&&(C?(h=h.add(C),u=B?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:h,iu:a,Cs:m,mutatedKeys:u}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((E,S)=>(function(C,U){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:P})}};return B(C)-B(U)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),l=l??!1;const m=r&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,h.length!==0||y?{snapshot:new rl(this.query,t.tu,u,h,t.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new k_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const r=[];return t.forEach((a=>{this.Xa.has(a)||r.push(new JE(a))})),this.Xa.forEach((a=>{t.has(a)||r.push(new ZE(a))})),r}cu(t){this.Ya=t.Qs,this.Xa=Ut();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ng="SyncEngine";class rC{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class iC{constructor(t){this.key=t,this.hu=!1}}class aC{constructor(t,r,a,l,u,h){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Za((m=>mE(m)),hf),this.Iu=new Map,this.Eu=new Set,this.du=new ge(vt.comparator),this.Au=new Map,this.Ru=new Fm,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sC(i,t,r=!0){const a=ib(i);let l;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await WE(a,t,r,!0),l}async function lC(i,t){const r=ib(i);await WE(r,t,!0,!1)}async function WE(i,t,r,a){const l=await C2(i.localStore,Vr(t)),u=l.targetId,h=i.sharedClientState.addLocalQueryTarget(u,r);let m;return a&&(m=await oC(i,t,u,h==="current",l.resumeToken)),i.isPrimaryClient&&r&&qE(i.remoteStore,l),m}async function oC(i,t,r,a,l){i.pu=(S,b,C)=>(async function(B,P,K,Q){let Z=P.view.ru(K);Z.Cs&&(Z=await M_(B.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,Z))));const ut=Q&&Q.targetChanges.get(P.targetId),lt=Q&&Q.targetMismatches.get(P.targetId)!=null,ft=P.view.applyChanges(Z,B.isPrimaryClient,ut,lt);return H_(B,P.targetId,ft.au),ft.snapshot})(i,S,b,C);const u=await M_(i.localStore,t,!0),h=new nC(t,u.Qs),m=h.ru(u.documents),p=Ko.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),y=h.applyChanges(m,i.isPrimaryClient,p);H_(i,r,y.au);const E=new rC(t,r,h);return i.Tu.set(t,E),i.Iu.has(r)?i.Iu.get(r).push(t):i.Iu.set(r,[t]),y.snapshot}async function uC(i,t,r){const a=wt(i),l=a.Tu.get(t),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((h=>!hf(h,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await cm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),r&&Km(a.remoteStore,l.targetId),dm(a,l.targetId)})).catch(ll)):(dm(a,l.targetId),await cm(a.localStore,l.targetId,!0))}async function cC(i,t){const r=wt(i),a=r.Tu.get(t),l=r.Iu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Km(r.remoteStore,a.targetId))}async function fC(i,t,r){const a=vC(i);try{const l=await(function(h,m){const p=wt(h),y=oe.now(),E=m.reduce(((C,U)=>C.add(U.key)),Ut());let S,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=Si(),B=Ut();return p.Ns.getEntries(C,E).next((P=>{U=P,U.forEach(((K,Q)=>{Q.isValidDocument()||(B=B.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,U))).next((P=>{S=P;const K=[];for(const Q of m){const Z=RR(Q,S.get(Q.key).overlayedDocument);Z!=null&&K.push(new ha(Q.key,Z,lE(Z.value.mapValue),fr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,K,m)})).next((P=>{b=P;const K=P.applyToLocalDocumentSet(S,B);return p.documentOverlayCache.saveOverlays(C,P.batchId,K)}))})).then((()=>({batchId:b.batchId,changes:yE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(h,m,p){let y=h.Vu[h.currentUser.toKey()];y||(y=new ge(Lt)),y=y.insert(m,p),h.Vu[h.currentUser.toKey()]=y})(a,l.batchId,r),await Zo(a,l.changes),await _f(a.remoteStore)}catch(l){const u=tg(l,"Failed to persist write");r.reject(u)}}async function tb(i,t){const r=wt(i);try{const a=await A2(r.localStore,t);t.targetChanges.forEach(((l,u)=>{const h=r.Au.get(u);h&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Xt(h.hu,14607):l.removedDocuments.size>0&&(Xt(h.hu,42227),h.hu=!1))})),await Zo(r,a,t)}catch(a){await ll(a)}}function q_(i,t,r){const a=wt(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&l.push(m.snapshot)})),(function(h,m){const p=wt(h);p.onlineState=m;let y=!1;p.queries.forEach(((E,S)=>{for(const b of S.Sa)b.va(m)&&(y=!0)})),y&&eg(p)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function hC(i,t,r){const a=wt(i);a.sharedClientState.updateQueryState(t,"rejected",r);const l=a.Au.get(t),u=l&&l.key;if(u){let h=new ge(vt.comparator);h=h.insert(u,hn.newNoDocument(u,St.min()));const m=Ut().add(u),p=new pf(St.min(),new Map,new ge(Lt),h,m);await tb(a,p),a.du=a.du.remove(u),a.Au.delete(t),rg(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,r))).catch(ll)}async function dC(i,t){const r=wt(i),a=t.batch.batchId;try{const l=await S2(r.localStore,t);nb(r,a,null),eb(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await Zo(r,l)}catch(l){await ll(l)}}async function mC(i,t,r){const a=wt(i);try{const l=await(function(h,m){const p=wt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((S=>(Xt(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(a.localStore,t);nb(a,t,r),eb(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await Zo(a,l)}catch(l){await ll(l)}}function eb(i,t){(i.mu.get(t)||[]).forEach((r=>{r.resolve()})),i.mu.delete(t)}function nb(i,t,r){const a=wt(i);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(r?u.reject(r):u.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function dm(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.Iu.get(t))i.Tu.delete(a),r&&i.Pu.yu(a,r);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((a=>{i.Ru.containsKey(a)||rb(i,a)}))}function rb(i,t){i.Eu.delete(t.path.canonicalString());const r=i.du.get(t);r!==null&&(Km(i.remoteStore,r),i.du=i.du.remove(t),i.Au.delete(r),rg(i))}function H_(i,t,r){for(const a of r)a instanceof ZE?(i.Ru.addReference(a.key,t),gC(i,a)):a instanceof JE?(ct(ng,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,t),i.Ru.containsKey(a.key)||rb(i,a.key)):bt(19791,{wu:a})}function gC(i,t){const r=t.key,a=r.path.canonicalString();i.du.get(r)||i.Eu.has(a)||(ct(ng,"New document in limbo: "+r),i.Eu.add(a),rg(i))}function rg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const r=new vt(le.fromString(t)),a=i.fu.next();i.Au.set(a,new iC(r)),i.du=i.du.insert(r,a),qE(i.remoteStore,new Wi(Vr(km(r.path)),a,"TargetPurposeLimboResolution",of.ce))}}async function Zo(i,t,r){const a=wt(i),l=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{h.push(a.pu(p,t,r).then((y=>{if((y||r)&&a.isPrimaryClient){const E=y?!y.fromCache:r?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){l.push(y);const E=Ym.As(p.targetId,y);u.push(E)}})))})),await Promise.all(h),a.Pu.H_(l),await(async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>et.forEach(y,(b=>et.forEach(b.Es,(C=>E.persistence.referenceDelegate.addReference(S,b.targetId,C))).next((()=>et.forEach(b.ds,(C=>E.persistence.referenceDelegate.removeReference(S,b.targetId,C)))))))))}catch(S){if(!ol(S))throw S;ct(Xm,"Failed to update sequence numbers: "+S)}for(const S of y){const b=S.targetId;if(!S.fromCache){const C=E.Ms.get(b),U=C.snapshotVersion,B=C.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(b,B)}}})(a.localStore,u))}async function pC(i,t){const r=wt(i);if(!r.currentUser.isEqual(t)){ct(ng,"User change. New user:",t.toKey());const a=await zE(r.localStore,t);r.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new dt(rt.CANCELLED,h))}))})),u.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Zo(r,a.Ls)}}function yC(i,t){const r=wt(i),a=r.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const u=r.Iu.get(t);if(!u)return l;for(const h of u){const m=r.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function ib(i){const t=wt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=tb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hC.bind(null,t),t.Pu.H_=tC.bind(null,t.eventManager),t.Pu.yu=eC.bind(null,t.eventManager),t}function vC(i){const t=wt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mC.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return T2(this.persistence,new _2,t.initialUser,this.serializer)}Cu(t){return new PE(Qm.mi,this.serializer)}Du(t){return new x2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class _C extends Wc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Xt(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new i2(a,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new PE((a=>Zc.mi(a,r)),this.serializer)}}class mm{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>q_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=pC.bind(null,this.syncEngine),await Z2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new W2})()}createDatastore(t){const r=yf(t.databaseInfo.databaseId),a=(function(u){return new O2(u)})(t.databaseInfo);return(function(u,h,m,p){return new z2(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return(function(a,l,u,h,m){return new B2(a,l,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(r=>q_(this.syncEngine,r,0)),(function(){return U_.v()?new U_:new N2})())}createSyncEngine(t,r){return(function(l,u,h,m,p,y,E){const S=new aC(l,u,h,m,p,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const a=wt(r);ct(Xa,"RemoteStore shutting down."),a.Ea.add(5),await $o(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ti("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="FirestoreClient";class EC{constructor(t,r,a,l,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async h=>{ct(ca,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(ct(ca,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=tg(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function jd(i,t){i.asyncQueue.verifyOperationInProgress(),ct(ca,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let a=r.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await zE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function G_(i,t){i.asyncQueue.verifyOperationInProgress();const r=await bC(i);ct(ca,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener((a=>z_(t.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>z_(t.remoteStore,l))),i._onlineComponents=t}async function bC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ct(ca,"Using user provided OfflineComponentProvider");try{await jd(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(l){return l.name==="FirebaseError"?l.code===rt.FAILED_PRECONDITION||l.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Js("Error using user provided cache. Falling back to memory cache: "+r),await jd(i,new Wc)}}else ct(ca,"Using default OfflineComponentProvider"),await jd(i,new _C(void 0));return i._offlineComponents}async function sb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ct(ca,"Using user provided OnlineComponentProvider"),await G_(i,i._uninitializedComponentsProvider._online)):(ct(ca,"Using default OnlineComponentProvider"),await G_(i,new mm))),i._onlineComponents}function TC(i){return sb(i).then((t=>t.syncEngine))}async function lb(i){const t=await sb(i),r=t.eventManager;return r.onListen=sC.bind(null,t.syncEngine),r.onUnlisten=uC.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=lC.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=cC.bind(null,t.syncEngine),r}function SC(i,t,r={}){const a=new _i;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const E=new ab({next:b=>{E.Nu(),h.enqueueAndForget((()=>KE(u,S)));const C=b.docs.has(m);!C&&b.fromCache?y.reject(new dt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&p&&p.source==="server"?y.reject(new dt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new $E(km(m.path),E,{includeMetadataChanges:!0,qa:!0});return XE(u,S)})(await lb(i),i.asyncQueue,t,r,a))),a.promise}function AC(i,t,r={}){const a=new _i;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const E=new ab({next:b=>{E.Nu(),h.enqueueAndForget((()=>KE(u,S))),b.fromCache&&p.source==="server"?y.reject(new dt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new $E(m,E,{includeMetadataChanges:!0,qa:!0});return XE(u,S)})(await lb(i),i.asyncQueue,t,r,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="firestore.googleapis.com",Q_=!0;class Y_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ub,this.ssl=Q_}else this.host=t.host,this.ssl=t.ssl??Q_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<n2)throw new dt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ob(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ef{constructor(t,r,a,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new xw;switch(a.type){case"firstParty":return new Mw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new dt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const a=F_.get(r);a&&(ct("ComponentProvider","Removing Datastore"),F_.delete(r),a.terminate())})(this),Promise.resolve()}}function wC(i,t,r,a={}){i=Ur(i,Ef);const l=xm(t),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${r}`;l&&(iA(`https://${m}`),oA("Firestore",!0)),u.host!==ub&&u.host!==m&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:l,emulatorOptions:a};if(!Bc(p,h)&&(i._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=fn.MOCK_USER;else{y=aA(a.mockUserToken,i._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new dt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new fn(S)}i._authCredentials=new Nw(new K0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new bf(this.firestore,t,this._query)}}class Me{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,a){if(Yo(r,Me._jsonSchema))return new Me(t,a||null,new vt(le.fromString(r.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ve("string",Me._jsonSchemaVersion),referencePath:Ve("string")};class ra extends bf{constructor(t,r,a){super(t,r,km(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new vt(t))}withConverter(t){return new ra(this.firestore,t,this._path)}}function RC(i,t,...r){if(i=ia(i),$0("collection","path",t),i instanceof Ef){const a=le.fromString(t,...r);return l_(a),new ra(i,null,a)}{if(!(i instanceof Me||i instanceof ra))throw new dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(le.fromString(t,...r));return l_(a),new ra(i.firestore,null,a)}}function bo(i,t,...r){if(i=ia(i),arguments.length===1&&(t=Vm.newId()),$0("doc","path",t),i instanceof Ef){const a=le.fromString(t,...r);return s_(a),new Me(i,null,new vt(a))}{if(!(i instanceof Me||i instanceof ra))throw new dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(le.fromString(t,...r));return s_(a),new Me(i.firestore,i instanceof ra?i.converter:null,new vt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="AsyncQueue";class K_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BE(this,"async_queue_retry"),this._c=()=>{const a=Bd();a&&ct(X_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const r=Bd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=Bd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new _i;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;ct(X_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Ti("INTERNAL UNHANDLED ERROR: ",$_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=r,r}enqueueAfterDelay(t,r,a){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const l=Wm.createAndSchedule(this,t,r,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&bt(47125,{Pc:$_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function $_(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class cl extends Ef{constructor(t,r,a,l){super(t,r,a,l),this.type="firestore",this._queue=new K_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new K_(t),this._firestoreClient=void 0,await t}}}function CC(i,t){const r=typeof i=="object"?i:vw(),a=typeof i=="string"?i:Gc,l=dw(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=nA("firestore");u&&wC(l,...u)}return l}function ig(i){if(i._terminated)throw new dt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||DC(i),i._firestoreClient}function DC(i){const t=i._freezeSettings(),r=(function(l,u,h,m){return new $w(l,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,ob(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new EC(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tr(ln.fromBase64String(t))}catch(r){throw new dt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new tr(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yo(t,tr._jsonSchema))return tr.fromBase64String(t.bytes)}}tr._jsonSchemaVersion="firestore/bytes/1.0",tr._jsonSchema={type:Ve("string",tr._jsonSchemaVersion),bytes:Ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new dt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new dt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new dt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(t){if(Yo(t,Or._jsonSchema))return new Or(t.latitude,t.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Ve("string",Or._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yo(t,Lr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new Lr(t.vectorValues);throw new dt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lr._jsonSchemaVersion="firestore/vectorValue/1.0",Lr._jsonSchema={type:Ve("string",Lr._jsonSchemaVersion),vectorValues:Ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=/^__.*__$/;class NC{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new ha(t,this.data,this.fieldMask,r,this.fieldTransforms):new Xo(t,this.data,r,this.fieldTransforms)}}class cb{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new ha(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function fb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:i})}}class sg{constructor(t,r,a,l,u,h){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),a=this.Vc({path:r,fc:!1});return a.gc(t),a}yc(t){const r=this.path?.child(t),a=this.Vc({path:r,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return tf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(fb(this.Ac)&&xC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class IC{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||yf(t)}Cc(t,r,a,l=!1){return new sg({Ac:t,methodName:r,Dc:a,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hb(i){const t=i._freezeSettings(),r=yf(i._databaseId);return new IC(i._databaseId,!!t.ignoreUndefinedProperties,r)}function VC(i,t,r,a,l,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,t,r,l);lg("Data must be an object, but it was:",h,a);const m=db(a,h);let p,y;if(u.merge)p=new zn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=gm(t,S,r);if(!h.contains(b))throw new dt(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);gb(E,b)||E.push(b)}p=new zn(E),y=h.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=h.fieldTransforms;return new NC(new Dn(m),p,y)}class Sf extends ag{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sf}}function MC(i,t,r,a){const l=i.Cc(1,t,r);lg("Data must be an object, but it was:",l,a);const u=[],h=Dn.empty();fa(a,((p,y)=>{const E=og(t,p,r);y=ia(y);const S=l.yc(E);if(y instanceof Sf)u.push(E);else{const b=Af(y,S);b!=null&&(u.push(E),h.set(E,b))}}));const m=new zn(u);return new cb(h,m,l.fieldTransforms)}function OC(i,t,r,a,l,u){const h=i.Cc(1,t,r),m=[gm(t,a,r)],p=[l];if(u.length%2!=0)throw new dt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(gm(t,u[b])),p.push(u[b+1]);const y=[],E=Dn.empty();for(let b=m.length-1;b>=0;--b)if(!gb(y,m[b])){const C=m[b];let U=p[b];U=ia(U);const B=h.yc(C);if(U instanceof Sf)y.push(C);else{const P=Af(U,B);P!=null&&(y.push(C),E.set(C,P))}}const S=new zn(y);return new cb(E,S,h.fieldTransforms)}function Af(i,t){if(mb(i=ia(i)))return lg("Unsupported field value:",t,i),db(i,t);if(i instanceof ag)return(function(a,l){if(!fb(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let h=0;for(const m of a){let p=Af(m,l.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(a,l){if((a=ia(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ER(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=oe.fromDate(a);return{timestampValue:$c(l.serializer,u)}}if(a instanceof oe){const u=new oe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:$c(l.serializer,u)}}if(a instanceof Or)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof tr)return{bytesValue:xE(l.serializer,a._byteString)};if(a instanceof Me){const u=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw l.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Lr)return(function(h,m){return{mapValue:{fields:{[aE]:{stringValue:sE},[Fc]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Bm(m.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Mm(a)}`)})(i,t)}function db(i,t){const r={};return W0(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fa(i,((a,l)=>{const u=Af(l,t.mc(a));u!=null&&(r[a]=u)})),{mapValue:{fields:r}}}function mb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof oe||i instanceof Or||i instanceof tr||i instanceof Me||i instanceof ag||i instanceof Lr)}function lg(i,t,r){if(!mb(r)||!Z0(r)){const a=Mm(r);throw a==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+a)}}function gm(i,t,r){if((t=ia(t))instanceof Tf)return t._internalPath;if(typeof t=="string")return og(i,t);throw tf("Field path arguments must be of type string or ",i,!1,void 0,r)}const LC=new RegExp("[~\\*/\\[\\]]");function og(i,t,r){if(t.search(LC)>=0)throw tf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Tf(...t.split("."))._internalPath}catch{throw tf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function tf(i,t,r,a,l){const u=a&&!a.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${l}`),p+=")"),new dt(rt.INVALID_ARGUMENT,m+i+p)}function gb(i,t){return i.some((r=>r.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,r,a,l,u){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(yb("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class UC extends pb{data(){return super.data()}}function yb(i,t){return typeof t=="string"?og(i,t):t instanceof Tf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new dt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zC{convertValue(t,r="none"){switch(oa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(la(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return fa(t,((l,u)=>{a[l]=this.convertValue(u,r)})),a}convertVectorValue(t){const r=t.fields?.[Fc].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new Lr(r)}convertGeoPoint(t){return new Or(Ae(t.latitude),Ae(t.longitude))}convertArray(t,r){return(t.values||[]).map((a=>this.convertValue(a,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const a=cf(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Lo(t));default:return null}}convertTimestamp(t){const r=sa(t);return new oe(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=le.fromString(t);Xt(LE(a),9688,{name:t});const l=new Uo(a.get(1),a.get(3)),u=new vt(a.popFirst(5));return l.isEqual(r)||Ti(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(i,t,r){let a;return a=i?i.toFirestore(t):t,a}class To{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qa extends pb{constructor(t,r,a,l,u,h){super(t,r,a,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(yb("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Qa._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:Ve("string",Qa._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Uc extends Qa{data(t={}){return super.data(t)}}class $s{constructor(t,r,a,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new To(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((a=>{t.call(r,new Uc(this._firestore,this._userDataWriter,a.key,a,new To(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new dt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((m=>{const p=new Uc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new To(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Uc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new To(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:BC(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$s._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(i){i=Ur(i,Me);const t=Ur(i.firestore,cl);return SC(ig(t),i._key).then((r=>FC(t,i,r)))}$s._jsonSchemaVersion="firestore/querySnapshot/1.0",$s._jsonSchema={type:Ve("string",$s._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class vb extends zC{constructor(t){super(),this.firestore=t}convertBytes(t){return new tr(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,r)}}function qC(i){i=Ur(i,bf);const t=Ur(i.firestore,cl),r=ig(t),a=new vb(t);return PC(i._query),AC(r,i._query).then((l=>new $s(t,a,i,l)))}function HC(i,t,r){i=Ur(i,Me);const a=Ur(i.firestore,cl),l=kC(i.converter,t);return ug(a,[VC(hb(a),"setDoc",i._key,l,i.converter!==null,r).toMutation(i._key,fr.none())])}function _b(i,t,r,...a){i=Ur(i,Me);const l=Ur(i.firestore,cl),u=hb(l);let h;return h=typeof(t=ia(t))=="string"||t instanceof Tf?OC(u,"updateDoc",i._key,t,r,a):MC(u,"updateDoc",i._key,t),ug(l,[h.toMutation(i._key,fr.exists(!0))])}function GC(i){return ug(Ur(i.firestore,cl),[new jm(i._key,fr.none())])}function ug(i,t){return(function(a,l){const u=new _i;return a.asyncQueue.enqueueAndForget((async()=>fC(await TC(a),l,u))),u.promise})(ig(i),t)}function FC(i,t,r){const a=r.docs.get(t._key),l=new vb(i);return new Qa(i,l,t._key,a,new To(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(l){sl=l})(yw),qc(new Vo("firestore",((a,{instanceIdentifier:l,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new cl(new Iw(a.getProvider("auth-internal")),new Ow(h,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(y.options.projectId,E)})(h,l),h);return u={useFetchStreams:r,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Xs(n_,r_,t),Xs(n_,r_,"esm2020")})();var QC="firebase",YC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(QC,YC,"app");const XC={apiKey:"AIzaSyA4PfUq-mZuhTigs176jp4pqWqA6_98LsY",authDomain:"mymangalist-d76ad.firebaseapp.com",projectId:"mymangalist-d76ad",storageBucket:"mymangalist-d76ad.firebasestorage.app",messagingSenderId:"658088308670",appId:"1:658088308670:web:7de341fab5c2e508ccd3ef"},KC=k0(XC),Ys=CC(KC);function $C(){for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return D.useMemo(()=>a=>{t.forEach(l=>l(a))},t)}const wf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fl(i){const t=Object.prototype.toString.call(i);return t==="[object Window]"||t==="[object global]"}function cg(i){return"nodeType"in i}function xn(i){var t,r;return i?fl(i)?i:cg(i)&&(t=(r=i.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function fg(i){const{Document:t}=xn(i);return i instanceof t}function Jo(i){return fl(i)?!1:i instanceof xn(i).HTMLElement}function Eb(i){return i instanceof xn(i).SVGElement}function hl(i){return i?fl(i)?i.document:cg(i)?fg(i)?i:Jo(i)||Eb(i)?i.ownerDocument:document:document:document}const kr=wf?D.useLayoutEffect:D.useEffect;function hg(i){const t=D.useRef(i);return kr(()=>{t.current=i}),D.useCallback(function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t.current==null?void 0:t.current(...a)},[])}function ZC(){const i=D.useRef(null),t=D.useCallback((a,l)=>{i.current=setInterval(a,l)},[]),r=D.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[t,r]}function Bo(i,t){t===void 0&&(t=[i]);const r=D.useRef(i);return kr(()=>{r.current!==i&&(r.current=i)},t),r}function Wo(i,t){const r=D.useRef();return D.useMemo(()=>{const a=i(r.current);return r.current=a,a},[...t])}function ef(i){const t=hg(i),r=D.useRef(null),a=D.useCallback(l=>{l!==r.current&&t?.(l,r.current),r.current=l},[]);return[r,a]}function pm(i){const t=D.useRef();return D.useEffect(()=>{t.current=i},[i]),t.current}let qd={};function tu(i,t){return D.useMemo(()=>{if(t)return t;const r=qd[i]==null?0:qd[i]+1;return qd[i]=r,i+"-"+r},[i,t])}function bb(i){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return a.reduce((u,h)=>{const m=Object.entries(h);for(const[p,y]of m){const E=u[p];E!=null&&(u[p]=E+i*y)}return u},{...t})}}const Zs=bb(1),jo=bb(-1);function JC(i){return"clientX"in i&&"clientY"in i}function dg(i){if(!i)return!1;const{KeyboardEvent:t}=xn(i.target);return t&&i instanceof t}function WC(i){if(!i)return!1;const{TouchEvent:t}=xn(i.target);return t&&i instanceof t}function ym(i){if(WC(i)){if(i.touches&&i.touches.length){const{clientX:t,clientY:r}=i.touches[0];return{x:t,y:r}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:t,clientY:r}=i.changedTouches[0];return{x:t,y:r}}}return JC(i)?{x:i.clientX,y:i.clientY}:null}const qo=Object.freeze({Translate:{toString(i){if(!i)return;const{x:t,y:r}=i;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:t,scaleY:r}=i;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(i){if(i)return[qo.Translate.toString(i),qo.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:t,duration:r,easing:a}=i;return t+" "+r+"ms "+a}}}),Z_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function tD(i){return i.matches(Z_)?i:i.querySelector(Z_)}const eD={display:"none"};function nD(i){let{id:t,value:r}=i;return bn.createElement("div",{id:t,style:eD},r)}function rD(i){let{id:t,announcement:r,ariaLiveType:a="assertive"}=i;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return bn.createElement("div",{id:t,style:l,role:"status","aria-live":a,"aria-atomic":!0},r)}function iD(){const[i,t]=D.useState("");return{announce:D.useCallback(a=>{a!=null&&t(a)},[]),announcement:i}}const Tb=D.createContext(null);function aD(i){const t=D.useContext(Tb);D.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(i)},[i,t])}function sD(){const[i]=D.useState(()=>new Set),t=D.useCallback(a=>(i.add(a),()=>i.delete(a)),[i]);return[D.useCallback(a=>{let{type:l,event:u}=a;i.forEach(h=>{var m;return(m=h[l])==null?void 0:m.call(h,u)})},[i]),t]}const lD={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},oD={onDragStart(i){let{active:t}=i;return"Picked up draggable item "+t.id+"."},onDragOver(i){let{active:t,over:r}=i;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(i){let{active:t,over:r}=i;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(i){let{active:t}=i;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function uD(i){let{announcements:t=oD,container:r,hiddenTextDescribedById:a,screenReaderInstructions:l=lD}=i;const{announce:u,announcement:h}=iD(),m=tu("DndLiveRegion"),[p,y]=D.useState(!1);if(D.useEffect(()=>{y(!0)},[]),aD(D.useMemo(()=>({onDragStart(S){let{active:b}=S;u(t.onDragStart({active:b}))},onDragMove(S){let{active:b,over:C}=S;t.onDragMove&&u(t.onDragMove({active:b,over:C}))},onDragOver(S){let{active:b,over:C}=S;u(t.onDragOver({active:b,over:C}))},onDragEnd(S){let{active:b,over:C}=S;u(t.onDragEnd({active:b,over:C}))},onDragCancel(S){let{active:b,over:C}=S;u(t.onDragCancel({active:b,over:C}))}}),[u,t])),!p)return null;const E=bn.createElement(bn.Fragment,null,bn.createElement(nD,{id:a,value:l.draggable}),bn.createElement(rD,{id:m,announcement:h}));return r?yo.createPortal(E,r):E}var Be;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(Be||(Be={}));function nf(){}function J_(i,t){return D.useMemo(()=>({sensor:i,options:t??{}}),[i,t])}function cD(){for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return D.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const dr=Object.freeze({x:0,y:0});function Sb(i,t){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function Ab(i,t){let{data:{value:r}}=i,{data:{value:a}}=t;return r-a}function fD(i,t){let{data:{value:r}}=i,{data:{value:a}}=t;return a-r}function W_(i){let{left:t,top:r,height:a,width:l}=i;return[{x:t,y:r},{x:t+l,y:r},{x:t,y:r+a},{x:t+l,y:r+a}]}function wb(i,t){if(!i||i.length===0)return null;const[r]=i;return r[t]}function t0(i,t,r){return t===void 0&&(t=i.left),r===void 0&&(r=i.top),{x:t+i.width*.5,y:r+i.height*.5}}const hD=i=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=i;const l=t0(t,t.left,t.top),u=[];for(const h of a){const{id:m}=h,p=r.get(m);if(p){const y=Sb(t0(p),l);u.push({id:m,data:{droppableContainer:h,value:y}})}}return u.sort(Ab)},dD=i=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=i;const l=W_(t),u=[];for(const h of a){const{id:m}=h,p=r.get(m);if(p){const y=W_(p),E=l.reduce((b,C,U)=>b+Sb(y[U],C),0),S=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:h,value:S}})}}return u.sort(Ab)};function mD(i,t){const r=Math.max(t.top,i.top),a=Math.max(t.left,i.left),l=Math.min(t.left+t.width,i.left+i.width),u=Math.min(t.top+t.height,i.top+i.height),h=l-a,m=u-r;if(a<l&&r<u){const p=t.width*t.height,y=i.width*i.height,E=h*m,S=E/(p+y-E);return Number(S.toFixed(4))}return 0}const gD=i=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=i;const l=[];for(const u of a){const{id:h}=u,m=r.get(h);if(m){const p=mD(m,t);p>0&&l.push({id:h,data:{droppableContainer:u,value:p}})}}return l.sort(fD)};function pD(i,t,r){return{...i,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function Rb(i,t){return i&&t?{x:i.left-t.left,y:i.top-t.top}:dr}function yD(i){return function(r){for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];return l.reduce((h,m)=>({...h,top:h.top+i*m.y,bottom:h.bottom+i*m.y,left:h.left+i*m.x,right:h.right+i*m.x}),{...r})}}const vD=yD(1);function _D(i){if(i.startsWith("matrix3d(")){const t=i.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(i.startsWith("matrix(")){const t=i.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function ED(i,t,r){const a=_D(t);if(!a)return i;const{scaleX:l,scaleY:u,x:h,y:m}=a,p=i.left-h-(1-l)*parseFloat(r),y=i.top-m-(1-u)*parseFloat(r.slice(r.indexOf(" ")+1)),E=l?i.width/l:i.width,S=u?i.height/u:i.height;return{width:E,height:S,top:y,right:p+E,bottom:y+S,left:p}}const bD={ignoreTransform:!1};function dl(i,t){t===void 0&&(t=bD);let r=i.getBoundingClientRect();if(t.ignoreTransform){const{transform:y,transformOrigin:E}=xn(i).getComputedStyle(i);y&&(r=ED(r,y,E))}const{top:a,left:l,width:u,height:h,bottom:m,right:p}=r;return{top:a,left:l,width:u,height:h,bottom:m,right:p}}function e0(i){return dl(i,{ignoreTransform:!0})}function TD(i){const t=i.innerWidth,r=i.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function SD(i,t){return t===void 0&&(t=xn(i).getComputedStyle(i)),t.position==="fixed"}function AD(i,t){t===void 0&&(t=xn(i).getComputedStyle(i));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const u=t[l];return typeof u=="string"?r.test(u):!1})}function Rf(i,t){const r=[];function a(l){if(t!=null&&r.length>=t||!l)return r;if(fg(l)&&l.scrollingElement!=null&&!r.includes(l.scrollingElement))return r.push(l.scrollingElement),r;if(!Jo(l)||Eb(l)||r.includes(l))return r;const u=xn(i).getComputedStyle(l);return l!==i&&AD(l,u)&&r.push(l),SD(l,u)?r:a(l.parentNode)}return i?a(i):r}function Cb(i){const[t]=Rf(i,1);return t??null}function Hd(i){return!wf||!i?null:fl(i)?i:cg(i)?fg(i)||i===hl(i).scrollingElement?window:Jo(i)?i:null:null}function Db(i){return fl(i)?i.scrollX:i.scrollLeft}function xb(i){return fl(i)?i.scrollY:i.scrollTop}function vm(i){return{x:Db(i),y:xb(i)}}var $e;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})($e||($e={}));function Nb(i){return!wf||!i?!1:i===document.scrollingElement}function Ib(i){const t={x:0,y:0},r=Nb(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},a={x:i.scrollWidth-r.width,y:i.scrollHeight-r.height},l=i.scrollTop<=t.y,u=i.scrollLeft<=t.x,h=i.scrollTop>=a.y,m=i.scrollLeft>=a.x;return{isTop:l,isLeft:u,isBottom:h,isRight:m,maxScroll:a,minScroll:t}}const wD={x:.2,y:.2};function RD(i,t,r,a,l){let{top:u,left:h,right:m,bottom:p}=r;a===void 0&&(a=10),l===void 0&&(l=wD);const{isTop:y,isBottom:E,isLeft:S,isRight:b}=Ib(i),C={x:0,y:0},U={x:0,y:0},B={height:t.height*l.y,width:t.width*l.x};return!y&&u<=t.top+B.height?(C.y=$e.Backward,U.y=a*Math.abs((t.top+B.height-u)/B.height)):!E&&p>=t.bottom-B.height&&(C.y=$e.Forward,U.y=a*Math.abs((t.bottom-B.height-p)/B.height)),!b&&m>=t.right-B.width?(C.x=$e.Forward,U.x=a*Math.abs((t.right-B.width-m)/B.width)):!S&&h<=t.left+B.width&&(C.x=$e.Backward,U.x=a*Math.abs((t.left+B.width-h)/B.width)),{direction:C,speed:U}}function CD(i){if(i===document.scrollingElement){const{innerWidth:u,innerHeight:h}=window;return{top:0,left:0,right:u,bottom:h,width:u,height:h}}const{top:t,left:r,right:a,bottom:l}=i.getBoundingClientRect();return{top:t,left:r,right:a,bottom:l,width:i.clientWidth,height:i.clientHeight}}function Vb(i){return i.reduce((t,r)=>Zs(t,vm(r)),dr)}function DD(i){return i.reduce((t,r)=>t+Db(r),0)}function xD(i){return i.reduce((t,r)=>t+xb(r),0)}function ND(i,t){if(t===void 0&&(t=dl),!i)return;const{top:r,left:a,bottom:l,right:u}=t(i);Cb(i)&&(l<=0||u<=0||r>=window.innerHeight||a>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const ID=[["x",["left","right"],DD],["y",["top","bottom"],xD]];class mg{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Rf(r),l=Vb(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,h,m]of ID)for(const p of h)Object.defineProperty(this,p,{get:()=>{const y=m(a),E=l[u]-y;return this.rect[p]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Do{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...r)})},this.target=t}add(t,r,a){var l;(l=this.target)==null||l.addEventListener(t,r,a),this.listeners.push([t,r,a])}}function VD(i){const{EventTarget:t}=xn(i);return i instanceof t?i:hl(i)}function Gd(i,t){const r=Math.abs(i.x),a=Math.abs(i.y);return typeof t=="number"?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t?a>t.y:!1}var Wn;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(Wn||(Wn={}));function n0(i){i.preventDefault()}function MD(i){i.stopPropagation()}var zt;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(zt||(zt={}));const Mb={start:[zt.Space,zt.Enter],cancel:[zt.Esc],end:[zt.Space,zt.Enter,zt.Tab]},OD=(i,t)=>{let{currentCoordinates:r}=t;switch(i.code){case zt.Right:return{...r,x:r.x+25};case zt.Left:return{...r,x:r.x-25};case zt.Down:return{...r,y:r.y+25};case zt.Up:return{...r,y:r.y-25}}};class gg{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Do(hl(r)),this.windowListeners=new Do(xn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Wn.Resize,this.handleCancel),this.windowListeners.add(Wn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Wn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,a=t.node.current;a&&ND(a),r(dr)}handleKeyDown(t){if(dg(t)){const{active:r,context:a,options:l}=this.props,{keyboardCodes:u=Mb,coordinateGetter:h=OD,scrollBehavior:m="smooth"}=l,{code:p}=t;if(u.end.includes(p)){this.handleEnd(t);return}if(u.cancel.includes(p)){this.handleCancel(t);return}const{collisionRect:y}=a.current,E=y?{x:y.left,y:y.top}:dr;this.referenceCoordinates||(this.referenceCoordinates=E);const S=h(t,{active:r,context:a.current,currentCoordinates:E});if(S){const b=jo(S,E),C={x:0,y:0},{scrollableAncestors:U}=a.current;for(const B of U){const P=t.code,{isTop:K,isRight:Q,isLeft:Z,isBottom:ut,maxScroll:lt,minScroll:ft}=Ib(B),I=CD(B),w={x:Math.min(P===zt.Right?I.right-I.width/2:I.right,Math.max(P===zt.Right?I.left:I.left+I.width/2,S.x)),y:Math.min(P===zt.Down?I.bottom-I.height/2:I.bottom,Math.max(P===zt.Down?I.top:I.top+I.height/2,S.y))},R=P===zt.Right&&!Q||P===zt.Left&&!Z,V=P===zt.Down&&!ut||P===zt.Up&&!K;if(R&&w.x!==S.x){const M=B.scrollLeft+b.x,z=P===zt.Right&&M<=lt.x||P===zt.Left&&M>=ft.x;if(z&&!b.y){B.scrollTo({left:M,behavior:m});return}z?C.x=B.scrollLeft-M:C.x=P===zt.Right?B.scrollLeft-lt.x:B.scrollLeft-ft.x,C.x&&B.scrollBy({left:-C.x,behavior:m});break}else if(V&&w.y!==S.y){const M=B.scrollTop+b.y,z=P===zt.Down&&M<=lt.y||P===zt.Up&&M>=ft.y;if(z&&!b.x){B.scrollTo({top:M,behavior:m});return}z?C.y=B.scrollTop-M:C.y=P===zt.Down?B.scrollTop-lt.y:B.scrollTop-ft.y,C.y&&B.scrollBy({top:-C.y,behavior:m});break}}this.handleMove(t,Zs(jo(S,this.referenceCoordinates),C))}}}handleMove(t,r){const{onMove:a}=this.props;t.preventDefault(),a(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gg.activators=[{eventName:"onKeyDown",handler:(i,t,r)=>{let{keyboardCodes:a=Mb,onActivation:l}=t,{active:u}=r;const{code:h}=i.nativeEvent;if(a.start.includes(h)){const m=u.activatorNode.current;return m&&i.target!==m?!1:(i.preventDefault(),l?.({event:i.nativeEvent}),!0)}return!1}}];function r0(i){return!!(i&&"distance"in i)}function i0(i){return!!(i&&"delay"in i)}class pg{constructor(t,r,a){var l;a===void 0&&(a=VD(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:u}=t,{target:h}=u;this.props=t,this.events=r,this.document=hl(h),this.documentListeners=new Do(this.document),this.listeners=new Do(a),this.windowListeners=new Do(xn(h)),this.initialCoordinates=(l=ym(u))!=null?l:dr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Wn.Resize,this.handleCancel),this.windowListeners.add(Wn.DragStart,n0),this.windowListeners.add(Wn.VisibilityChange,this.handleCancel),this.windowListeners.add(Wn.ContextMenu,n0),this.documentListeners.add(Wn.Keydown,this.handleKeydown),r){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(i0(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(r0(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:a,onPending:l}=this.props;l(a,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Wn.Click,MD,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Wn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:a,initialCoordinates:l,props:u}=this,{onMove:h,options:{activationConstraint:m}}=u;if(!l)return;const p=(r=ym(t))!=null?r:dr,y=jo(l,p);if(!a&&m){if(r0(m)){if(m.tolerance!=null&&Gd(y,m.tolerance))return this.handleCancel();if(Gd(y,m.distance))return this.handleStart()}if(i0(m)&&Gd(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}t.cancelable&&t.preventDefault(),h(p)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===zt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const LD={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class yg extends pg{constructor(t){const{event:r}=t,a=hl(r.target);super(t,LD,a)}}yg.activators=[{eventName:"onPointerDown",handler:(i,t)=>{let{nativeEvent:r}=i,{onActivation:a}=t;return!r.isPrimary||r.button!==0?!1:(a?.({event:r}),!0)}}];const UD={move:{name:"mousemove"},end:{name:"mouseup"}};var _m;(function(i){i[i.RightClick=2]="RightClick"})(_m||(_m={}));class PD extends pg{constructor(t){super(t,UD,hl(t.event.target))}}PD.activators=[{eventName:"onMouseDown",handler:(i,t)=>{let{nativeEvent:r}=i,{onActivation:a}=t;return r.button===_m.RightClick?!1:(a?.({event:r}),!0)}}];const Fd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class zD extends pg{constructor(t){super(t,Fd)}static setup(){return window.addEventListener(Fd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Fd.move.name,t)};function t(){}}}zD.activators=[{eventName:"onTouchStart",handler:(i,t)=>{let{nativeEvent:r}=i,{onActivation:a}=t;const{touches:l}=r;return l.length>1?!1:(a?.({event:r}),!0)}}];var xo;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(xo||(xo={}));var rf;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(rf||(rf={}));function kD(i){let{acceleration:t,activator:r=xo.Pointer,canScroll:a,draggingRect:l,enabled:u,interval:h=5,order:m=rf.TreeOrder,pointerCoordinates:p,scrollableAncestors:y,scrollableAncestorRects:E,delta:S,threshold:b}=i;const C=jD({delta:S,disabled:!u}),[U,B]=ZC(),P=D.useRef({x:0,y:0}),K=D.useRef({x:0,y:0}),Q=D.useMemo(()=>{switch(r){case xo.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case xo.DraggableRect:return l}},[r,l,p]),Z=D.useRef(null),ut=D.useCallback(()=>{const ft=Z.current;if(!ft)return;const I=P.current.x*K.current.x,w=P.current.y*K.current.y;ft.scrollBy(I,w)},[]),lt=D.useMemo(()=>m===rf.TreeOrder?[...y].reverse():y,[m,y]);D.useEffect(()=>{if(!u||!y.length||!Q){B();return}for(const ft of lt){if(a?.(ft)===!1)continue;const I=y.indexOf(ft),w=E[I];if(!w)continue;const{direction:R,speed:V}=RD(ft,w,Q,t,b);for(const M of["x","y"])C[M][R[M]]||(V[M]=0,R[M]=0);if(V.x>0||V.y>0){B(),Z.current=ft,U(ut,h),P.current=V,K.current=R;return}}P.current={x:0,y:0},K.current={x:0,y:0},B()},[t,ut,a,B,u,h,JSON.stringify(Q),JSON.stringify(C),U,y,lt,E,JSON.stringify(b)])}const BD={x:{[$e.Backward]:!1,[$e.Forward]:!1},y:{[$e.Backward]:!1,[$e.Forward]:!1}};function jD(i){let{delta:t,disabled:r}=i;const a=pm(t);return Wo(l=>{if(r||!a||!l)return BD;const u={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[$e.Backward]:l.x[$e.Backward]||u.x===-1,[$e.Forward]:l.x[$e.Forward]||u.x===1},y:{[$e.Backward]:l.y[$e.Backward]||u.y===-1,[$e.Forward]:l.y[$e.Forward]||u.y===1}}},[r,t,a])}function qD(i,t){const r=t!=null?i.get(t):void 0,a=r?r.node.current:null;return Wo(l=>{var u;return t==null?null:(u=a??l)!=null?u:null},[a,t])}function HD(i,t){return D.useMemo(()=>i.reduce((r,a)=>{const{sensor:l}=a,u=l.activators.map(h=>({eventName:h.eventName,handler:t(h.handler,a)}));return[...r,...u]},[]),[i,t])}var Ho;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Ho||(Ho={}));var Em;(function(i){i.Optimized="optimized"})(Em||(Em={}));const a0=new Map;function GD(i,t){let{dragging:r,dependencies:a,config:l}=t;const[u,h]=D.useState(null),{frequency:m,measure:p,strategy:y}=l,E=D.useRef(i),S=P(),b=Bo(S),C=D.useCallback(function(K){K===void 0&&(K=[]),!b.current&&h(Q=>Q===null?K:Q.concat(K.filter(Z=>!Q.includes(Z))))},[b]),U=D.useRef(null),B=Wo(K=>{if(S&&!r)return a0;if(!K||K===a0||E.current!==i||u!=null){const Q=new Map;for(let Z of i){if(!Z)continue;if(u&&u.length>0&&!u.includes(Z.id)&&Z.rect.current){Q.set(Z.id,Z.rect.current);continue}const ut=Z.node.current,lt=ut?new mg(p(ut),ut):null;Z.rect.current=lt,lt&&Q.set(Z.id,lt)}return Q}return K},[i,u,r,S,p]);return D.useEffect(()=>{E.current=i},[i]),D.useEffect(()=>{S||C()},[r,S]),D.useEffect(()=>{u&&u.length>0&&h(null)},[JSON.stringify(u)]),D.useEffect(()=>{S||typeof m!="number"||U.current!==null||(U.current=setTimeout(()=>{C(),U.current=null},m))},[m,S,C,...a]),{droppableRects:B,measureDroppableContainers:C,measuringScheduled:u!=null};function P(){switch(y){case Ho.Always:return!1;case Ho.BeforeDragging:return r;default:return!r}}}function Ob(i,t){return Wo(r=>i?r||(typeof t=="function"?t(i):i):null,[t,i])}function FD(i,t){return Ob(i,t)}function QD(i){let{callback:t,disabled:r}=i;const a=hg(t),l=D.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(a)},[a,r]);return D.useEffect(()=>()=>l?.disconnect(),[l]),l}function Cf(i){let{callback:t,disabled:r}=i;const a=hg(t),l=D.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(a)},[r]);return D.useEffect(()=>()=>l?.disconnect(),[l]),l}function YD(i){return new mg(dl(i),i)}function s0(i,t,r){t===void 0&&(t=YD);const[a,l]=D.useState(null);function u(){l(p=>{if(!i)return null;if(i.isConnected===!1){var y;return(y=p??r)!=null?y:null}const E=t(i);return JSON.stringify(p)===JSON.stringify(E)?p:E})}const h=QD({callback(p){if(i)for(const y of p){const{type:E,target:S}=y;if(E==="childList"&&S instanceof HTMLElement&&S.contains(i)){u();break}}}}),m=Cf({callback:u});return kr(()=>{u(),i?(m?.observe(i),h?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),h?.disconnect())},[i]),a}function XD(i){const t=Ob(i);return Rb(i,t)}const l0=[];function KD(i){const t=D.useRef(i),r=Wo(a=>i?a&&a!==l0&&i&&t.current&&i.parentNode===t.current.parentNode?a:Rf(i):l0,[i]);return D.useEffect(()=>{t.current=i},[i]),r}function $D(i){const[t,r]=D.useState(null),a=D.useRef(i),l=D.useCallback(u=>{const h=Hd(u.target);h&&r(m=>m?(m.set(h,vm(h)),new Map(m)):null)},[]);return D.useEffect(()=>{const u=a.current;if(i!==u){h(u);const m=i.map(p=>{const y=Hd(p);return y?(y.addEventListener("scroll",l,{passive:!0}),[y,vm(y)]):null}).filter(p=>p!=null);r(m.length?new Map(m):null),a.current=i}return()=>{h(i),h(u)};function h(m){m.forEach(p=>{const y=Hd(p);y?.removeEventListener("scroll",l)})}},[l,i]),D.useMemo(()=>i.length?t?Array.from(t.values()).reduce((u,h)=>Zs(u,h),dr):Vb(i):dr,[i,t])}function o0(i,t){t===void 0&&(t=[]);const r=D.useRef(null);return D.useEffect(()=>{r.current=null},t),D.useEffect(()=>{const a=i!==dr;a&&!r.current&&(r.current=i),!a&&r.current&&(r.current=null)},[i]),r.current?jo(i,r.current):dr}function ZD(i){D.useEffect(()=>{if(!wf)return;const t=i.map(r=>{let{sensor:a}=r;return a.setup==null?void 0:a.setup()});return()=>{for(const r of t)r?.()}},i.map(t=>{let{sensor:r}=t;return r}))}function JD(i,t){return D.useMemo(()=>i.reduce((r,a)=>{let{eventName:l,handler:u}=a;return r[l]=h=>{u(h,t)},r},{}),[i,t])}function Lb(i){return D.useMemo(()=>i?TD(i):null,[i])}const u0=[];function WD(i,t){t===void 0&&(t=dl);const[r]=i,a=Lb(r?xn(r):null),[l,u]=D.useState(u0);function h(){u(()=>i.length?i.map(p=>Nb(p)?a:new mg(t(p),p)):u0)}const m=Cf({callback:h});return kr(()=>{m?.disconnect(),h(),i.forEach(p=>m?.observe(p))},[i]),l}function tx(i){if(!i)return null;if(i.children.length>1)return i;const t=i.children[0];return Jo(t)?t:i}function ex(i){let{measure:t}=i;const[r,a]=D.useState(null),l=D.useCallback(y=>{for(const{target:E}of y)if(Jo(E)){a(S=>{const b=t(E);return S?{...S,width:b.width,height:b.height}:b});break}},[t]),u=Cf({callback:l}),h=D.useCallback(y=>{const E=tx(y);u?.disconnect(),E&&u?.observe(E),a(E?t(E):null)},[t,u]),[m,p]=ef(h);return D.useMemo(()=>({nodeRef:m,rect:r,setRef:p}),[r,m,p])}const nx=[{sensor:yg,options:{}},{sensor:gg,options:{}}],rx={current:{}},Pc={draggable:{measure:e0},droppable:{measure:e0,strategy:Ho.WhileDragging,frequency:Em.Optimized},dragOverlay:{measure:dl}};class No extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,a;return(r=(a=this.get(t))==null?void 0:a.node.current)!=null?r:void 0}}const ix={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new No,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Pc,measureDroppableContainers:nf,windowRect:null,measuringScheduled:!1},ax={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nf,draggableNodes:new Map,over:null,measureDroppableContainers:nf},Df=D.createContext(ax),Ub=D.createContext(ix);function sx(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new No}}}function lx(i,t){switch(t.type){case Be.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Be.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:t.coordinates.x-i.draggable.initialCoordinates.x,y:t.coordinates.y-i.draggable.initialCoordinates.y}}};case Be.DragEnd:case Be.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Be.RegisterDroppable:{const{element:r}=t,{id:a}=r,l=new No(i.droppable.containers);return l.set(a,r),{...i,droppable:{...i.droppable,containers:l}}}case Be.SetDroppableDisabled:{const{id:r,key:a,disabled:l}=t,u=i.droppable.containers.get(r);if(!u||a!==u.key)return i;const h=new No(i.droppable.containers);return h.set(r,{...u,disabled:l}),{...i,droppable:{...i.droppable,containers:h}}}case Be.UnregisterDroppable:{const{id:r,key:a}=t,l=i.droppable.containers.get(r);if(!l||a!==l.key)return i;const u=new No(i.droppable.containers);return u.delete(r),{...i,droppable:{...i.droppable,containers:u}}}default:return i}}function ox(i){let{disabled:t}=i;const{active:r,activatorEvent:a,draggableNodes:l}=D.useContext(Df),u=pm(a),h=pm(r?.id);return D.useEffect(()=>{if(!t&&!a&&u&&h!=null){if(!dg(u)||document.activeElement===u.target)return;const m=l.get(h);if(!m)return;const{activatorNode:p,node:y}=m;if(!p.current&&!y.current)return;requestAnimationFrame(()=>{for(const E of[p.current,y.current]){if(!E)continue;const S=tD(E);if(S){S.focus();break}}})}},[a,t,l,h,u]),null}function ux(i,t){let{transform:r,...a}=t;return i!=null&&i.length?i.reduce((l,u)=>u({transform:l,...a}),r):r}function cx(i){return D.useMemo(()=>({draggable:{...Pc.draggable,...i?.draggable},droppable:{...Pc.droppable,...i?.droppable},dragOverlay:{...Pc.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function fx(i){let{activeNode:t,measure:r,initialRect:a,config:l=!0}=i;const u=D.useRef(!1),{x:h,y:m}=typeof l=="boolean"?{x:l,y:l}:l;kr(()=>{if(!h&&!m||!t){u.current=!1;return}if(u.current||!a)return;const y=t?.node.current;if(!y||y.isConnected===!1)return;const E=r(y),S=Rb(E,a);if(h||(S.x=0),m||(S.y=0),u.current=!0,Math.abs(S.x)>0||Math.abs(S.y)>0){const b=Cb(y);b&&b.scrollBy({top:S.y,left:S.x})}},[t,h,m,a,r])}const Pb=D.createContext({...dr,scaleX:1,scaleY:1});var Ji;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Ji||(Ji={}));const hx=D.memo(function(t){var r,a,l,u;let{id:h,accessibility:m,autoScroll:p=!0,children:y,sensors:E=nx,collisionDetection:S=gD,measuring:b,modifiers:C,...U}=t;const B=D.useReducer(lx,void 0,sx),[P,K]=B,[Q,Z]=sD(),[ut,lt]=D.useState(Ji.Uninitialized),ft=ut===Ji.Initialized,{draggable:{active:I,nodes:w,translate:R},droppable:{containers:V}}=P,M=I!=null?w.get(I):null,z=D.useRef({initial:null,translated:null}),x=D.useMemo(()=>{var ae;return I!=null?{id:I,data:(ae=M?.data)!=null?ae:rx,rect:z}:null},[I,M]),Zt=D.useRef(null),[Jt,X]=D.useState(null),[at,gt]=D.useState(null),Ct=Bo(U,Object.values(U)),O=tu("DndDescribedBy",h),nt=D.useMemo(()=>V.getEnabled(),[V]),st=cx(b),{droppableRects:it,measureDroppableContainers:mt,measuringScheduled:At}=GD(nt,{dragging:ft,dependencies:[R.x,R.y],config:st.droppable}),pt=qD(w,I),he=D.useMemo(()=>at?ym(at):null,[at]),Pt=nr(),we=FD(pt,st.draggable.measure);fx({activeNode:I!=null?w.get(I):null,config:Pt.layoutShiftCompensation,initialRect:we,measure:st.draggable.measure});const It=s0(pt,st.draggable.measure,we),dn=s0(pt?pt.parentElement:null),He=D.useRef({activatorEvent:null,active:null,activeNode:pt,collisionRect:null,collisions:null,droppableRects:it,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Tn=V.getNodeFor((r=He.current.over)==null?void 0:r.id),Ze=ex({measure:st.dragOverlay.measure}),kn=(a=Ze.nodeRef.current)!=null?a:pt,er=ft?(l=Ze.rect)!=null?l:It:null,mn=!!(Ze.nodeRef.current&&Ze.rect),Wa=XD(mn?null:It),qr=Lb(kn?xn(kn):null),gn=KD(ft?Tn??pt:null),Bn=WD(gn),Ai=ux(C,{transform:{x:R.x-Wa.x,y:R.y-Wa.y,scaleX:1,scaleY:1},activatorEvent:at,active:x,activeNodeRect:It,containerNodeRect:dn,draggingNodeRect:er,over:He.current.over,overlayNodeRect:Ze.rect,scrollableAncestors:gn,scrollableAncestorRects:Bn,windowRect:qr}),Hr=he?Zs(he,R):null,wi=$D(gn),ts=o0(wi),ue=o0(wi,[It]),Ot=Zs(Ai,ts),Re=er?vD(er,Ai):null,pe=x&&Re?S({active:x,collisionRect:Re,droppableRects:it,droppableContainers:nt,pointerCoordinates:Hr}):null,da=wb(pe,"id"),[jn,mr]=D.useState(null),Gr=mn?Ai:Zs(Ai,ue),Fr=pD(Gr,(u=jn?.rect)!=null?u:null,It),pn=D.useRef(null),Qr=D.useCallback((ae,Oe)=>{let{sensor:ce,options:Sn}=Oe;if(Zt.current==null)return;const Ee=w.get(Zt.current);if(!Ee)return;const Ce=ae.nativeEvent,Le=new ce({active:Zt.current,activeNode:Ee,event:Ce,options:Sn,context:He,onAbort(Rt){if(!w.get(Rt))return;const{onDragAbort:Ft}=Ct.current,ye={id:Rt};Ft?.(ye),Q({type:"onDragAbort",event:ye})},onPending(Rt,Wt,Ft,ye){if(!w.get(Rt))return;const{onDragPending:Xr}=Ct.current,Je={id:Rt,constraint:Wt,initialCoordinates:Ft,offset:ye};Xr?.(Je),Q({type:"onDragPending",event:Je})},onStart(Rt){const Wt=Zt.current;if(Wt==null)return;const Ft=w.get(Wt);if(!Ft)return;const{onDragStart:ye}=Ct.current,ir={activatorEvent:Ce,active:{id:Wt,data:Ft.data,rect:z}};yo.unstable_batchedUpdates(()=>{ye?.(ir),lt(Ji.Initializing),K({type:Be.DragStart,initialCoordinates:Rt,active:Wt}),Q({type:"onDragStart",event:ir}),X(pn.current),gt(Ce)})},onMove(Rt){K({type:Be.DragMove,coordinates:Rt})},onEnd:rr(Be.DragEnd),onCancel:rr(Be.DragCancel)});pn.current=Le;function rr(Rt){return async function(){const{active:Ft,collisions:ye,over:ir,scrollAdjustedTranslate:Xr}=He.current;let Je=null;if(Ft&&Xr){const{cancelDrop:gr}=Ct.current;Je={activatorEvent:Ce,active:Ft,collisions:ye,delta:Xr,over:ir},Rt===Be.DragEnd&&typeof gr=="function"&&await Promise.resolve(gr(Je))&&(Rt=Be.DragCancel)}Zt.current=null,yo.unstable_batchedUpdates(()=>{K({type:Rt}),lt(Ji.Uninitialized),mr(null),X(null),gt(null),pn.current=null;const gr=Rt===Be.DragEnd?"onDragEnd":"onDragCancel";if(Je){const ar=Ct.current[gr];ar?.(Je),Q({type:gr,event:Je})}})}}},[w]),Yr=D.useCallback((ae,Oe)=>(ce,Sn)=>{const Ee=ce.nativeEvent,Ce=w.get(Sn);if(Zt.current!==null||!Ce||Ee.dndKit||Ee.defaultPrevented)return;const Le={active:Ce};ae(ce,Oe.options,Le)===!0&&(Ee.dndKit={capturedBy:Oe.sensor},Zt.current=Sn,Qr(ce,Oe))},[w,Qr]),Ri=HD(E,Yr);ZD(E),kr(()=>{It&&ut===Ji.Initializing&&lt(Ji.Initialized)},[It,ut]),D.useEffect(()=>{const{onDragMove:ae}=Ct.current,{active:Oe,activatorEvent:ce,collisions:Sn,over:Ee}=He.current;if(!Oe||!ce)return;const Ce={active:Oe,activatorEvent:ce,collisions:Sn,delta:{x:Ot.x,y:Ot.y},over:Ee};yo.unstable_batchedUpdates(()=>{ae?.(Ce),Q({type:"onDragMove",event:Ce})})},[Ot.x,Ot.y]),D.useEffect(()=>{const{active:ae,activatorEvent:Oe,collisions:ce,droppableContainers:Sn,scrollAdjustedTranslate:Ee}=He.current;if(!ae||Zt.current==null||!Oe||!Ee)return;const{onDragOver:Ce}=Ct.current,Le=Sn.get(da),rr=Le&&Le.rect.current?{id:Le.id,rect:Le.rect.current,data:Le.data,disabled:Le.disabled}:null,Rt={active:ae,activatorEvent:Oe,collisions:ce,delta:{x:Ee.x,y:Ee.y},over:rr};yo.unstable_batchedUpdates(()=>{mr(rr),Ce?.(Rt),Q({type:"onDragOver",event:Rt})})},[da]),kr(()=>{He.current={activatorEvent:at,active:x,activeNode:pt,collisionRect:Re,collisions:pe,droppableRects:it,draggableNodes:w,draggingNode:kn,draggingNodeRect:er,droppableContainers:V,over:jn,scrollableAncestors:gn,scrollAdjustedTranslate:Ot},z.current={initial:er,translated:Re}},[x,pt,pe,Re,w,kn,er,it,V,jn,gn,Ot]),kD({...Pt,delta:R,draggingRect:Re,pointerCoordinates:Hr,scrollableAncestors:gn,scrollableAncestorRects:Bn});const ma=D.useMemo(()=>({active:x,activeNode:pt,activeNodeRect:It,activatorEvent:at,collisions:pe,containerNodeRect:dn,dragOverlay:Ze,draggableNodes:w,droppableContainers:V,droppableRects:it,over:jn,measureDroppableContainers:mt,scrollableAncestors:gn,scrollableAncestorRects:Bn,measuringConfiguration:st,measuringScheduled:At,windowRect:qr}),[x,pt,It,at,pe,dn,Ze,w,V,it,jn,mt,gn,Bn,st,At,qr]),ga=D.useMemo(()=>({activatorEvent:at,activators:Ri,active:x,activeNodeRect:It,ariaDescribedById:{draggable:O},dispatch:K,draggableNodes:w,over:jn,measureDroppableContainers:mt}),[at,Ri,x,It,K,O,w,jn,mt]);return bn.createElement(Tb.Provider,{value:Z},bn.createElement(Df.Provider,{value:ga},bn.createElement(Ub.Provider,{value:ma},bn.createElement(Pb.Provider,{value:Fr},y)),bn.createElement(ox,{disabled:m?.restoreFocus===!1})),bn.createElement(uD,{...m,hiddenTextDescribedById:O}));function nr(){const ae=Jt?.autoScrollEnabled===!1,Oe=typeof p=="object"?p.enabled===!1:p===!1,ce=ft&&!ae&&!Oe;return typeof p=="object"?{...p,enabled:ce}:{enabled:ce}}}),dx=D.createContext(null),c0="button",mx="Draggable";function gx(i){let{id:t,data:r,disabled:a=!1,attributes:l}=i;const u=tu(mx),{activators:h,activatorEvent:m,active:p,activeNodeRect:y,ariaDescribedById:E,draggableNodes:S,over:b}=D.useContext(Df),{role:C=c0,roleDescription:U="draggable",tabIndex:B=0}=l??{},P=p?.id===t,K=D.useContext(P?Pb:dx),[Q,Z]=ef(),[ut,lt]=ef(),ft=JD(h,t),I=Bo(r);kr(()=>(S.set(t,{id:t,key:u,node:Q,activatorNode:ut,data:I}),()=>{const R=S.get(t);R&&R.key===u&&S.delete(t)}),[S,t]);const w=D.useMemo(()=>({role:C,tabIndex:B,"aria-disabled":a,"aria-pressed":P&&C===c0?!0:void 0,"aria-roledescription":U,"aria-describedby":E.draggable}),[a,C,B,P,U,E.draggable]);return{active:p,activatorEvent:m,activeNodeRect:y,attributes:w,isDragging:P,listeners:a?void 0:ft,node:Q,over:b,setNodeRef:Z,setActivatorNodeRef:lt,transform:K}}function px(){return D.useContext(Ub)}const yx="Droppable",vx={timeout:25};function _x(i){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:l}=i;const u=tu(yx),{active:h,dispatch:m,over:p,measureDroppableContainers:y}=D.useContext(Df),E=D.useRef({disabled:r}),S=D.useRef(!1),b=D.useRef(null),C=D.useRef(null),{disabled:U,updateMeasurementsFor:B,timeout:P}={...vx,...l},K=Bo(B??a),Q=D.useCallback(()=>{if(!S.current){S.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{y(Array.isArray(K.current)?K.current:[K.current]),C.current=null},P)},[P]),Z=Cf({callback:Q,disabled:U||!h}),ut=D.useCallback((w,R)=>{Z&&(R&&(Z.unobserve(R),S.current=!1),w&&Z.observe(w))},[Z]),[lt,ft]=ef(ut),I=Bo(t);return D.useEffect(()=>{!Z||!lt.current||(Z.disconnect(),S.current=!1,Z.observe(lt.current))},[lt,Z]),D.useEffect(()=>(m({type:Be.RegisterDroppable,element:{id:a,key:u,disabled:r,node:lt,rect:b,data:I}}),()=>m({type:Be.UnregisterDroppable,key:u,id:a})),[a]),D.useEffect(()=>{r!==E.current.disabled&&(m({type:Be.SetDroppableDisabled,id:a,key:u,disabled:r}),E.current.disabled=r)},[a,u,r,m]),{active:h,rect:b,isOver:p?.id===a,node:lt,over:p,setNodeRef:ft}}function vg(i,t,r){const a=i.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function Ex(i,t){return i.reduce((r,a,l)=>{const u=t.get(a);return u&&(r[l]=u),r},Array(i.length))}function Rc(i){return i!==null&&i>=0}function bx(i,t){if(i===t)return!0;if(i.length!==t.length)return!1;for(let r=0;r<i.length;r++)if(i[r]!==t[r])return!1;return!0}function Tx(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const zb=i=>{let{rects:t,activeIndex:r,overIndex:a,index:l}=i;const u=vg(t,a,r),h=t[l],m=u[l];return!m||!h?null:{x:m.left-h.left,y:m.top-h.top,scaleX:m.width/h.width,scaleY:m.height/h.height}},Cc={scaleX:1,scaleY:1},Sx=i=>{var t;let{activeIndex:r,activeNodeRect:a,index:l,rects:u,overIndex:h}=i;const m=(t=u[r])!=null?t:a;if(!m)return null;if(l===r){const y=u[h];return y?{x:0,y:r<h?y.top+y.height-(m.top+m.height):y.top-m.top,...Cc}:null}const p=Ax(u,l,r);return l>r&&l<=h?{x:0,y:-m.height-p,...Cc}:l<r&&l>=h?{x:0,y:m.height+p,...Cc}:{x:0,y:0,...Cc}};function Ax(i,t,r){const a=i[t],l=i[t-1],u=i[t+1];return a?r<t?l?a.top-(l.top+l.height):u?u.top-(a.top+a.height):0:u?u.top-(a.top+a.height):l?a.top-(l.top+l.height):0:0}const kb="Sortable",Bb=bn.createContext({activeIndex:-1,containerId:kb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:zb,disabled:{draggable:!1,droppable:!1}});function wx(i){let{children:t,id:r,items:a,strategy:l=zb,disabled:u=!1}=i;const{active:h,dragOverlay:m,droppableRects:p,over:y,measureDroppableContainers:E}=px(),S=tu(kb,r),b=m.rect!==null,C=D.useMemo(()=>a.map(ft=>typeof ft=="object"&&"id"in ft?ft.id:ft),[a]),U=h!=null,B=h?C.indexOf(h.id):-1,P=y?C.indexOf(y.id):-1,K=D.useRef(C),Q=!bx(C,K.current),Z=P!==-1&&B===-1||Q,ut=Tx(u);kr(()=>{Q&&U&&E(C)},[Q,C,U,E]),D.useEffect(()=>{K.current=C},[C]);const lt=D.useMemo(()=>({activeIndex:B,containerId:S,disabled:ut,disableTransforms:Z,items:C,overIndex:P,useDragOverlay:b,sortedRects:Ex(C,p),strategy:l}),[B,S,ut.draggable,ut.droppable,Z,C,P,p,b,l]);return bn.createElement(Bb.Provider,{value:lt},t)}const Rx=i=>{let{id:t,items:r,activeIndex:a,overIndex:l}=i;return vg(r,a,l).indexOf(t)},Cx=i=>{let{containerId:t,isSorting:r,wasDragging:a,index:l,items:u,newIndex:h,previousItems:m,previousContainerId:p,transition:y}=i;return!y||!a||m!==u&&l===h?!1:r?!0:h!==l&&t===p},Dx={duration:200,easing:"ease"},jb="transform",xx=qo.Transition.toString({property:jb,duration:0,easing:"linear"}),Nx={roleDescription:"sortable"};function Ix(i){let{disabled:t,index:r,node:a,rect:l}=i;const[u,h]=D.useState(null),m=D.useRef(r);return kr(()=>{if(!t&&r!==m.current&&a.current){const p=l.current;if(p){const y=dl(a.current,{ignoreTransform:!0}),E={x:p.left-y.left,y:p.top-y.top,scaleX:p.width/y.width,scaleY:p.height/y.height};(E.x||E.y)&&h(E)}}r!==m.current&&(m.current=r)},[t,r,a,l]),D.useEffect(()=>{u&&h(null)},[u]),u}function Vx(i){let{animateLayoutChanges:t=Cx,attributes:r,disabled:a,data:l,getNewIndex:u=Rx,id:h,strategy:m,resizeObserverConfig:p,transition:y=Dx}=i;const{items:E,containerId:S,activeIndex:b,disabled:C,disableTransforms:U,sortedRects:B,overIndex:P,useDragOverlay:K,strategy:Q}=D.useContext(Bb),Z=Mx(a,C),ut=E.indexOf(h),lt=D.useMemo(()=>({sortable:{containerId:S,index:ut,items:E},...l}),[S,l,ut,E]),ft=D.useMemo(()=>E.slice(E.indexOf(h)),[E,h]),{rect:I,node:w,isOver:R,setNodeRef:V}=_x({id:h,data:lt,disabled:Z.droppable,resizeObserverConfig:{updateMeasurementsFor:ft,...p}}),{active:M,activatorEvent:z,activeNodeRect:x,attributes:Zt,setNodeRef:Jt,listeners:X,isDragging:at,over:gt,setActivatorNodeRef:Ct,transform:O}=gx({id:h,data:lt,attributes:{...Nx,...r},disabled:Z.draggable}),nt=$C(V,Jt),st=!!M,it=st&&!U&&Rc(b)&&Rc(P),mt=!K&&at,At=mt&&it?O:null,he=it?At??(m??Q)({rects:B,activeNodeRect:x,activeIndex:b,overIndex:P,index:ut}):null,Pt=Rc(b)&&Rc(P)?u({id:h,items:E,activeIndex:b,overIndex:P}):ut,we=M?.id,It=D.useRef({activeId:we,items:E,newIndex:Pt,containerId:S}),dn=E!==It.current.items,He=t({active:M,containerId:S,isDragging:at,isSorting:st,id:h,index:ut,items:E,newIndex:It.current.newIndex,previousItems:It.current.items,previousContainerId:It.current.containerId,transition:y,wasDragging:It.current.activeId!=null}),Tn=Ix({disabled:!He,index:ut,node:w,rect:I});return D.useEffect(()=>{st&&It.current.newIndex!==Pt&&(It.current.newIndex=Pt),S!==It.current.containerId&&(It.current.containerId=S),E!==It.current.items&&(It.current.items=E)},[st,Pt,S,E]),D.useEffect(()=>{if(we===It.current.activeId)return;if(we&&!It.current.activeId){It.current.activeId=we;return}const kn=setTimeout(()=>{It.current.activeId=we},50);return()=>clearTimeout(kn)},[we]),{active:M,activeIndex:b,attributes:Zt,data:lt,rect:I,index:ut,newIndex:Pt,items:E,isOver:R,isSorting:st,isDragging:at,listeners:X,node:w,overIndex:P,over:gt,setNodeRef:nt,setActivatorNodeRef:Ct,setDroppableNodeRef:V,setDraggableNodeRef:Jt,transform:Tn??he,transition:Ze()};function Ze(){if(Tn||dn&&It.current.newIndex===ut)return xx;if(!(mt&&!dg(z)||!y)&&(st||He))return qo.Transition.toString({...y,property:jb})}}function Mx(i,t){var r,a;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(r=i?.draggable)!=null?r:t.draggable,droppable:(a=i?.droppable)!=null?a:t.droppable}}function af(i){if(!i)return!1;const t=i.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Ox=[zt.Down,zt.Right,zt.Up,zt.Left],Lx=(i,t)=>{let{context:{active:r,collisionRect:a,droppableRects:l,droppableContainers:u,over:h,scrollableAncestors:m}}=t;if(Ox.includes(i.code)){if(i.preventDefault(),!r||!a)return;const p=[];u.getEnabled().forEach(S=>{if(!S||S!=null&&S.disabled)return;const b=l.get(S.id);if(b)switch(i.code){case zt.Down:a.top<b.top&&p.push(S);break;case zt.Up:a.top>b.top&&p.push(S);break;case zt.Left:a.left>b.left&&p.push(S);break;case zt.Right:a.left<b.left&&p.push(S);break}});const y=dD({collisionRect:a,droppableRects:l,droppableContainers:p});let E=wb(y,"id");if(E===h?.id&&y.length>1&&(E=y[1].id),E!=null){const S=u.get(r.id),b=u.get(E),C=b?l.get(b.id):null,U=b?.node.current;if(U&&C&&S&&b){const P=Rf(U).some((ft,I)=>m[I]!==ft),K=qb(S,b),Q=Ux(S,b),Z=P||!K?{x:0,y:0}:{x:Q?a.width-C.width:0,y:Q?a.height-C.height:0},ut={x:C.left,y:C.top};return Z.x&&Z.y?ut:jo(ut,Z)}}}};function qb(i,t){return!af(i)||!af(t)?!1:i.data.current.sortable.containerId===t.data.current.sortable.containerId}function Ux(i,t){return!af(i)||!af(t)||!qb(i,t)?!1:i.data.current.sortable.index<t.data.current.sortable.index}const f0=i=>i.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");function h0(){const{id:i}=J1(),t=A0(),[r,a]=D.useState("multi"),[l,u]=D.useState({title:"",coverUrl:"",type:"collection",volumes:[]});D.useEffect(()=>{i&&(async()=>{const C=bo(Ys,"collections",i),U=await jC(C);if(U.exists()){const B=U.data();u({id:U.id,...B}),a(B.type==="single"?"single":"multi")}})()},[i]);const h=b=>{const{name:C,value:U}=b.target;u(B=>({...B,[C]:U}))},m=(b,C,U)=>{const B=[...l.volumes];B[b]={...B[b],[C]:U},u(P=>({...P,volumes:B}))},p=()=>{u(b=>({...b,volumes:[...b.volumes,{id:b.volumes.length+1,title:"",coverUrl:"",owned:!1}]}))},y=b=>{const C=l.volumes.filter((U,B)=>B!==b).map((U,B)=>({...U,id:B+1}));u(U=>({...U,volumes:C}))},E=async()=>{try{const b=f0(l.title),C={...l,type:r==="single"?"single":"collection"};if(i){const U=bo(Ys,"collections",i);await _b(U,C)}else{const U=bo(Ys,"collections",b);await HC(U,C)}t("/")}catch(b){console.error("Erro ao salvar coleção: ",b)}},S=async()=>{if(window.confirm("Tem certeza que deseja excluir esta coleção?"))try{await GC(bo(Ys,"collections",i)),t("/")}catch(b){console.error("Erro ao excluir coleção: ",b)}};return W.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 w-full py-8",children:W.jsx("div",{className:"flex justify-center w-full px-4",children:W.jsxs("div",{className:"w-full max-w-4xl bg-gray-800 rounded-xl shadow-md p-6 border border-gray-700",children:[W.jsxs("div",{className:"flex justify-between items-center mb-6",children:[W.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:i?"Editar Coleção":"Adicionar Nova Coleção"}),W.jsx("button",{onClick:()=>t("/"),className:"text-gray-400 hover:text-gray-100 px-4 py-2 rounded-lg transition-colors",children:"Home"})]}),W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tipo de Coleção"}),W.jsxs("div",{className:"flex space-x-4",children:[W.jsxs("label",{className:"flex items-center",children:[W.jsx("input",{type:"radio",value:"multi",checked:r==="multi",onChange:()=>a("multi"),className:"mr-2"}),"Múltiplos Volumes"]}),W.jsxs("label",{className:"flex items-center",children:[W.jsx("input",{type:"radio",value:"single",checked:r==="single",onChange:()=>a("single"),className:"mr-2"}),"Volume Único"]})]})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nome da Coleção"}),W.jsx("input",{type:"text",name:"title",value:l.title,onChange:h,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"Ex: Chainsaw Man"}),l.title&&W.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["ID da coleção: ",f0(l.title)]})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Link da Capa"}),W.jsx("input",{type:"text",name:"coverUrl",value:l.coverUrl,onChange:h,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"https://exemplo.com/capa.jpg"}),l.coverUrl&&W.jsxs("div",{className:"mt-3",children:[W.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Preview da Capa Principal:"}),W.jsx("img",{src:l.coverUrl,alt:"Preview da capa",className:"h-60 w-44 object-contain border border-gray-600 rounded-md bg-gray-900 mx-auto",onError:b=>{b.target.style.display="none"}})]})]}),r==="multi"?W.jsxs("div",{children:[W.jsxs("div",{className:"flex justify-between items-center mb-4",children:[W.jsx("h3",{className:"text-lg font-medium text-gray-300",children:"Volumes"}),W.jsxs("button",{onClick:p,className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md transition-colors",children:[W.jsx("span",{className:"text-lg mr-1",children:"+"})," Adicionar Volume"]})]}),W.jsx("div",{className:"space-y-4",children:l.volumes.map((b,C)=>W.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 bg-gray-750",children:[W.jsxs("div",{className:"flex justify-between items-center mb-3",children:[W.jsxs("h4",{className:"font-medium text-gray-300",children:["Volume ",b.id]}),W.jsx("button",{onClick:()=>y(C),className:"text-red-400 hover:text-red-300 transition-colors",children:"Remover"})]}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome do Volume"}),W.jsx("input",{type:"text",value:b.title,onChange:U=>m(C,"title",U.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"Ex: Chainsaw Man #1"})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Link da Capa"}),W.jsxs("div",{className:"flex gap-2 items-start",children:[W.jsx("input",{type:"text",value:b.coverUrl,onChange:U=>m(C,"coverUrl",U.target.value),className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"https://exemplo.com/volume1.jpg"}),b.coverUrl&&W.jsx("img",{src:b.coverUrl,alt:"Preview",className:"h-16 w-12 object-cover border border-gray-600 rounded ml-2",onError:U=>{U.target.style.display="none"}})]}),b.coverUrl&&W.jsxs("div",{className:"mt-2",children:[W.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Preview Grande:"}),W.jsx("img",{src:b.coverUrl,alt:"Preview grande",className:"h-40 w-28 object-contain border border-gray-600 rounded-md bg-gray-900 mx-auto",onError:U=>{U.target.style.display="none"}})]})]})]})]},C))})]}):W.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 bg-gray-750",children:[W.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-4",children:"Volume Único"}),W.jsx("p",{className:"text-gray-400 text-sm",children:"Para mangás de volume único, as informações da capa e título já foram preenchidas acima."})]}),W.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-700",children:[i&&W.jsx("button",{onClick:S,className:"px-4 py-2 bg-red-700 text-white rounded-md hover:bg-red-600 transition-colors",children:"Excluir Coleção"}),W.jsxs("button",{onClick:E,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-500 transition-colors ml-auto disabled:opacity-50 disabled:cursor-not-allowed",disabled:!l.title||!l.coverUrl||r==="multi"&&l.volumes.length===0,children:[i?"Atualizar":"Salvar"," Coleção"]})]})]})]})})})}function Px({collection:i,onCollectionClick:t,onEditClick:r}){const{attributes:a,listeners:l,setNodeRef:u,transform:h,transition:m,isDragging:p}=Vx({id:i.id}),y={transform:qo.Transform.toString(h),transition:m,opacity:p?.5:1};return W.jsxs("div",{ref:u,style:y,...a,...l,className:"bg-gray-800 shadow-lg rounded-xl p-4 cursor-pointer hover:scale-105 transition-transform duration-300 group relative border border-gray-700",children:[W.jsx("img",{src:i.coverUrl,alt:i.title,className:"rounded-lg mx-auto object-cover shadow-md",style:{width:"150px",height:"225px"},onClick:()=>t(i)}),W.jsx("h2",{className:"text-center font-bold mt-3 text-gray-100",children:i.title}),W.jsx("p",{className:"text-center text-sm text-gray-400 mt-1",children:i.type==="single"?"Volume Único":`${i.volumes.filter(E=>E.owned).length}/${i.volumes.length} volumes`}),W.jsx("a",{href:`/edit-collection/${i.id}`,className:"absolute top-3 right-3 bg-gray-900 bg-opacity-80 text-gray-100 p-2 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",onClick:E=>{E.stopPropagation(),r(i)},children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})}function zx(){const[i,t]=D.useState([]),[r,a]=D.useState(null),[l,u]=D.useState("alphabetical"),[h,m]=D.useState(!1),p=cD(J_(yg),J_(gg,{coordinateGetter:Lx}));D.useEffect(()=>{(async()=>{const U=(await qC(RC(Ys,"collections"))).docs.map(B=>({id:B.id,...B.data()}));l==="alphabetical"&&U.sort((B,P)=>B.title.localeCompare(P.title)),t(U)})()},[l]);const y=async(b,C)=>{const U=bo(Ys,"collections",b),B=i.find(Q=>Q.id===b),P=B.volumes.map(Q=>Q.id===C?{...Q,owned:!Q.owned}:Q);await _b(U,{volumes:P});const K={...B,volumes:P};t(Q=>Q.map(Z=>Z.id===b?K:Z)),a(K)},E=b=>{const{active:C,over:U}=b;C.id!==U.id&&t(B=>{const P=B.findIndex(Q=>Q.id===C.id),K=B.findIndex(Q=>Q.id===U.id);return vg(B,P,K)})},S=()=>{if(l==="custom"){u("alphabetical"),m(!1);const b=[...i].sort((C,U)=>C.title.localeCompare(U.title));t(b)}else u("custom")};return W.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 w-full max-w-none",children:[W.jsxs("div",{className:"flex flex-col items-center",children:[W.jsx("h1",{className:"text-4xl font-bold text-center mb-2 text-blue-400",children:"MyMangaList"}),W.jsx("p",{className:"text-gray-400 mb-6",children:"Loucura"}),W.jsx("div",{className:"flex gap-4 mb-6",children:W.jsx(Cm,{to:"/add-collection",className:"bg-blue-600 hover:bg-blue-700 text-white! font-bold! px-6 py-3 rounded-lg text-lg transition-colors shadow-lg",children:"Adicionar Coleção"})}),W.jsxs("div",{className:"flex gap-2 mb-6",children:[W.jsxs("p",{onClick:S,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold px-4 py-2 rounded-lg transition-colors flex items-center gap-2",children:["Name",l==="custom"&&!h?W.jsx("faPencilAlt",{}):null,h?W.jsx("faCheck",{}):null]}),l==="custom"&&W.jsx("button",{onClick:()=>m(!h),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold px-6 py-3 rounded-lg text-lg transition-colors shadow-lg",children:h?"Salvar Ordem":"Editar Ordem"})]}),h&&W.jsx("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3 mb-4",children:W.jsx("p",{className:"text-yellow-200 text-sm",children:"Arraste e solte para reorganizar as coleções."})})]}),W.jsx("div",{className:"w-full px-4 py-8",children:i.length===0?W.jsxs("div",{className:"text-center py-12",children:[W.jsx("div",{className:"text-gray-500 text-6xl mb-4",children:"📚"}),W.jsx("h2",{className:"text-xl text-gray-400 mb-2",children:"Nenhuma coleção encontrada"}),W.jsx("p",{className:"text-gray-500",children:"Comece adicionando sua primeira coleção de mangás!"})]}):l==="custom"&&h?W.jsx("div",{className:"flex justify-center",children:W.jsx(hx,{sensors:p,collisionDetection:hD,onDragEnd:E,children:W.jsx(wx,{items:i,strategy:Sx,children:W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 w-full max-w-7xl",children:i.map(b=>W.jsx(Px,{collection:b,onCollectionClick:a,onEditClick:C=>window.location.href=`/edit-collection/${C.id}`},b.id))})})})}):W.jsx("div",{className:"flex justify-center",children:W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 w-full max-w-7xl",children:i.map(b=>W.jsxs("div",{className:"bg-gray-800 shadow-lg rounded-xl p-4 cursor-pointer hover:scale-105 transition-transform duration-300 group relative border border-gray-700",children:[W.jsx("img",{src:b.coverUrl,alt:b.title,className:"rounded-lg mx-auto object-cover shadow-md",style:{width:"150px",height:"225px"},onClick:()=>a(b)}),W.jsx("h2",{className:"text-center font-bold mt-3 text-gray-100",children:b.title}),W.jsx("p",{className:"text-center text-sm text-gray-400 mt-1",children:b.type==="single"?"Volume Único":`${b.volumes.filter(C=>C.owned).length}/${b.volumes.length} volumes`}),W.jsx("a",{href:`/edit-collection/${b.id}`,className:"absolute top-3 right-3 bg-gray-900 bg-opacity-80 text-gray-100 p-2 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]},b.id))})})}),r&&W.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",children:W.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col border border-gray-700 shadow-2xl",children:[W.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-4 mb-4",children:[W.jsxs("div",{children:[W.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:r.title}),W.jsx("p",{className:"text-gray-400",children:r.type==="single"?"Volume Único":`${r.volumes.filter(b=>b.owned).length}/${r.volumes.length} volumes adquiridos`})]}),W.jsx("button",{className:"text-gray-400 hover:text-gray-100 text-3xl transition-colors",onClick:()=>a(null),children:"×"})]}),W.jsx("div",{className:"overflow-y-auto flex-grow",children:W.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6 p-4",children:r.volumes.map(b=>W.jsxs("div",{className:"flex flex-col items-center",children:[W.jsxs("div",{className:"relative",children:[W.jsx("img",{src:b.coverUrl,alt:`Volume ${b.id}`,className:`rounded-md cursor-pointer object-contain transition-all duration-300 ${b.owned?"opacity-100 ring-2 ring-green-500":"opacity-60 hover:opacity-80"}`,style:{height:"160px",width:"140px"},onClick:()=>y(r.id,b.id)}),b.owned&&W.jsx("div",{className:"absolute bottom-2 right-2 bg-green-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-md",children:"✓"})]}),W.jsx("p",{className:"text-sm mt-2 font-medium text-gray-300",children:r.type==="single"?r.title:`Vol. ${b.id}`})]},b.id))})})]})})]})}function kx(){return W.jsx(US,{children:W.jsxs(dS,{children:[W.jsx(Dc,{path:"/",element:W.jsx(zx,{})}),W.jsx(Dc,{path:"/add-collection",element:W.jsx(h0,{})}),W.jsx(Dc,{path:"/edit-collection/:id",element:W.jsx(h0,{})})]})})}T1.createRoot(document.getElementById("root")).render(W.jsx(bn.StrictMode,{children:W.jsx(kx,{})}));
