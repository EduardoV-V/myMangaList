(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function c0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ad={exports:{}},mo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function c1(){if(Rv)return mo;Rv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:a,key:h,ref:l!==void 0?l:null,props:u}}return mo.Fragment=t,mo.jsx=r,mo.jsxs=r,mo}var Cv;function f1(){return Cv||(Cv=1,Ad.exports=c1()),Ad.exports}var W=f1(),wd={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function h1(){if(Dv)return Dt;Dv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function P(O,nt,st){this.props=O,this.context=nt,this.refs=B,this.updater=st||C}P.prototype.isReactComponent={},P.prototype.setState=function(O,nt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,nt,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=P.prototype;function Q(O,nt,st){this.props=O,this.context=nt,this.refs=B,this.updater=st||C}var Z=Q.prototype=new K;Z.constructor=Q,U(Z,P.prototype),Z.isPureReactComponent=!0;var ut=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function I(O,nt,st,it,mt,At){return st=At.ref,{$$typeof:i,type:O,key:nt,ref:st!==void 0?st:null,props:At}}function w(O,nt){return I(O.type,nt,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function V(O){var nt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return nt[st]})}var M=/\/+/g;function z(O,nt){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):nt.toString(36)}function x(){}function Zt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(x,x):(O.status="pending",O.then(function(nt){O.status==="pending"&&(O.status="fulfilled",O.value=nt)},function(nt){O.status==="pending"&&(O.status="rejected",O.reason=nt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Jt(O,nt,st,it,mt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var pt=!1;if(O===null)pt=!0;else switch(At){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(O.$$typeof){case i:case t:pt=!0;break;case E:return pt=O._init,Jt(pt(O._payload),nt,st,it,mt)}}if(pt)return mt=mt(O),pt=it===""?"."+z(O,0):it,ut(mt)?(st="",pt!=null&&(st=pt.replace(M,"$&/")+"/"),Jt(mt,nt,st,"",function(Ae){return Ae})):mt!=null&&(R(mt)&&(mt=w(mt,st+(mt.key==null||O&&O.key===mt.key?"":(""+mt.key).replace(M,"$&/")+"/")+pt)),nt.push(mt)),1;pt=0;var he=it===""?".":it+":";if(ut(O))for(var Pt=0;Pt<O.length;Pt++)it=O[Pt],At=he+z(it,Pt),pt+=Jt(it,nt,st,At,mt);else if(Pt=T(O),typeof Pt=="function")for(O=Pt.call(O),Pt=0;!(it=O.next()).done;)it=it.value,At=he+z(it,Pt++),pt+=Jt(it,nt,st,At,mt);else if(At==="object"){if(typeof O.then=="function")return Jt(Zt(O),nt,st,it,mt);throw nt=String(O),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return pt}function X(O,nt,st){if(O==null)return O;var it=[],mt=0;return Jt(O,it,"","",function(At){return nt.call(st,At,mt++)}),it}function at(O){if(O._status===-1){var nt=O._result;nt=nt(),nt.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=nt)}if(O._status===1)return O._result.default;throw O._result}var gt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ct(){}return Dt.Children={map:X,forEach:function(O,nt,st){X(O,function(){nt.apply(this,arguments)},st)},count:function(O){var nt=0;return X(O,function(){nt++}),nt},toArray:function(O){return X(O,function(nt){return nt})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Dt.Component=P,Dt.Fragment=r,Dt.Profiler=l,Dt.PureComponent=Q,Dt.StrictMode=a,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return lt.H.useMemoCache(O)}},Dt.cache=function(O){return function(){return O.apply(null,arguments)}},Dt.cloneElement=function(O,nt,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=U({},O.props),mt=O.key,At=void 0;if(nt!=null)for(pt in nt.ref!==void 0&&(At=void 0),nt.key!==void 0&&(mt=""+nt.key),nt)!ft.call(nt,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&nt.ref===void 0||(it[pt]=nt[pt]);var pt=arguments.length-2;if(pt===1)it.children=st;else if(1<pt){for(var he=Array(pt),Pt=0;Pt<pt;Pt++)he[Pt]=arguments[Pt+2];it.children=he}return I(O.type,mt,void 0,void 0,At,it)},Dt.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Dt.createElement=function(O,nt,st){var it,mt={},At=null;if(nt!=null)for(it in nt.key!==void 0&&(At=""+nt.key),nt)ft.call(nt,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=nt[it]);var pt=arguments.length-2;if(pt===1)mt.children=st;else if(1<pt){for(var he=Array(pt),Pt=0;Pt<pt;Pt++)he[Pt]=arguments[Pt+2];mt.children=he}if(O&&O.defaultProps)for(it in pt=O.defaultProps,pt)mt[it]===void 0&&(mt[it]=pt[it]);return I(O,At,void 0,void 0,null,mt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(O){return{$$typeof:m,render:O}},Dt.isValidElement=R,Dt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:at}},Dt.memo=function(O,nt){return{$$typeof:y,type:O,compare:nt===void 0?null:nt}},Dt.startTransition=function(O){var nt=lt.T,st={};lt.T=st;try{var it=O(),mt=lt.S;mt!==null&&mt(st,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Ct,gt)}catch(At){gt(At)}finally{lt.T=nt}},Dt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},Dt.use=function(O){return lt.H.use(O)},Dt.useActionState=function(O,nt,st){return lt.H.useActionState(O,nt,st)},Dt.useCallback=function(O,nt){return lt.H.useCallback(O,nt)},Dt.useContext=function(O){return lt.H.useContext(O)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(O,nt){return lt.H.useDeferredValue(O,nt)},Dt.useEffect=function(O,nt,st){var it=lt.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(O,nt)},Dt.useId=function(){return lt.H.useId()},Dt.useImperativeHandle=function(O,nt,st){return lt.H.useImperativeHandle(O,nt,st)},Dt.useInsertionEffect=function(O,nt){return lt.H.useInsertionEffect(O,nt)},Dt.useLayoutEffect=function(O,nt){return lt.H.useLayoutEffect(O,nt)},Dt.useMemo=function(O,nt){return lt.H.useMemo(O,nt)},Dt.useOptimistic=function(O,nt){return lt.H.useOptimistic(O,nt)},Dt.useReducer=function(O,nt,st){return lt.H.useReducer(O,nt,st)},Dt.useRef=function(O){return lt.H.useRef(O)},Dt.useState=function(O){return lt.H.useState(O)},Dt.useSyncExternalStore=function(O,nt,st){return lt.H.useSyncExternalStore(O,nt,st)},Dt.useTransition=function(){return lt.H.useTransition()},Dt.version="19.1.1",Dt}var xv;function _m(){return xv||(xv=1,wd.exports=h1()),wd.exports}var D=_m();const Tn=c0(D);var Rd={exports:{}},go={},Cd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function d1(){return Nv||(Nv=1,(function(i){function t(X,at){var gt=X.length;X.push(at);t:for(;0<gt;){var Ct=gt-1>>>1,O=X[Ct];if(0<l(O,at))X[Ct]=at,X[gt]=O,gt=Ct;else break t}}function r(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var at=X[0],gt=X.pop();if(gt!==at){X[0]=gt;t:for(var Ct=0,O=X.length,nt=O>>>1;Ct<nt;){var st=2*(Ct+1)-1,it=X[st],mt=st+1,At=X[mt];if(0>l(it,gt))mt<O&&0>l(At,it)?(X[Ct]=At,X[mt]=gt,Ct=mt):(X[Ct]=it,X[st]=gt,Ct=st);else if(mt<O&&0>l(At,gt))X[Ct]=At,X[mt]=gt,Ct=mt;else break t}}return at}function l(X,at){var gt=X.sortIndex-at.sortIndex;return gt!==0?gt:X.id-at.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],y=[],E=1,S=null,T=3,C=!1,U=!1,B=!1,P=!1,K=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ut(X){for(var at=r(y);at!==null;){if(at.callback===null)a(y);else if(at.startTime<=X)a(y),at.sortIndex=at.expirationTime,t(p,at);else break;at=r(y)}}function lt(X){if(B=!1,ut(X),!U)if(r(p)!==null)U=!0,ft||(ft=!0,z());else{var at=r(y);at!==null&&Jt(lt,at.startTime-X)}}var ft=!1,I=-1,w=5,R=-1;function V(){return P?!0:!(i.unstable_now()-R<w)}function M(){if(P=!1,ft){var X=i.unstable_now();R=X;var at=!0;try{t:{U=!1,B&&(B=!1,Q(I),I=-1),C=!0;var gt=T;try{e:{for(ut(X),S=r(p);S!==null&&!(S.expirationTime>X&&V());){var Ct=S.callback;if(typeof Ct=="function"){S.callback=null,T=S.priorityLevel;var O=Ct(S.expirationTime<=X);if(X=i.unstable_now(),typeof O=="function"){S.callback=O,ut(X),at=!0;break e}S===r(p)&&a(p),ut(X)}else a(p);S=r(p)}if(S!==null)at=!0;else{var nt=r(y);nt!==null&&Jt(lt,nt.startTime-X),at=!1}}break t}finally{S=null,T=gt,C=!1}at=void 0}}finally{at?z():ft=!1}}}var z;if(typeof Z=="function")z=function(){Z(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Zt=x.port2;x.port1.onmessage=M,z=function(){Zt.postMessage(null)}}else z=function(){K(M,0)};function Jt(X,at){I=K(function(){X(i.unstable_now())},at)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(X){switch(T){case 1:case 2:case 3:var at=3;break;default:at=T}var gt=T;T=at;try{return X()}finally{T=gt}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(X,at){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var gt=T;T=X;try{return at()}finally{T=gt}},i.unstable_scheduleCallback=function(X,at,gt){var Ct=i.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Ct+gt:Ct):gt=Ct,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=gt+O,X={id:E++,callback:at,priorityLevel:X,startTime:gt,expirationTime:O,sortIndex:-1},gt>Ct?(X.sortIndex=gt,t(y,X),r(p)===null&&X===r(y)&&(B?(Q(I),I=-1):B=!0,Jt(lt,gt-Ct))):(X.sortIndex=O,t(p,X),U||C||(U=!0,ft||(ft=!0,z()))),X},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(X){var at=T;return function(){var gt=T;T=at;try{return X.apply(this,arguments)}finally{T=gt}}}})(Dd)),Dd}var Iv;function m1(){return Iv||(Iv=1,Cd.exports=d1()),Cd.exports}var xd={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function g1(){if(Vv)return un;Vv=1;var i=_m();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,un.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},un.flushSync=function(p){var y=h.T,E=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=y,a.p=E,a.d.f()}},un.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},un.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},un.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:C}):E==="script"&&a.d.X(p,{crossOrigin:S,integrity:T,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},un.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},un.requestFormReset=function(p){a.d.r(p)},un.unstable_batchedUpdates=function(p,y){return p(y)},un.useFormState=function(p,y,E){return h.H.useFormState(p,y,E)},un.useFormStatus=function(){return h.H.useHostTransitionStatus()},un.version="19.1.1",un}var Mv;function f0(){if(Mv)return xd.exports;Mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),xd.exports=g1(),xd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function p1(){if(Ov)return go;Ov=1;var i=m1(),t=_m(),r=f0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return m(f),e;if(d===o)return m(f),n;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=f,o=d;else{for(var _=!1,b=f.child;b;){if(b===s){_=!0,s=f,o=d;break}if(b===o){_=!0,o=f,s=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===s){_=!0,s=d,o=f;break}if(b===o){_=!0,o=d,s=f;break}b=b.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case lt:return"Suspense";case ft:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case Z:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Zt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Zt(e(n))}catch{}}return null}var Jt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Ct=[],O=-1;function nt(e){return{current:e}}function st(e){0>O||(e.current=Ct[O],Ct[O]=null,O--)}function it(e,n){O++,Ct[O]=e.current,e.current=n}var mt=nt(null),At=nt(null),pt=nt(null),he=nt(null);function Pt(e,n){switch(it(pt,n),it(At,e),it(mt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?tv(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=tv(n),e=ev(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(mt),it(mt,e)}function Ae(){st(mt),st(At),st(pt)}function It(e){e.memoizedState!==null&&it(he,e);var n=mt.current,s=ev(n,e.type);n!==s&&(it(At,e),it(mt,s))}function dn(e){At.current===e&&(st(mt),st(At)),he.current===e&&(st(he),oo._currentValue=gt)}var He=Object.prototype.hasOwnProperty,bn=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,kn=i.unstable_shouldYield,er=i.unstable_requestPaint,mn=i.unstable_now,Ja=i.unstable_getCurrentPriorityLevel,qr=i.unstable_ImmediatePriority,gn=i.unstable_UserBlockingPriority,Bn=i.unstable_NormalPriority,Ai=i.unstable_LowPriority,Hr=i.unstable_IdlePriority,wi=i.log,Wa=i.unstable_setDisableYieldValue,ue=null,Ot=null;function we(e){if(typeof wi=="function"&&Wa(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(ue,e)}catch{}}var ge=Math.clz32?Math.clz32:mr,da=Math.log,jn=Math.LN2;function mr(e){return e>>>=0,e===0?32:31-(da(e)/jn|0)|0}var Gr=256,Fr=4194304;function pn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qr(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~d,o!==0?f=pn(o):(_&=b,_!==0?f=pn(_):s||(s=b&~e,s!==0&&(f=pn(s))))):(b=o&~d,b!==0?f=pn(b):_!==0?f=pn(_):s||(s=o&~e,s!==0&&(f=pn(s)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:f}function Yr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ri(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(){var e=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),e}function ga(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function nr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ae(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,n,s,o,f,d){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,N=e.expirationTimes,H=e.hiddenUpdates;for(s=_&~s;0<s;){var $=31-ge(s),tt=1<<$;b[$]=0,N[$]=-1;var G=H[$];if(G!==null)for(H[$]=null,$=0;$<G.length;$++){var F=G[$];F!==null&&(F.lane&=-536870913)}s&=~tt}o!==0&&ce(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function ce(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function Sn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ge(s),f=1<<o;f&n|e[o]&n&&(e[o]|=n),s&=~f}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Re(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Oe(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Ev(e.type))}function rr(e,n){var s=at.p;try{return at.p=e,n()}finally{at.p=s}}var Rt=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Rt,Ft="__reactProps$"+Rt,pe="__reactContainer$"+Rt,ir="__reactEvents$"+Rt,Xr="__reactListeners$"+Rt,Je="__reactHandles$"+Rt,gr="__reactResources$"+Rt,ar="__reactMarker$"+Rt;function Ci(e){delete e[Wt],delete e[Ft],delete e[ir],delete e[Xr],delete e[Je]}function Kr(e){var n=e[Wt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[pe]||s[Wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=av(e);e!==null;){if(s=e[Wt])return s;e=av(e)}return n}e=s,s=e.parentNode}return null}function pr(e){if(e=e[Wt]||e[pe]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function yr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function yn(e){var n=e[gr];return n||(n=e[gr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ar]=!0}var ml=new Set,ts={};function sr(e,n){$r(e,n),$r(e+"Capture",n)}function $r(e,n){for(ts[e]=n,e=0;e<n.length;e++)ml.add(n[e])}var tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eu={},pa={};function nu(e){return He.call(pa,e)?!0:He.call(eu,e)?!1:tu.test(e)?pa[e]=!0:(eu[e]=!0,!1)}function Di(e,n,s){if(nu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function We(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var ya,ru;function Zr(e){if(ya===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ya=n&&n[1]||"",ru=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+e+ru}var es=!1;function ns(e,n){if(!e||es)return"";es=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var G=F}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(F){G=F}e.call(tt.prototype)}}else{try{throw Error()}catch(F){G=F}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&G&&typeof F.stack=="string")return[F.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),H=b.split(`
`);for(f=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(o===N.length||f===H.length)for(o=N.length-1,f=H.length-1;1<=o&&0<=f&&N[o]!==H[f];)f--;for(;1<=o&&0<=f;o--,f--)if(N[o]!==H[f]){if(o!==1||f!==1)do if(o--,f--,0>f||N[o]!==H[f]){var $=`
`+N[o].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=o&&0<=f);break}}}finally{es=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zr(s):""}function gl(e){switch(e.tag){case 26:case 27:case 5:return Zr(e.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return Zr("Activity");default:return""}}function rs(e){try{var n="";do n+=gl(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Df(e){var n=pl(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function is(e){e._valueTracker||(e._valueTracker=Df(e))}function yl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=pl(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xf=/[\n"\\]/g;function Ce(e){return e.replace(xf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Nn(e,n,s,o,f,d,_,b){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+vn(n)):e.value!==""+vn(n)&&(e.value=""+vn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?xi(e,_,vn(n)):s!=null?xi(e,_,vn(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+vn(b):e.removeAttribute("name")}function _a(e,n,s,o,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+vn(s):"",n=n!=null?""+vn(n):s,b||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function xi(e,n,s){n==="number"&&va(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Jr(e,n,s,o){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+vn(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function te(e,n,s){if(n!=null&&(n=""+vn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+vn(s):""}function Ea(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Jt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=vn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function qn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iu(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Ta.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function vl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&s[f]!==o&&iu(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&iu(e,d,n[d])}function _l(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),If=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(e){return If.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Wr=null;function Hn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ti=null,ei=null;function El(e){var n=pr(e);if(n&&(e=n.stateNode)){var s=e[Ft]||null;t:switch(e=n.stateNode,n.type){case"input":if(Nn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ce(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var f=o[Ft]||null;if(!f)throw Error(a(90));Nn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&yl(o)}break t;case"textarea":te(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Jr(e,!!s.multiple,n,!1)}}}var _r=!1;function au(e,n,s){if(_r)return e(n,s);_r=!0;try{var o=e(n);return o}finally{if(_r=!1,(ti!==null||ei!==null)&&(Ju(),ti&&(n=ti,e=ei,ei=ti=null,El(n),e)))for(n=0;n<e.length;n++)El(e[n])}}function ba(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ft]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(lr)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Gn=!1}var Er=null,Ni=null,ni=null;function Tl(){if(ni)return ni;var e,n=Ni,s=n.length,o,f="value"in Er?Er.value:Er.textContent,d=f.length;for(e=0;e<s&&n[e]===f[e];e++);var _=s-e;for(o=1;o<=_&&n[s-o]===f[d-o];o++);return ni=f.slice(e,1<o?1-o:void 0)}function Tr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function br(){return!0}function bl(){return!1}function Ge(e){function n(s,o,f,d,_){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?br:bl,this.isPropagationStopped=bl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),n}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=Ge(Yt),Aa=E({},Yt,{view:0,detail:0}),su=Ge(Aa),ls,os,Sr,wa=E({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sr&&(Sr&&e.type==="mousemove"?(ls=e.screenX-Sr.screenX,os=e.screenY-Sr.screenY):os=ls=0,Sr=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:os}}),Fn=Ge(wa),lu=E({},wa,{dataTransfer:0}),Vf=Ge(lu),Ra=E({},Aa,{relatedTarget:0}),us=Ge(Ra),Sl=E({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),cs=Ge(Sl),ou=E({},Yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fs=Ge(ou),Mf=E({},Yt,{data:0}),Al=Ge(Mf),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cu[e])?!!n[e]:!1}function Da(){return wl}var fu=E({},Aa,{key:function(e){if(e.key){var n=Ca[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hs=Ge(fu),hu=E({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Ge(hu),ri=E({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),du=Ge(ri),mu=E({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=Ge(mu),pu=E({},wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ds=Ge(pu),_n=E({},Yt,{newState:0,oldState:0}),yu=Ge(_n),vu=[9,13,27,32],Ar=lr&&"CompositionEvent"in window,c=null;lr&&"documentMode"in document&&(c=document.documentMode);var g=lr&&"TextEvent"in window&&!c,v=lr&&(!Ar||c&&8<c&&11>=c),A=" ",j=!1;function Y(e,n){switch(e){case"keyup":return vu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function Le(e,n){switch(e){case"compositionend":return ot(n);case"keypress":return n.which!==32?null:(j=!0,A);case"textInput":return e=n.data,e===A&&j?null:e;default:return null}}function Bt(e,n){if(kt)return e==="compositionend"||!Ar&&Y(e,n)?(e=Tl(),ni=Ni=Er=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Fe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Fe[e.type]:n==="textarea"}function ii(e,n,s,o){ti?ei?ei.push(o):ei=[o]:ti=o,n=ic(n,"onChange"),0<n.length&&(s=new ss("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var tn=null,wr=null;function Cl(e){Ky(e,0)}function _u(e){var n=yr(e);if(yl(n))return e}function pg(e,n){if(e==="change")return n}var yg=!1;if(lr){var Of;if(lr){var Lf="oninput"in document;if(!Lf){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Lf=typeof vg.oninput=="function"}Of=Lf}else Of=!1;yg=Of&&(!document.documentMode||9<document.documentMode)}function _g(){tn&&(tn.detachEvent("onpropertychange",Eg),wr=tn=null)}function Eg(e){if(e.propertyName==="value"&&_u(wr)){var n=[];ii(n,wr,e,Hn(e)),au(Cl,n)}}function BT(e,n,s){e==="focusin"?(_g(),tn=n,wr=s,tn.attachEvent("onpropertychange",Eg)):e==="focusout"&&_g()}function jT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(wr)}function qT(e,n){if(e==="click")return _u(n)}function HT(e,n){if(e==="input"||e==="change")return _u(n)}function GT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var In=typeof Object.is=="function"?Object.is:GT;function Dl(e,n){if(In(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!He.call(n,f)||!In(e[f],n[f]))return!1}return!0}function Tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bg(e,n){var s=Tg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Tg(s)}}function Sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=va(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=va(e.document)}return n}function Uf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var FT=lr&&"documentMode"in document&&11>=document.documentMode,ms=null,Pf=null,xl=null,zf=!1;function wg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zf||ms==null||ms!==va(o)||(o=ms,"selectionStart"in o&&Uf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xl&&Dl(xl,o)||(xl=o,o=ic(Pf,"onSelect"),0<o.length&&(n=new ss("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ms)))}function xa(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var gs={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},kf={},Rg={};lr&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Na(e){if(kf[e])return kf[e];if(!gs[e])return e;var n=gs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rg)return kf[e]=n[s];return e}var Cg=Na("animationend"),Dg=Na("animationiteration"),xg=Na("animationstart"),QT=Na("transitionrun"),YT=Na("transitionstart"),XT=Na("transitioncancel"),Ng=Na("transitionend"),Ig=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function or(e,n){Ig.set(e,n),sr(n,[e])}var Vg=new WeakMap;function Qn(e,n){if(typeof e=="object"&&e!==null){var s=Vg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:rs(n)},Vg.set(e,n),n)}return{value:e,source:n,stack:rs(n)}}var Yn=[],ps=0,jf=0;function Eu(){for(var e=ps,n=jf=ps=0;n<e;){var s=Yn[n];Yn[n++]=null;var o=Yn[n];Yn[n++]=null;var f=Yn[n];Yn[n++]=null;var d=Yn[n];if(Yn[n++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}d!==0&&Mg(s,f,d)}}function Tu(e,n,s,o){Yn[ps++]=e,Yn[ps++]=n,Yn[ps++]=s,Yn[ps++]=o,jf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qf(e,n,s,o){return Tu(e,n,s,o),bu(e)}function ys(e,n){return Tu(e,null,null,n),bu(e)}function Mg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-ge(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=s|536870912),d):null}function bu(e){if(50<to)throw to=0,Xh=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var vs={};function KT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,n,s,o){return new KT(e,n,s,o)}function Hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ai(e,n){var s=e.alternate;return s===null?(s=Vn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Og(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,s,o,f,d){var _=0;if(o=e,typeof e=="function")Hf(e)&&(_=1);else if(typeof e=="string")_=Zb(e,s,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=Vn(31,s,n,f),e.elementType=R,e.lanes=d,e;case U:return Ia(s.children,f,d,n);case B:_=8,f|=24;break;case P:return e=Vn(12,s,n,f|2),e.elementType=P,e.lanes=d,e;case lt:return e=Vn(13,s,n,f),e.elementType=lt,e.lanes=d,e;case ft:return e=Vn(19,s,n,f),e.elementType=ft,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:case Z:_=10;break t;case Q:_=9;break t;case ut:_=11;break t;case I:_=14;break t;case w:_=16,o=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Vn(_,s,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function Ia(e,n,s,o){return e=Vn(7,e,o,n),e.lanes=s,e}function Gf(e,n,s){return e=Vn(6,e,null,n),e.lanes=s,e}function Ff(e,n,s){return n=Vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var _s=[],Es=0,Au=null,wu=0,Xn=[],Kn=0,Va=null,si=1,li="";function Ma(e,n){_s[Es++]=wu,_s[Es++]=Au,Au=e,wu=n}function Lg(e,n,s){Xn[Kn++]=si,Xn[Kn++]=li,Xn[Kn++]=Va,Va=e;var o=si;e=li;var f=32-ge(o)-1;o&=~(1<<f),s+=1;var d=32-ge(n)+f;if(30<d){var _=f-f%5;d=(o&(1<<_)-1).toString(32),o>>=_,f-=_,si=1<<32-ge(n)+f|s<<f|o,li=d+e}else si=1<<d|s<<f|o,li=e}function Qf(e){e.return!==null&&(Ma(e,1),Lg(e,1,0))}function Yf(e){for(;e===Au;)Au=_s[--Es],_s[Es]=null,wu=_s[--Es],_s[Es]=null;for(;e===Va;)Va=Xn[--Kn],Xn[Kn]=null,li=Xn[--Kn],Xn[Kn]=null,si=Xn[--Kn],Xn[Kn]=null}var En=null,ye=null,Qt=!1,Oa=null,Rr=!1,Xf=Error(a(519));function La(e){var n=Error(a(418,""));throw Vl(Qn(n,e)),Xf}function Ug(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Wt]=e,n[Ft]=o,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<no.length;s++)Mt(no[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),_a(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),is(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),Ea(n,o.value,o.defaultValue,o.children),is(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Wy(n.textContent,s)?(o.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),o.onScroll!=null&&Mt("scroll",n),o.onScrollEnd!=null&&Mt("scrollend",n),o.onClick!=null&&(n.onclick=ac),n=!0):n=!1,n||La(e)}function Pg(e){for(En=e.return;En;)switch(En.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:En=En.return}}function Nl(e){if(e!==En)return!1;if(!Qt)return Pg(e),Qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||cd(e.type,e.memoizedProps)),s=!s),s&&ye&&La(e),Pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ye=cr(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ye=null}}else n===27?(n=ye,Qi(e.type)?(e=md,md=null,ye=e):ye=n):ye=En?cr(e.stateNode.nextSibling):null;return!0}function Il(){ye=En=null,Qt=!1}function zg(){var e=Oa;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),Oa=null),e}function Vl(e){Oa===null?Oa=[e]:Oa.push(e)}var Kf=nt(null),Ua=null,oi=null;function Ii(e,n,s){it(Kf,n._currentValue),n._currentValue=s}function ui(e){e._currentValue=Kf.current,st(Kf)}function $f(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Zf(e,n,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=f;for(var N=0;N<n.length;N++)if(b.context===n[N]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),$f(d.return,s,e),o||(_=null);break t}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),$f(_,s,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ml(e,n,s,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var b=f.type;In(f.pendingProps.value,_.value)||(e!==null?e.push(b):e=[b])}}else if(f===he.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(oo):e=[oo])}f=f.return}e!==null&&Zf(n,e,s,o),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!In(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){Ua=e,oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function on(e){return kg(Ua,e)}function Cu(e,n){return Ua===null&&Pa(e),kg(e,n)}function kg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},oi===null){if(e===null)throw Error(a(308));oi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else oi=oi.next=n;return s}var $T=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},ZT=i.unstable_scheduleCallback,JT=i.unstable_NormalPriority,Pe={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new $T,data:new Map,refCount:0}}function Ol(e){e.refCount--,e.refCount===0&&ZT(JT,function(){e.controller.abort()})}var Ll=null,Wf=0,Ts=0,bs=null;function WT(e,n){if(Ll===null){var s=Ll=[];Wf=0,Ts=ed(),bs={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Wf++,n.then(Bg,Bg),n}function Bg(){if(--Wf===0&&Ll!==null){bs!==null&&(bs.status="fulfilled");var e=Ll;Ll=null,Ts=0,bs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function tb(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var jg=X.S;X.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&WT(e,n),jg!==null&&jg(e,n)};var za=nt(null);function th(){var e=za.current;return e!==null?e:se.pooledCache}function Du(e,n){n===null?it(za,za.current):it(za,n.pool)}function qg(){var e=th();return e===null?null:{parent:Pe._currentValue,pool:e}}var Ul=Error(a(460)),Hg=Error(a(474)),xu=Error(a(542)),eh={then:function(){}};function Gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Nu(){}function Fg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Nu,Nu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yg(e),e;default:if(typeof n.status=="string")n.then(Nu,Nu);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yg(e),e}throw Pl=n,Ul}}var Pl=null;function Qg(){if(Pl===null)throw Error(a(459));var e=Pl;return Pl=null,e}function Yg(e){if(e===Ul||e===xu)throw Error(a(483))}var Vi=!1;function nh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=bu(e),Mg(e,null,s),n}return Tu(e,o,n,s),bu(e)}function zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Sn(e,s)}}function ih(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?f=d=n:d=d.next=n}else f=d=n;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ah=!1;function kl(){if(ah){var e=bs;if(e!==null)throw e}}function Bl(e,n,s,o){ah=!1;var f=e.updateQueue;Vi=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=H:b.next=H,$.lastBaseUpdate=N))}if(d!==null){var tt=f.baseState;_=0,$=H=N=null,b=d;do{var G=b.lane&-536870913,F=G!==b.lane;if(F?(jt&G)===G:(o&G)===G){G!==0&&G===Ts&&(ah=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var bt=e,_t=b;G=n;var re=s;switch(_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){tt=bt.call(re,tt,G);break t}tt=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,G=typeof bt=="function"?bt.call(re,tt,G):bt,G==null)break t;tt=E({},tt,G);break t;case 2:Vi=!0}}G=b.callback,G!==null&&(e.flags|=64,F&&(e.flags|=8192),F=f.callbacks,F===null?f.callbacks=[G]:F.push(G))}else F={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(H=$=F,N=tt):$=$.next=F,_|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;F=b,b=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);$===null&&(N=tt),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),qi|=_,e.lanes=_,e.memoizedState=tt}}function Xg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Xg(s[e],n)}var Ss=nt(null),Iu=nt(0);function $g(e,n){e=pi,it(Iu,e),it(Ss,n),pi=e|n.baseLanes}function sh(){it(Iu,pi),it(Ss,Ss.current)}function lh(){pi=Iu.current,st(Ss),st(Iu)}var Li=0,xt=null,ee=null,De=null,Vu=!1,As=!1,ka=!1,Mu=0,jl=0,ws=null,eb=0;function Te(){throw Error(a(321))}function oh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!In(e[s],n[s]))return!1;return!0}function uh(e,n,s,o,f,d){return Li=d,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=e===null||e.memoizedState===null?Mp:Op,ka=!1,d=s(o,f),ka=!1,As&&(d=Jg(n,s,o,f)),Zg(e),d}function Zg(e){X.H=ku;var n=ee!==null&&ee.next!==null;if(Li=0,De=ee=xt=null,Vu=!1,jl=0,ws=null,n)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&Ru(e)&&(Qe=!0))}function Jg(e,n,s,o){xt=e;var f=0;do{if(As&&(ws=null),jl=0,As=!1,25<=f)throw Error(a(301));if(f+=1,De=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=ob,d=n(s,o)}while(As);return d}function nb(){var e=X.H,n=e.useState()[0];return n=typeof n.then=="function"?ql(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(xt.flags|=1024),n}function ch(){var e=Mu!==0;return Mu=0,e}function fh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function hh(e){if(Vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vu=!1}Li=0,De=ee=xt=null,As=!1,jl=Mu=0,ws=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?xt.memoizedState=De=e:De=De.next=e,De}function xe(){if(ee===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=De===null?xt.memoizedState:De.next;if(n!==null)De=n,ee=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},De===null?xt.memoizedState=De=e:De=De.next=e}return De}function dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(e){var n=jl;return jl+=1,ws===null&&(ws=[]),e=Fg(ws,e,n),n=xt,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?Mp:Op),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ql(e);if(e.$$typeof===Z)return on(e)}throw Error(a(438,String(e)))}function mh(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=dh(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function ci(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=xe();return gh(n,ee,e)}function gh(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var b=_=null,N=null,H=n,$=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(jt&tt)===tt:(Li&tt)===tt){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===Ts&&($=!0);else if((Li&G)===G){H=H.next,G===Ts&&($=!0);continue}else tt={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(b=N=tt,_=d):N=N.next=tt,xt.lanes|=G,qi|=G;tt=H.action,ka&&s(d,tt),d=H.hasEagerState?H.eagerState:s(d,tt)}else G={lane:tt,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(b=N=G,_=d):N=N.next=G,xt.lanes|=tt,qi|=tt;H=H.next}while(H!==null&&H!==n);if(N===null?_=d:N.next=b,!In(d,e.memoizedState)&&(Qe=!0,$&&(s=bs,s!==null)))throw s;e.memoizedState=d,e.baseState=_,e.baseQueue=N,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ph(e){var n=xe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=n.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);In(d,n.memoizedState)||(Qe=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function Wg(e,n,s){var o=xt,f=xe(),d=Qt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!In((ee||f).memoizedState,s);_&&(f.memoizedState=s,Qe=!0),f=f.queue;var b=np.bind(null,o,f,e);if(Hl(2048,8,b,[e]),f.getSnapshot!==n||_||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,Rs(9,Uu(),ep.bind(null,o,f,s,n),null),se===null)throw Error(a(349));d||(Li&124)!==0||tp(o,n,s)}return s}function tp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=dh(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ep(e,n,s,o){n.value=s,n.getSnapshot=o,rp(n)&&ip(e)}function np(e,n,s){return s(function(){rp(n)&&ip(e)})}function rp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!In(e,s)}catch{return!0}}function ip(e){var n=ys(e,2);n!==null&&Pn(n,e,2)}function yh(e){var n=An();if(typeof e=="function"){var s=e;if(e=s(),ka){we(!0);try{s()}finally{we(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},n}function ap(e,n,s,o){return e.baseState=s,gh(e,ee,typeof o=="function"?o:ci)}function rb(e,n,s,o,f){if(zu(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,sp(n,d)):(d.next=s.next,n.pending=s.next=d)}}function sp(e,n){var s=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=X.T,_={};X.T=_;try{var b=s(f,o),N=X.S;N!==null&&N(_,b),lp(e,n,b)}catch(H){vh(e,n,H)}finally{X.T=d}}else try{d=s(f,o),lp(e,n,d)}catch(H){vh(e,n,H)}}function lp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){op(e,n,o)},function(o){return vh(e,n,o)}):op(e,n,s)}function op(e,n,s){n.status="fulfilled",n.value=s,up(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sp(e,s)))}function vh(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,up(n),n=n.next;while(n!==o)}e.action=null}function up(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cp(e,n){return n}function fp(e,n){if(Qt){var s=se.formState;if(s!==null){t:{var o=xt;if(Qt){if(ye){e:{for(var f=ye,d=Rr;f.nodeType!==8;){if(!d){f=null;break e}if(f=cr(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ye=cr(f.nextSibling),o=f.data==="F!";break t}}La(o)}o=!1}o&&(n=s[0])}}return s=An(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:n},s.queue=o,s=Np.bind(null,xt,o),o.dispatch=s,o=yh(!1),d=Sh.bind(null,xt,!1,o.queue),o=An(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,s=rb.bind(null,xt,f,d,s),f.dispatch=s,o.memoizedState=e,[n,s,!1]}function hp(e){var n=xe();return dp(n,ee,e)}function dp(e,n,s){if(n=gh(e,n,cp)[0],e=Lu(ci)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ql(n)}catch(_){throw _===Ul?xu:_}else o=n;n=xe();var f=n.queue,d=f.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,Rs(9,Uu(),ib.bind(null,f,s),null)),[o,d,e]}function ib(e,n){e.action=n}function mp(e){var n=xe(),s=ee;if(s!==null)return dp(n,s,e);xe(),n=n.memoizedState,s=xe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Rs(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=xt.updateQueue,n===null&&(n=dh(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Uu(){return{destroy:void 0,resource:void 0}}function gp(){return xe().memoizedState}function Pu(e,n,s,o){var f=An();o=o===void 0?null:o,xt.flags|=e,f.memoizedState=Rs(1|n,Uu(),s,o)}function Hl(e,n,s,o){var f=xe();o=o===void 0?null:o;var d=f.memoizedState.inst;ee!==null&&o!==null&&oh(o,ee.memoizedState.deps)?f.memoizedState=Rs(n,d,s,o):(xt.flags|=e,f.memoizedState=Rs(1|n,d,s,o))}function pp(e,n){Pu(8390656,8,e,n)}function yp(e,n){Hl(2048,8,e,n)}function vp(e,n){return Hl(4,2,e,n)}function _p(e,n){return Hl(4,4,e,n)}function Ep(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tp(e,n,s){s=s!=null?s.concat([e]):null,Hl(4,4,Ep.bind(null,n,e),s)}function _h(){}function bp(e,n){var s=xe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&oh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Sp(e,n){var s=xe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&oh(n,o[1]))return o[0];if(o=e(),ka){we(!0);try{e()}finally{we(!1)}}return s.memoizedState=[o,n],o}function Eh(e,n,s){return s===void 0||(Li&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Ry(),xt.lanes|=e,qi|=e,s)}function Ap(e,n,s,o){return In(s,n)?s:Ss.current!==null?(e=Eh(e,s,o),In(e,n)||(Qe=!0),e):(Li&42)===0?(Qe=!0,e.memoizedState=s):(e=Ry(),xt.lanes|=e,qi|=e,n)}function wp(e,n,s,o,f){var d=at.p;at.p=d!==0&&8>d?d:8;var _=X.T,b={};X.T=b,Sh(e,!1,n,s);try{var N=f(),H=X.S;if(H!==null&&H(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=tb(N,o);Gl(e,n,$,Un(e))}else Gl(e,n,o,Un(e))}catch(tt){Gl(e,n,{then:function(){},status:"rejected",reason:tt},Un())}finally{at.p=d,X.T=_}}function ab(){}function Th(e,n,s,o){if(e.tag!==5)throw Error(a(476));var f=Rp(e).queue;wp(e,f,n,gt,s===null?ab:function(){return Cp(e),s(o)})}function Rp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:gt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cp(e){var n=Rp(e).next.queue;Gl(e,n,{},Un())}function bh(){return on(oo)}function Dp(){return xe().memoizedState}function xp(){return xe().memoizedState}function sb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Un();e=Mi(s);var o=Oi(n,e,s);o!==null&&(Pn(o,n,s),zl(o,n,s)),n={cache:Jf()},e.payload=n;return}n=n.return}}function lb(e,n,s){var o=Un();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},zu(e)?Ip(n,s):(s=qf(e,n,s,o),s!==null&&(Pn(s,e,o),Vp(s,n,o)))}function Np(e,n,s){var o=Un();Gl(e,n,s,o)}function Gl(e,n,s,o){var f={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(zu(e))Ip(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,b=d(_,s);if(f.hasEagerState=!0,f.eagerState=b,In(b,_))return Tu(e,n,f,0),se===null&&Eu(),!1}catch{}finally{}if(s=qf(e,n,f,o),s!==null)return Pn(s,e,o),Vp(s,n,o),!0}return!1}function Sh(e,n,s,o){if(o={lane:2,revertLane:ed(),action:o,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(n)throw Error(a(479))}else n=qf(e,s,o,2),n!==null&&Pn(n,e,2)}function zu(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Ip(e,n){As=Vu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Vp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Sn(e,s)}}var ku={readContext:on,use:Ou,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},Mp={readContext:on,use:Ou,useCallback:function(e,n){return An().memoizedState=[e,n===void 0?null:n],e},useContext:on,useEffect:pp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Pu(4194308,4,Ep.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var s=An();n=n===void 0?null:n;var o=e();if(ka){we(!0);try{e()}finally{we(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=An();if(s!==void 0){var f=s(n);if(ka){we(!0);try{s(n)}finally{we(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=lb.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var n=An();return e={current:e},n.memoizedState=e},useState:function(e){e=yh(e);var n=e.queue,s=Np.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:_h,useDeferredValue:function(e,n){var s=An();return Eh(s,e,n)},useTransition:function(){var e=yh(!1);return e=wp.bind(null,xt,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=xt,f=An();if(Qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(jt&124)!==0||tp(o,n,s)}f.memoizedState=s;var d={value:s,getSnapshot:n};return f.queue=d,pp(np.bind(null,o,d,e),[e]),o.flags|=2048,Rs(9,Uu(),ep.bind(null,o,d,s,n),null),s},useId:function(){var e=An(),n=se.identifierPrefix;if(Qt){var s=li,o=si;s=(o&~(1<<32-ge(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=Mu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=eb++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:bh,useFormState:fp,useActionState:fp,useOptimistic:function(e){var n=An();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Sh.bind(null,xt,!0,s),s.dispatch=n,[e,n]},useMemoCache:mh,useCacheRefresh:function(){return An().memoizedState=sb.bind(null,xt)}},Op={readContext:on,use:Ou,useCallback:bp,useContext:on,useEffect:yp,useImperativeHandle:Tp,useInsertionEffect:vp,useLayoutEffect:_p,useMemo:Sp,useReducer:Lu,useRef:gp,useState:function(){return Lu(ci)},useDebugValue:_h,useDeferredValue:function(e,n){var s=xe();return Ap(s,ee.memoizedState,e,n)},useTransition:function(){var e=Lu(ci)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:ql(e),n]},useSyncExternalStore:Wg,useId:Dp,useHostTransitionStatus:bh,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var s=xe();return ap(s,ee,e,n)},useMemoCache:mh,useCacheRefresh:xp},ob={readContext:on,use:Ou,useCallback:bp,useContext:on,useEffect:yp,useImperativeHandle:Tp,useInsertionEffect:vp,useLayoutEffect:_p,useMemo:Sp,useReducer:ph,useRef:gp,useState:function(){return ph(ci)},useDebugValue:_h,useDeferredValue:function(e,n){var s=xe();return ee===null?Eh(s,e,n):Ap(s,ee.memoizedState,e,n)},useTransition:function(){var e=ph(ci)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:ql(e),n]},useSyncExternalStore:Wg,useId:Dp,useHostTransitionStatus:bh,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var s=xe();return ee!==null?ap(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:mh,useCacheRefresh:xp},Cs=null,Fl=0;function Bu(e){var n=Fl;return Fl+=1,Cs===null&&(Cs=[]),Fg(Cs,e,n)}function Ql(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Lp(e){var n=e._init;return n(e._payload)}function Up(e){function n(k,L){if(e){var q=k.deletions;q===null?(k.deletions=[L],k.flags|=16):q.push(L)}}function s(k,L){if(!e)return null;for(;L!==null;)n(k,L),L=L.sibling;return null}function o(k){for(var L=new Map;k!==null;)k.key!==null?L.set(k.key,k):L.set(k.index,k),k=k.sibling;return L}function f(k,L){return k=ai(k,L),k.index=0,k.sibling=null,k}function d(k,L,q){return k.index=q,e?(q=k.alternate,q!==null?(q=q.index,q<L?(k.flags|=67108866,L):q):(k.flags|=67108866,L)):(k.flags|=1048576,L)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function b(k,L,q,J){return L===null||L.tag!==6?(L=Gf(q,k.mode,J),L.return=k,L):(L=f(L,q),L.return=k,L)}function N(k,L,q,J){var ht=q.type;return ht===U?$(k,L,q.props.children,J,q.key):L!==null&&(L.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Lp(ht)===L.type)?(L=f(L,q.props),Ql(L,q),L.return=k,L):(L=Su(q.type,q.key,q.props,null,k.mode,J),Ql(L,q),L.return=k,L)}function H(k,L,q,J){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Ff(q,k.mode,J),L.return=k,L):(L=f(L,q.children||[]),L.return=k,L)}function $(k,L,q,J,ht){return L===null||L.tag!==7?(L=Ia(q,k.mode,J,ht),L.return=k,L):(L=f(L,q),L.return=k,L)}function tt(k,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Gf(""+L,k.mode,q),L.return=k,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return q=Su(L.type,L.key,L.props,null,k.mode,q),Ql(q,L),q.return=k,q;case C:return L=Ff(L,k.mode,q),L.return=k,L;case w:var J=L._init;return L=J(L._payload),tt(k,L,q)}if(Jt(L)||z(L))return L=Ia(L,k.mode,q,null),L.return=k,L;if(typeof L.then=="function")return tt(k,Bu(L),q);if(L.$$typeof===Z)return tt(k,Cu(k,L),q);ju(k,L)}return null}function G(k,L,q,J){var ht=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ht!==null?null:b(k,L,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===ht?N(k,L,q,J):null;case C:return q.key===ht?H(k,L,q,J):null;case w:return ht=q._init,q=ht(q._payload),G(k,L,q,J)}if(Jt(q)||z(q))return ht!==null?null:$(k,L,q,J,null);if(typeof q.then=="function")return G(k,L,Bu(q),J);if(q.$$typeof===Z)return G(k,L,Cu(k,q),J);ju(k,q)}return null}function F(k,L,q,J,ht){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(q)||null,b(L,k,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case T:return k=k.get(J.key===null?q:J.key)||null,N(L,k,J,ht);case C:return k=k.get(J.key===null?q:J.key)||null,H(L,k,J,ht);case w:var Nt=J._init;return J=Nt(J._payload),F(k,L,q,J,ht)}if(Jt(J)||z(J))return k=k.get(q)||null,$(L,k,J,ht,null);if(typeof J.then=="function")return F(k,L,q,Bu(J),ht);if(J.$$typeof===Z)return F(k,L,q,Cu(L,J),ht);ju(L,J)}return null}function bt(k,L,q,J){for(var ht=null,Nt=null,yt=L,Et=L=0,Xe=null;yt!==null&&Et<q.length;Et++){yt.index>Et?(Xe=yt,yt=null):Xe=yt.sibling;var Gt=G(k,yt,q[Et],J);if(Gt===null){yt===null&&(yt=Xe);break}e&&yt&&Gt.alternate===null&&n(k,yt),L=d(Gt,L,Et),Nt===null?ht=Gt:Nt.sibling=Gt,Nt=Gt,yt=Xe}if(Et===q.length)return s(k,yt),Qt&&Ma(k,Et),ht;if(yt===null){for(;Et<q.length;Et++)yt=tt(k,q[Et],J),yt!==null&&(L=d(yt,L,Et),Nt===null?ht=yt:Nt.sibling=yt,Nt=yt);return Qt&&Ma(k,Et),ht}for(yt=o(yt);Et<q.length;Et++)Xe=F(yt,k,Et,q[Et],J),Xe!==null&&(e&&Xe.alternate!==null&&yt.delete(Xe.key===null?Et:Xe.key),L=d(Xe,L,Et),Nt===null?ht=Xe:Nt.sibling=Xe,Nt=Xe);return e&&yt.forEach(function(Zi){return n(k,Zi)}),Qt&&Ma(k,Et),ht}function _t(k,L,q,J){if(q==null)throw Error(a(151));for(var ht=null,Nt=null,yt=L,Et=L=0,Xe=null,Gt=q.next();yt!==null&&!Gt.done;Et++,Gt=q.next()){yt.index>Et?(Xe=yt,yt=null):Xe=yt.sibling;var Zi=G(k,yt,Gt.value,J);if(Zi===null){yt===null&&(yt=Xe);break}e&&yt&&Zi.alternate===null&&n(k,yt),L=d(Zi,L,Et),Nt===null?ht=Zi:Nt.sibling=Zi,Nt=Zi,yt=Xe}if(Gt.done)return s(k,yt),Qt&&Ma(k,Et),ht;if(yt===null){for(;!Gt.done;Et++,Gt=q.next())Gt=tt(k,Gt.value,J),Gt!==null&&(L=d(Gt,L,Et),Nt===null?ht=Gt:Nt.sibling=Gt,Nt=Gt);return Qt&&Ma(k,Et),ht}for(yt=o(yt);!Gt.done;Et++,Gt=q.next())Gt=F(yt,k,Et,Gt.value,J),Gt!==null&&(e&&Gt.alternate!==null&&yt.delete(Gt.key===null?Et:Gt.key),L=d(Gt,L,Et),Nt===null?ht=Gt:Nt.sibling=Gt,Nt=Gt);return e&&yt.forEach(function(u1){return n(k,u1)}),Qt&&Ma(k,Et),ht}function re(k,L,q,J){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:t:{for(var ht=q.key;L!==null;){if(L.key===ht){if(ht=q.type,ht===U){if(L.tag===7){s(k,L.sibling),J=f(L,q.props.children),J.return=k,k=J;break t}}else if(L.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Lp(ht)===L.type){s(k,L.sibling),J=f(L,q.props),Ql(J,q),J.return=k,k=J;break t}s(k,L);break}else n(k,L);L=L.sibling}q.type===U?(J=Ia(q.props.children,k.mode,J,q.key),J.return=k,k=J):(J=Su(q.type,q.key,q.props,null,k.mode,J),Ql(J,q),J.return=k,k=J)}return _(k);case C:t:{for(ht=q.key;L!==null;){if(L.key===ht)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){s(k,L.sibling),J=f(L,q.children||[]),J.return=k,k=J;break t}else{s(k,L);break}else n(k,L);L=L.sibling}J=Ff(q,k.mode,J),J.return=k,k=J}return _(k);case w:return ht=q._init,q=ht(q._payload),re(k,L,q,J)}if(Jt(q))return bt(k,L,q,J);if(z(q)){if(ht=z(q),typeof ht!="function")throw Error(a(150));return q=ht.call(q),_t(k,L,q,J)}if(typeof q.then=="function")return re(k,L,Bu(q),J);if(q.$$typeof===Z)return re(k,L,Cu(k,q),J);ju(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(s(k,L.sibling),J=f(L,q),J.return=k,k=J):(s(k,L),J=Gf(q,k.mode,J),J.return=k,k=J),_(k)):s(k,L)}return function(k,L,q,J){try{Fl=0;var ht=re(k,L,q,J);return Cs=null,ht}catch(yt){if(yt===Ul||yt===xu)throw yt;var Nt=Vn(29,yt,null,k.mode);return Nt.lanes=J,Nt.return=k,Nt}finally{}}}var Ds=Up(!0),Pp=Up(!1),$n=nt(null),Cr=null;function Ui(e){var n=e.alternate;it(ze,ze.current&1),it($n,e),Cr===null&&(n===null||Ss.current!==null||n.memoizedState!==null)&&(Cr=e)}function zp(e){if(e.tag===22){if(it(ze,ze.current),it($n,e),Cr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Cr=e)}}else Pi()}function Pi(){it(ze,ze.current),it($n,$n.current)}function fi(e){st($n),Cr===e&&(Cr=null),st(ze)}var ze=nt(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||dd(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ah(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wh={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Un(),f=Mi(o);f.payload=n,s!=null&&(f.callback=s),n=Oi(e,f,o),n!==null&&(Pn(n,e,o),zl(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Un(),f=Mi(o);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Oi(e,f,o),n!==null&&(Pn(n,e,o),zl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Un(),o=Mi(s);o.tag=2,n!=null&&(o.callback=n),n=Oi(e,o,s),n!==null&&(Pn(n,e,s),zl(n,e,s))}};function kp(e,n,s,o,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):n.prototype&&n.prototype.isPureReactComponent?!Dl(s,o)||!Dl(f,d):!0}function Bp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&wh.enqueueReplaceState(n,n.state,null)}function Ba(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var Hu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function jp(e){Hu(e)}function qp(e){console.error(e)}function Hp(e){Hu(e)}function Gu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rh(e,n,s){return s=Mi(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(e,n)},s}function Fp(e){return e=Mi(e),e.tag=3,e}function Qp(e,n,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){Gp(n,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Gp(n,s,o),typeof f!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function ub(e,n,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ml(n,s,f,!0),s=$n.current,s!==null){switch(s.tag){case 13:return Cr===null?$h():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===eh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Jh(e,o,f)),!1;case 22:return s.flags|=65536,o===eh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Jh(e,o,f)),!1}throw Error(a(435,s.tag))}return Jh(e,o,f),$h(),!1}if(Qt)return n=$n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Xf&&(e=Error(a(422),{cause:o}),Vl(Qn(e,s)))):(o!==Xf&&(n=Error(a(423),{cause:o}),Vl(Qn(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Qn(o,s),f=Rh(e.stateNode,o,f),ih(e,f),ve!==4&&(ve=2)),!1;var d=Error(a(520),{cause:o});if(d=Qn(d,s),Wl===null?Wl=[d]:Wl.push(d),ve!==4&&(ve=2),n===null)return!0;o=Qn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=Rh(s.stateNode,o,e),ih(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hi===null||!Hi.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Fp(f),Qp(f,e,s,o),ih(s,f),!1}s=s.return}while(s!==null);return!1}var Yp=Error(a(461)),Qe=!1;function en(e,n,s,o){n.child=e===null?Pp(n,null,s,o):Ds(n,e.child,s,o)}function Xp(e,n,s,o,f){s=s.render;var d=n.ref;if("ref"in o){var _={};for(var b in o)b!=="ref"&&(_[b]=o[b])}else _=o;return Pa(n),o=uh(e,n,s,_,d,f),b=ch(),e!==null&&!Qe?(fh(e,n,f),hi(e,n,f)):(Qt&&b&&Qf(n),n.flags|=1,en(e,n,o,f),n.child)}function Kp(e,n,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!Hf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,$p(e,n,d,o,f)):(e=Su(s.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Oh(e,f)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Dl,s(_,o)&&e.ref===n.ref)return hi(e,n,f)}return n.flags|=1,e=ai(d,o),e.ref=n.ref,e.return=n,n.child=e}function $p(e,n,s,o,f){if(e!==null){var d=e.memoizedProps;if(Dl(d,o)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=o=d,Oh(e,f))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,hi(e,n,f)}return Ch(e,n,s,o,f)}function Zp(e,n,s){var o=n.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Jp(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,d!==null?d.cachePool:null),d!==null?$g(n,d):sh(),zp(n);else return n.lanes=n.childLanes=536870912,Jp(e,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(Du(n,d.cachePool),$g(n,d),Pi(),n.memoizedState=null):(e!==null&&Du(n,null),sh(),Pi());return en(e,n,f,s),n.child}function Jp(e,n,s,o){var f=th();return f=f===null?null:{parent:Pe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),sh(),zp(n),e!==null&&Ml(e,n,o,!0),null}function Fu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Ch(e,n,s,o,f){return Pa(n),s=uh(e,n,s,o,void 0,f),o=ch(),e!==null&&!Qe?(fh(e,n,f),hi(e,n,f)):(Qt&&o&&Qf(n),n.flags|=1,en(e,n,s,f),n.child)}function Wp(e,n,s,o,f,d){return Pa(n),n.updateQueue=null,s=Jg(n,o,s,f),Zg(e),o=ch(),e!==null&&!Qe?(fh(e,n,d),hi(e,n,d)):(Qt&&o&&Qf(n),n.flags|=1,en(e,n,s,d),n.child)}function ty(e,n,s,o,f){if(Pa(n),n.stateNode===null){var d=vs,_=s.contextType;typeof _=="object"&&_!==null&&(d=on(_)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},nh(n),_=s.contextType,d.context=typeof _=="object"&&_!==null?on(_):vs,d.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Ah(n,s,_,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wh.enqueueReplaceState(d,d.state,null),Bl(n,o,d,f),kl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var b=n.memoizedProps,N=Ba(s,b);d.props=N;var H=d.context,$=s.contextType;_=vs,typeof $=="object"&&$!==null&&(_=on($));var tt=s.getDerivedStateFromProps;$=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&Bp(n,d,o,_),Vi=!1;var G=n.memoizedState;d.state=G,Bl(n,o,d,f),kl(),H=n.memoizedState,b||G!==H||Vi?(typeof tt=="function"&&(Ah(n,s,tt,o),H=n.memoizedState),(N=Vi||kp(n,s,N,o,G,H,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=H),d.props=o,d.state=H,d.context=_,o=N):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,rh(e,n),_=n.memoizedProps,$=Ba(s,_),d.props=$,tt=n.pendingProps,G=d.context,H=s.contextType,N=vs,typeof H=="object"&&H!==null&&(N=on(H)),b=s.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||G!==N)&&Bp(n,d,o,N),Vi=!1,G=n.memoizedState,d.state=G,Bl(n,o,d,f),kl();var F=n.memoizedState;_!==tt||G!==F||Vi||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof b=="function"&&(Ah(n,s,b,o),F=n.memoizedState),($=Vi||kp(n,s,$,o,G,F,N)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,F,N)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),d.props=o,d.state=F,d.context=N,o=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Fu(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=Ds(n,e.child,null,f),n.child=Ds(n,null,s,f)):en(e,n,s,f),n.memoizedState=d.state,e=n.child):e=hi(e,n,f),e}function ey(e,n,s,o){return Il(),n.flags|=256,en(e,n,s,o),n.child}var Dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xh(e){return{baseLanes:e,cachePool:qg()}}function Nh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Zn),e}function ny(e,n,s){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(f?Ui(n):Pi(),Qt){var b=ye,N;if(N=b){t:{for(N=b,b=Rr;N.nodeType!==8;){if(!b){b=null;break t}if(N=cr(N.nextSibling),N===null){b=null;break t}}b=N}b!==null?(n.memoizedState={dehydrated:b,treeContext:Va!==null?{id:si,overflow:li}:null,retryLane:536870912,hydrationErrors:null},N=Vn(18,null,null,0),N.stateNode=b,N.return=n,n.child=N,En=n,ye=null,N=!0):N=!1}N||La(n)}if(b=n.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return dd(b)?n.lanes=32:n.lanes=536870912,null;fi(n)}return b=o.children,o=o.fallback,f?(Pi(),f=n.mode,b=Qu({mode:"hidden",children:b},f),o=Ia(o,f,s,null),b.return=n,o.return=n,b.sibling=o,n.child=b,f=n.child,f.memoizedState=xh(s),f.childLanes=Nh(e,_,s),n.memoizedState=Dh,o):(Ui(n),Ih(n,b))}if(N=e.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(d)n.flags&256?(Ui(n),n.flags&=-257,n=Vh(e,n,s)):n.memoizedState!==null?(Pi(),n.child=e.child,n.flags|=128,n=null):(Pi(),f=o.fallback,b=n.mode,o=Qu({mode:"visible",children:o.children},b),f=Ia(f,b,s,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,Ds(n,e.child,null,s),o=n.child,o.memoizedState=xh(s),o.childLanes=Nh(e,_,s),n.memoizedState=Dh,n=f);else if(Ui(n),dd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,o=Error(a(419)),o.stack="",o.digest=_,Vl({value:o,source:null,stack:null}),n=Vh(e,n,s)}else if(Qe||Ml(e,n,s,!1),_=(s&e.childLanes)!==0,Qe||_){if(_=se,_!==null&&(o=s&-s,o=(o&42)!==0?1:_e(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==N.retryLane))throw N.retryLane=o,ys(e,o),Pn(_,e,o),Yp;b.data==="$?"||$h(),n=Vh(e,n,s)}else b.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,ye=cr(b.nextSibling),En=n,Qt=!0,Oa=null,Rr=!1,e!==null&&(Xn[Kn++]=si,Xn[Kn++]=li,Xn[Kn++]=Va,si=e.id,li=e.overflow,Va=n),n=Ih(n,o.children),n.flags|=4096);return n}return f?(Pi(),f=o.fallback,b=n.mode,N=e.child,H=N.sibling,o=ai(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,H!==null?f=ai(H,f):(f=Ia(f,b,s,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,b=e.child.memoizedState,b===null?b=xh(s):(N=b.cachePool,N!==null?(H=Pe._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=qg(),b={baseLanes:b.baseLanes|s,cachePool:N}),f.memoizedState=b,f.childLanes=Nh(e,_,s),n.memoizedState=Dh,o):(Ui(n),s=e.child,e=s.sibling,s=ai(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function Ih(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=Vn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vh(e,n,s){return Ds(n,e.child,null,s),e=Ih(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ry(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$f(e.return,n,s)}function Mh(e,n,s,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=f)}function iy(e,n,s){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(en(e,n,o.children,s),o=ze.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,s,n);else if(e.tag===19)ry(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(it(ze,o),f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&qu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Mh(n,!1,f,s,d);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&qu(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Mh(n,!0,s,null,d);break;case"together":Mh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function hi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),qi|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ml(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ai(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ai(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Oh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function cb(e,n,s){switch(n.tag){case 3:Pt(n,n.stateNode.containerInfo),Ii(n,Pe,e.memoizedState.cache),Il();break;case 27:case 5:It(n);break;case 4:Pt(n,n.stateNode.containerInfo);break;case 10:Ii(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ui(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ny(e,n,s):(Ui(n),e=hi(e,n,s),e!==null?e.sibling:null);Ui(n);break;case 19:var f=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ml(e,n,s,!1),o=(s&n.childLanes)!==0),f){if(o)return iy(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(ze,ze.current),o)break;return null;case 22:case 23:return n.lanes=0,Zp(e,n,s);case 24:Ii(n,Pe,e.memoizedState.cache)}return hi(e,n,s)}function ay(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!Oh(e,s)&&(n.flags&128)===0)return Qe=!1,cb(e,n,s);Qe=(e.flags&131072)!==0}else Qe=!1,Qt&&(n.flags&1048576)!==0&&Lg(n,wu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")Hf(o)?(e=Ba(o,e),n.tag=1,n=ty(null,n,o,e,s)):(n.tag=0,n=Ch(null,n,o,e,s));else{if(o!=null){if(f=o.$$typeof,f===ut){n.tag=11,n=Xp(null,n,o,e,s);break t}else if(f===I){n.tag=14,n=Kp(null,n,o,e,s);break t}}throw n=Zt(o)||o,Error(a(306,n,""))}}return n;case 0:return Ch(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,f=Ba(o,n.pendingProps),ty(e,n,o,f,s);case 3:t:{if(Pt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,rh(e,n),Bl(n,o,null,s);var _=n.memoizedState;if(o=_.cache,Ii(n,Pe,o),o!==d.cache&&Zf(n,[Pe],s,!0),kl(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=ey(e,n,o,s);break t}else if(o!==f){f=Qn(Error(a(424)),n),Vl(f),n=ey(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ye=cr(e.firstChild),En=n,Qt=!0,Oa=null,Rr=!0,s=Pp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Il(),o===f){n=hi(e,n,s);break t}en(e,n,o,s)}n=n.child}return n;case 26:return Fu(e,n),e===null?(s=uv(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qt||(s=n.type,e=n.pendingProps,o=sc(pt.current).createElement(s),o[Wt]=n,o[Ft]=e,rn(o,s,e),Ee(o),n.stateNode=o):n.memoizedState=uv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return It(n),e===null&&Qt&&(o=n.stateNode=sv(n.type,n.pendingProps,pt.current),En=n,Rr=!0,f=ye,Qi(n.type)?(md=f,ye=cr(o.firstChild)):ye=f),en(e,n,n.pendingProps.children,s),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((f=o=ye)&&(o=zb(o,n.type,n.pendingProps,Rr),o!==null?(n.stateNode=o,En=n,ye=cr(o.firstChild),Rr=!1,f=!0):f=!1),f||La(n)),It(n),f=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,cd(f,d)?o=null:_!==null&&cd(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=uh(e,n,nb,null,null,s),oo._currentValue=f),Fu(e,n),en(e,n,o,s),n.child;case 6:return e===null&&Qt&&((e=s=ye)&&(s=kb(s,n.pendingProps,Rr),s!==null?(n.stateNode=s,En=n,ye=null,e=!0):e=!1),e||La(n)),null;case 13:return ny(e,n,s);case 4:return Pt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ds(n,null,o,s):en(e,n,o,s),n.child;case 11:return Xp(e,n,n.type,n.pendingProps,s);case 7:return en(e,n,n.pendingProps,s),n.child;case 8:return en(e,n,n.pendingProps.children,s),n.child;case 12:return en(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ii(n,n.type,o.value),en(e,n,o.children,s),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Pa(n),f=on(f),o=o(f),n.flags|=1,en(e,n,o,s),n.child;case 14:return Kp(e,n,n.type,n.pendingProps,s);case 15:return $p(e,n,n.type,n.pendingProps,s);case 19:return iy(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=Qu(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=ai(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Zp(e,n,s);case 24:return Pa(n),o=on(Pe),e===null?(f=th(),f===null&&(f=se,d=Jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),n.memoizedState={parent:o,cache:f},nh(n),Ii(n,Pe,f)):((e.lanes&s)!==0&&(rh(e,n),Bl(n,null,null,s),kl()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ii(n,Pe,o)):(o=d.cache,Ii(n,Pe,o),o!==f.cache&&Zf(n,[Pe],s,!0))),en(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function di(e){e.flags|=4}function sy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mv(n)){if(n=$n.current,n!==null&&((jt&4194048)===jt?Cr!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==Cr))throw Pl=eh,Hg;e.flags|=8192}}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ga():536870912,e.lanes|=n,Vs|=n)}function Yl(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function fb(e,n,s){var o=n.pendingProps;switch(Yf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ui(Pe),Ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Nl(n)?di(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zg())),de(n),null;case 26:return s=n.memoizedState,e===null?(di(n),s!==null?(de(n),sy(n,s)):(de(n),n.flags&=-16777217)):s?s!==e.memoizedState?(di(n),de(n),sy(n,s)):(de(n),n.flags&=-16777217):(e.memoizedProps!==o&&di(n),de(n),n.flags&=-16777217),null;case 27:dn(n),s=pt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&di(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=mt.current,Nl(n)?Ug(n):(e=sv(f,o,s),n.stateNode=e,di(n))}return de(n),null;case 5:if(dn(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&di(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(e=mt.current,Nl(n))Ug(n);else{switch(f=sc(pt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(s,{is:o.is}):f.createElement(s)}}e[Wt]=n,e[Ft]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(rn(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&di(n)}}return de(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&di(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=pt.current,Nl(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,f=En,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Wt]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Wy(e.nodeValue,s)),e||La(n)}else e=sc(e).createTextNode(o),e[Wt]=n,n.stateNode=e}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Nl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Wt]=n}else Il(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),f=!1}else f=zg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(fi(n),n):(fi(n),null)}if(fi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),de(n),null;case 4:return Ae(),e===null&&ad(n.stateNode.containerInfo),de(n),null;case 10:return ui(n.type),de(n),null;case 19:if(st(ze),f=n.memoizedState,f===null)return de(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)Yl(f,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=qu(e),d!==null){for(n.flags|=128,Yl(f,!1),e=d.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Og(s,e),s=s.sibling;return it(ze,ze.current&1|2),n.child}e=e.sibling}f.tail!==null&&mn()>$u&&(n.flags|=128,o=!0,Yl(f,!1),n.lanes=4194304)}else{if(!o)if(e=qu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Yl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Qt)return de(n),null}else 2*mn()-f.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,o=!0,Yl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=mn(),n.sibling=null,e=ze.current,it(ze,o?e&1|2:e&1),n):(de(n),null);case 22:case 23:return fi(n),lh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&st(za),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ui(Pe),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function hb(e,n){switch(Yf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ui(Pe),Ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dn(n),null;case 13:if(fi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Il()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return st(ze),null;case 4:return Ae(),null;case 10:return ui(n.type),null;case 22:case 23:return fi(n),lh(),e!==null&&st(za),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ui(Pe),null;case 25:return null;default:return null}}function ly(e,n){switch(Yf(n),n.tag){case 3:ui(Pe),Ae();break;case 26:case 27:case 5:dn(n);break;case 4:Ae();break;case 13:fi(n);break;case 19:st(ze);break;case 10:ui(n.type);break;case 22:case 23:fi(n),lh(),e!==null&&st(za);break;case 24:ui(Pe)}}function Xl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,_=s.inst;o=d(),_.destroy=o}s=s.next}while(s!==f)}}catch(b){ie(n,n.return,b)}}function zi(e,n,s){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var _=o.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=n;var N=s,H=b;try{H()}catch($){ie(f,N,$)}}}o=o.next}while(o!==d)}}catch($){ie(n,n.return,$)}}function oy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Kg(n,s)}catch(o){ie(e,e.return,o)}}}function uy(e,n,s){s.props=Ba(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){ie(e,n,o)}}function Kl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){ie(e,n,f)}}function Dr(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){ie(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){ie(e,n,f)}else s.current=null}function cy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){ie(e,e.return,f)}}function Lh(e,n,s){try{var o=e.stateNode;Mb(o,e.type,s,n),o[Ft]=n}catch(f){ie(e,e.return,f)}}function fy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qi(e.type)||e.tag===4}function Uh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||fy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ph(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ac));else if(o!==4&&(o===27&&Qi(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ph(e,n,s),e=e.sibling;e!==null;)Ph(e,n,s),e=e.sibling}function Xu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Qi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Xu(e,n,s),e=e.sibling;e!==null;)Xu(e,n,s),e=e.sibling}function hy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);rn(n,o,s),n[Wt]=e,n[Ft]=s}catch(d){ie(e,e.return,d)}}var mi=!1,be=!1,zh=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function db(e,n){if(e=e.containerInfo,od=hc,e=Ag(e),Uf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var _=0,b=-1,N=-1,H=0,$=0,tt=e,G=null;e:for(;;){for(var F;tt!==s||f!==0&&tt.nodeType!==3||(b=_+f),tt!==d||o!==0&&tt.nodeType!==3||(N=_+o),tt.nodeType===3&&(_+=tt.nodeValue.length),(F=tt.firstChild)!==null;)G=tt,tt=F;for(;;){if(tt===e)break e;if(G===s&&++H===f&&(b=_),G===d&&++$===o&&(N=_),(F=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=F}s=b===-1||N===-1?null:{start:b,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(ud={focusedElem:e,selectionRange:s},hc=!1,Ye=n;Ye!==null;)if(n=Ye,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ye=e;else for(;Ye!==null;){switch(n=Ye,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var bt=Ba(s.type,f,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(bt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){ie(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)hd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ye=e;break}Ye=n.return}}function my(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ki(e,s),o&4&&Xl(5,s);break;case 1:if(ki(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(_){ie(s,s.return,_)}else{var f=Ba(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ie(s,s.return,_)}}o&64&&oy(s),o&512&&Kl(s,s.return);break;case 3:if(ki(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Kg(e,n)}catch(_){ie(s,s.return,_)}}break;case 27:n===null&&o&4&&hy(s);case 26:case 5:ki(e,s),n===null&&o&4&&cy(s),o&512&&Kl(s,s.return);break;case 12:ki(e,s);break;case 13:ki(e,s),o&4&&yy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=bb.bind(null,s),Bb(e,s))));break;case 22:if(o=s.memoizedState!==null||mi,!o){n=n!==null&&n.memoizedState!==null||be,f=mi;var d=be;mi=o,(be=n)&&!d?Bi(e,s,(s.subtreeFlags&8772)!==0):ki(e,s),mi=f,be=d}break;case 30:break;default:ki(e,s)}}function gy(e){var n=e.alternate;n!==null&&(e.alternate=null,gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ci(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,wn=!1;function gi(e,n,s){for(s=s.child;s!==null;)py(e,n,s),s=s.sibling}function py(e,n,s){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(ue,s)}catch{}switch(s.tag){case 26:be||Dr(s,n),gi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||Dr(s,n);var o=fe,f=wn;Qi(s.type)&&(fe=s.stateNode,wn=!1),gi(e,n,s),io(s.stateNode),fe=o,wn=f;break;case 5:be||Dr(s,n);case 6:if(o=fe,f=wn,fe=null,gi(e,n,s),fe=o,wn=f,fe!==null)if(wn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(d){ie(s,n,d)}else try{fe.removeChild(s.stateNode)}catch(d){ie(s,n,d)}break;case 18:fe!==null&&(wn?(e=fe,iv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ho(e)):iv(fe,s.stateNode));break;case 4:o=fe,f=wn,fe=s.stateNode.containerInfo,wn=!0,gi(e,n,s),fe=o,wn=f;break;case 0:case 11:case 14:case 15:be||zi(2,s,n),be||zi(4,s,n),gi(e,n,s);break;case 1:be||(Dr(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&uy(s,n,o)),gi(e,n,s);break;case 21:gi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,gi(e,n,s),be=o;break;default:gi(e,n,s)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ho(e)}catch(s){ie(n,n.return,s)}}function mb(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(a(435,e.tag))}}function kh(e,n){var s=mb(e);n.forEach(function(o){var f=Sb.bind(null,e,o);s.has(o)||(s.add(o),o.then(f,f))})}function Mn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,_=n,b=_;t:for(;b!==null;){switch(b.tag){case 27:if(Qi(b.type)){fe=b.stateNode,wn=!1;break t}break;case 5:fe=b.stateNode,wn=!1;break t;case 3:case 4:fe=b.stateNode.containerInfo,wn=!0;break t}b=b.return}if(fe===null)throw Error(a(160));py(d,_,f),fe=null,wn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var ur=null;function vy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mn(n,e),On(e),o&4&&(zi(3,e,e.return),Xl(3,e),zi(5,e,e.return));break;case 1:Mn(n,e),On(e),o&512&&(be||s===null||Dr(s,s.return)),o&64&&mi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=ur;if(Mn(n,e),On(e),o&512&&(be||s===null||Dr(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ar]||d[Wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),rn(d,o,s),d[Wt]=e,Ee(d),o=d;break t;case"link":var _=hv("link","href",f).get(o+(s.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(b,1);break e}}d=f.createElement(o),rn(d,o,s),f.head.appendChild(d);break;case"meta":if(_=hv("meta","content",f).get(o+(s.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(b,1);break e}}d=f.createElement(o),rn(d,o,s),f.head.appendChild(d);break;default:throw Error(a(468,o))}d[Wt]=e,Ee(d),o=d}e.stateNode=o}else dv(f,e.type,e.stateNode);else e.stateNode=fv(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?dv(f,e.type,e.stateNode):fv(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lh(e,e.memoizedProps,s.memoizedProps)}break;case 27:Mn(n,e),On(e),o&512&&(be||s===null||Dr(s,s.return)),s!==null&&o&4&&Lh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Mn(n,e),On(e),o&512&&(be||s===null||Dr(s,s.return)),e.flags&32){f=e.stateNode;try{qn(f,"")}catch(F){ie(e,e.return,F)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Lh(e,f,s!==null?s.memoizedProps:f)),o&1024&&(zh=!0);break;case 6:if(Mn(n,e),On(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(F){ie(e,e.return,F)}}break;case 3:if(uc=null,f=ur,ur=lc(n.containerInfo),Mn(n,e),ur=f,On(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ho(n.containerInfo)}catch(F){ie(e,e.return,F)}zh&&(zh=!1,_y(e));break;case 4:o=ur,ur=lc(e.stateNode.containerInfo),Mn(n,e),On(e),ur=o;break;case 12:Mn(n,e),On(e);break;case 13:Mn(n,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fh=mn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,kh(e,o)));break;case 22:f=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,H=mi,$=be;if(mi=H||f,be=$||N,Mn(n,e),be=$,mi=H,On(e),o&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||N||mi||be||ja(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var tt=N.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(F){ie(N,N.return,F)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(F){ie(N,N.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,kh(e,s))));break;case 19:Mn(n,e),On(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,kh(e,o)));break;case 30:break;case 21:break;default:Mn(n,e),On(e)}}function On(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(fy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Uh(e);Xu(e,d,f);break;case 5:var _=s.stateNode;s.flags&32&&(qn(_,""),s.flags&=-33);var b=Uh(e);Xu(e,b,_);break;case 3:case 4:var N=s.stateNode.containerInfo,H=Uh(e);Ph(e,H,N);break;default:throw Error(a(161))}}catch($){ie(e,e.return,$)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function ja(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zi(4,n,n.return),ja(n);break;case 1:Dr(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&uy(n,n.return,s),ja(n);break;case 27:io(n.stateNode);case 26:case 5:Dr(n,n.return),ja(n);break;case 22:n.memoizedState===null&&ja(n);break;case 30:ja(n);break;default:ja(n)}e=e.sibling}}function Bi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Bi(f,d,s),Xl(4,d);break;case 1:if(Bi(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ie(o,o.return,H)}if(o=d,f=o.updateQueue,f!==null){var b=o.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Xg(N[f],b)}catch(H){ie(o,o.return,H)}}s&&_&64&&oy(d),Kl(d,d.return);break;case 27:hy(d);case 26:case 5:Bi(f,d,s),s&&o===null&&_&4&&cy(d),Kl(d,d.return);break;case 12:Bi(f,d,s);break;case 13:Bi(f,d,s),s&&_&4&&yy(f,d);break;case 22:d.memoizedState===null&&Bi(f,d,s),Kl(d,d.return);break;case 30:break;default:Bi(f,d,s)}n=n.sibling}}function Bh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ol(s))}function jh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ol(e))}function xr(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(e,n,s,o),n=n.sibling}function Ey(e,n,s,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:xr(e,n,s,o),f&2048&&Xl(9,n);break;case 1:xr(e,n,s,o);break;case 3:xr(e,n,s,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ol(e)));break;case 12:if(f&2048){xr(e,n,s,o),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ie(n,n.return,N)}}else xr(e,n,s,o);break;case 13:xr(e,n,s,o);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?xr(e,n,s,o):$l(e,n):d._visibility&2?xr(e,n,s,o):(d._visibility|=2,xs(e,n,s,o,(n.subtreeFlags&10256)!==0)),f&2048&&Bh(_,n);break;case 24:xr(e,n,s,o),f&2048&&jh(n.alternate,n);break;default:xr(e,n,s,o)}}function xs(e,n,s,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,_=n,b=s,N=o,H=_.flags;switch(_.tag){case 0:case 11:case 15:xs(d,_,b,N,f),Xl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?xs(d,_,b,N,f):$l(d,_):($._visibility|=2,xs(d,_,b,N,f)),f&&H&2048&&Bh(_.alternate,_);break;case 24:xs(d,_,b,N,f),f&&H&2048&&jh(_.alternate,_);break;default:xs(d,_,b,N,f)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,f=o.flags;switch(o.tag){case 22:$l(s,o),f&2048&&Bh(o.alternate,o);break;case 24:$l(s,o),f&2048&&jh(o.alternate,o);break;default:$l(s,o)}n=n.sibling}}var Zl=8192;function Ns(e){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 26:Ns(e),e.flags&Zl&&e.memoizedState!==null&&Wb(ur,e.memoizedState,e.memoizedProps);break;case 5:Ns(e);break;case 3:case 4:var n=ur;ur=lc(e.stateNode.containerInfo),Ns(e),ur=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Zl,Zl=16777216,Ns(e),Zl=n):Ns(e));break;default:Ns(e)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ye=o,Ay(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&zi(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ku(e)):Jl(e);break;default:Jl(e)}}function Ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ye=o,Ay(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zi(8,n,n.return),Ku(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ku(n));break;default:Ku(n)}e=e.sibling}}function Ay(e,n){for(;Ye!==null;){var s=Ye;switch(s.tag){case 0:case 11:case 15:zi(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ol(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ye=o;else t:for(s=e;Ye!==null;){o=Ye;var f=o.sibling,d=o.return;if(gy(o),o===s){Ye=null;break t}if(f!==null){f.return=d,Ye=f;break t}Ye=d}}}var gb={getCacheForType:function(e){var n=on(Pe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},pb=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Vt=null,jt=0,$t=0,Ln=null,ji=!1,Is=!1,qh=!1,pi=0,ve=0,qi=0,qa=0,Hh=0,Zn=0,Vs=0,Wl=null,Rn=null,Gh=!1,Fh=0,$u=1/0,Zu=null,Hi=null,nn=0,Gi=null,Ms=null,Os=0,Qh=0,Yh=null,wy=null,to=0,Xh=null;function Un(){if((Kt&2)!==0&&jt!==0)return jt&-jt;if(X.T!==null){var e=Ts;return e!==0?e:ed()}return Oe()}function Ry(){Zn===0&&(Zn=(jt&536870912)===0||Qt?ma():536870912);var e=$n.current;return e!==null&&(e.flags|=32),Zn}function Pn(e,n,s){(e===se&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Ls(e,0),Fi(e,jt,Zn,!1)),ae(e,s),((Kt&2)===0||e!==se)&&(e===se&&((Kt&2)===0&&(qa|=s),ve===4&&Fi(e,jt,Zn,!1)),Nr(e))}function Cy(e,n,s){if((Kt&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Yr(e,n),f=o?_b(e,n):Zh(e,n,!0),d=o;do{if(f===0){Is&&!o&&Fi(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!yb(s)){f=Zh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var b=e;f=Wl;var N=b.current.memoizedState.isDehydrated;if(N&&(Ls(b,_).flags|=256),_=Zh(b,_,!1),_!==2){if(qh&&!N){b.errorRecoveryDisabledLanes|=d,qa|=d,f=4;break t}d=Rn,Rn=f,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ls(e,0),Fi(e,n,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Fi(o,n,Zn,!ji);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Fh+300-mn(),10<f)){if(Fi(o,n,Zn,!ji),Qr(o,0,!0)!==0)break t;o.timeoutHandle=nv(Dy.bind(null,o,s,Rn,Zu,Gh,n,Zn,qa,Vs,ji,d,2,-0,0),f);break t}Dy(o,s,Rn,Zu,Gh,n,Zn,qa,Vs,ji,d,0,-0,0)}}break}while(!0);Nr(e)}function Dy(e,n,s,o,f,d,_,b,N,H,$,tt,G,F){if(e.timeoutHandle=-1,tt=n.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(lo={stylesheets:null,count:0,unsuspend:Jb},Ty(n),tt=t1(),tt!==null)){e.cancelPendingCommit=tt(Ly.bind(null,e,n,d,s,o,f,_,b,N,$,1,G,F)),Fi(e,d,_,!H);return}Ly(e,n,d,s,o,f,_,b,N)}function yb(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!In(d(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fi(e,n,s,o){n&=~Hh,n&=~qa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-ge(f),_=1<<d;o[d]=-1,f&=~_}s!==0&&ce(e,s,n)}function Ju(){return(Kt&6)===0?(eo(0),!1):!0}function Kh(){if(Vt!==null){if($t===0)var e=Vt.return;else e=Vt,oi=Ua=null,hh(e),Cs=null,Fl=0,e=Vt;for(;e!==null;)ly(e.alternate,e),e=e.return;Vt=null}}function Ls(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Lb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Kh(),se=e,Vt=s=ai(e.current,null),jt=n,$t=0,Ln=null,ji=!1,Is=Yr(e,n),qh=!1,Vs=Zn=Hh=qa=qi=ve=0,Rn=Wl=null,Gh=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-ge(o),d=1<<f;n|=e[f],o&=~d}return pi=n,Eu(),s}function xy(e,n){xt=null,X.H=ku,n===Ul||n===xu?(n=Qg(),$t=3):n===Hg?(n=Qg(),$t=4):$t=n===Yp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Vt===null&&(ve=1,Gu(e,Qn(n,e.current)))}function Ny(){var e=X.H;return X.H=ku,e===null?ku:e}function Iy(){var e=X.A;return X.A=gb,e}function $h(){ve=4,ji||(jt&4194048)!==jt&&$n.current!==null||(Is=!0),(qi&134217727)===0&&(qa&134217727)===0||se===null||Fi(se,jt,Zn,!1)}function Zh(e,n,s){var o=Kt;Kt|=2;var f=Ny(),d=Iy();(se!==e||jt!==n)&&(Zu=null,Ls(e,n)),n=!1;var _=ve;t:do try{if($t!==0&&Vt!==null){var b=Vt,N=Ln;switch($t){case 8:Kh(),_=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(n=!0);var H=$t;if($t=0,Ln=null,Us(e,b,N,H),s&&Is){_=0;break t}break;default:H=$t,$t=0,Ln=null,Us(e,b,N,H)}}vb(),_=ve;break}catch($){xy(e,$)}while(!0);return n&&e.shellSuspendCounter++,oi=Ua=null,Kt=o,X.H=f,X.A=d,Vt===null&&(se=null,jt=0,Eu()),_}function vb(){for(;Vt!==null;)Vy(Vt)}function _b(e,n){var s=Kt;Kt|=2;var o=Ny(),f=Iy();se!==e||jt!==n?(Zu=null,$u=mn()+500,Ls(e,n)):Is=Yr(e,n);t:do try{if($t!==0&&Vt!==null){n=Vt;var d=Ln;e:switch($t){case 1:$t=0,Ln=null,Us(e,n,d,1);break;case 2:case 9:if(Gg(d)){$t=0,Ln=null,My(n);break}n=function(){$t!==2&&$t!==9||se!==e||($t=7),Nr(e)},d.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Gg(d)?($t=0,Ln=null,My(n)):($t=0,Ln=null,Us(e,n,d,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var b=Vt;if(!_||mv(_)){$t=0,Ln=null;var N=b.sibling;if(N!==null)Vt=N;else{var H=b.return;H!==null?(Vt=H,Wu(H)):Vt=null}break e}}$t=0,Ln=null,Us(e,n,d,5);break;case 6:$t=0,Ln=null,Us(e,n,d,6);break;case 8:Kh(),ve=6;break t;default:throw Error(a(462))}}Eb();break}catch($){xy(e,$)}while(!0);return oi=Ua=null,X.H=o,X.A=f,Kt=s,Vt!==null?0:(se=null,jt=0,Eu(),ve)}function Eb(){for(;Vt!==null&&!kn();)Vy(Vt)}function Vy(e){var n=ay(e.alternate,e,pi);e.memoizedProps=e.pendingProps,n===null?Wu(e):Vt=n}function My(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Wp(s,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=Wp(s,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:hh(n);default:ly(s,n),n=Vt=Og(n,pi),n=ay(s,n,pi)}e.memoizedProps=e.pendingProps,n===null?Wu(e):Vt=n}function Us(e,n,s,o){oi=Ua=null,hh(n),Cs=null,Fl=0;var f=n.return;try{if(ub(e,f,n,s,jt)){ve=1,Gu(e,Qn(s,e.current)),Vt=null;return}}catch(d){if(f!==null)throw Vt=f,d;ve=1,Gu(e,Qn(s,e.current)),Vt=null;return}n.flags&32768?(Qt||o===1?e=!0:Is||(jt&536870912)!==0?e=!1:(ji=e=!0,(o===2||o===9||o===3||o===6)&&(o=$n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Oy(n,e)):Wu(n)}function Wu(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,ji);return}e=n.return;var s=fb(n.alternate,n,pi);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);ve===0&&(ve=5)}function Oy(e,n){do{var s=hb(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);ve=6,Vt=null}function Ly(e,n,s,o,f,d,_,b,N){e.cancelPendingCommit=null;do tc();while(nn!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=jf,Me(e,s,d,_,b,N),e===se&&(Vt=se=null,jt=0),Ms=n,Gi=e,Os=s,Qh=d,Yh=f,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ab(Bn,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,f=at.p,at.p=2,_=Kt,Kt|=4;try{db(e,n,s)}finally{Kt=_,at.p=f,X.T=o}}nn=1,Uy(),Py(),zy()}}function Uy(){if(nn===1){nn=0;var e=Gi,n=Ms,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var o=at.p;at.p=2;var f=Kt;Kt|=4;try{vy(n,e);var d=ud,_=Ag(e.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Sg(b.ownerDocument.documentElement,b)){if(N!==null&&Uf(b)){var H=N.start,$=N.end;if($===void 0&&($=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min($,b.value.length);else{var tt=b.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var F=G.getSelection(),bt=b.textContent.length,_t=Math.min(N.start,bt),re=N.end===void 0?_t:Math.min(N.end,bt);!F.extend&&_t>re&&(_=re,re=_t,_t=_);var k=bg(b,_t),L=bg(b,re);if(k&&L&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==L.node||F.focusOffset!==L.offset)){var q=tt.createRange();q.setStart(k.node,k.offset),F.removeAllRanges(),_t>re?(F.addRange(q),F.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),F.addRange(q))}}}}for(tt=[],F=b;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var J=tt[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}hc=!!od,ud=od=null}finally{Kt=f,at.p=o,X.T=s}}e.current=n,nn=2}}function Py(){if(nn===2){nn=0;var e=Gi,n=Ms,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var o=at.p;at.p=2;var f=Kt;Kt|=4;try{my(e,n.alternate,n)}finally{Kt=f,at.p=o,X.T=s}}nn=3}}function zy(){if(nn===4||nn===3){nn=0,er();var e=Gi,n=Ms,s=Os,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?nn=5:(nn=0,Ms=Gi=null,ky(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Hi=null),Re(s),n=n.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(ue,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=X.T,f=at.p,at.p=2,X.T=null;try{for(var d=e.onRecoverableError,_=0;_<o.length;_++){var b=o[_];d(b.value,{componentStack:b.stack})}}finally{X.T=n,at.p=f}}(Os&3)!==0&&tc(),Nr(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===Xh?to++:(to=0,Xh=e):to=0,eo(0)}}function ky(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ol(n)))}function tc(e){return Uy(),Py(),zy(),By()}function By(){if(nn!==5)return!1;var e=Gi,n=Qh;Qh=0;var s=Re(Os),o=X.T,f=at.p;try{at.p=32>s?32:s,X.T=null,s=Yh,Yh=null;var d=Gi,_=Os;if(nn=0,Ms=Gi=null,Os=0,(Kt&6)!==0)throw Error(a(331));var b=Kt;if(Kt|=4,Sy(d.current),Ey(d,d.current,_,s),Kt=b,eo(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{at.p=f,X.T=o,ky(e,n)}}function jy(e,n,s){n=Qn(s,n),n=Rh(e.stateNode,n,2),e=Oi(e,n,2),e!==null&&(ae(e,2),Nr(e))}function ie(e,n,s){if(e.tag===3)jy(e,e,s);else for(;n!==null;){if(n.tag===3){jy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hi===null||!Hi.has(o))){e=Qn(s,e),s=Fp(2),o=Oi(n,s,2),o!==null&&(Qp(s,o,n,e),ae(o,2),Nr(o));break}}n=n.return}}function Jh(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new pb;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(s)||(qh=!0,f.add(s),e=Tb.bind(null,e,n,s),n.then(e,e))}function Tb(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(jt&s)===s&&(ve===4||ve===3&&(jt&62914560)===jt&&300>mn()-Fh?(Kt&2)===0&&Ls(e,0):Hh|=s,Vs===jt&&(Vs=0)),Nr(e)}function qy(e,n){n===0&&(n=ga()),e=ys(e,n),e!==null&&(ae(e,n),Nr(e))}function bb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),qy(e,s)}function Sb(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),qy(e,s)}function Ab(e,n){return bn(e,n)}var ec=null,Ps=null,Wh=!1,nc=!1,td=!1,Ha=0;function Nr(e){e!==Ps&&e.next===null&&(Ps===null?ec=Ps=e:Ps=Ps.next=e),nc=!0,Wh||(Wh=!0,Rb())}function eo(e,n){if(!td&&nc){td=!0;do for(var s=!1,o=ec;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var _=o.suspendedLanes,b=o.pingedLanes;d=(1<<31-ge(42|e)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Qy(o,d))}else d=jt,d=Qr(o,o===se?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Yr(o,d)||(s=!0,Qy(o,d));o=o.next}while(s);td=!1}}function wb(){Hy()}function Hy(){nc=Wh=!1;var e=0;Ha!==0&&(Ob()&&(e=Ha),Ha=0);for(var n=mn(),s=null,o=ec;o!==null;){var f=o.next,d=Gy(o,n);d===0?(o.next=null,s===null?ec=f:s.next=f,f===null&&(Ps=s)):(s=o,(e!==0||(d&3)!==0)&&(nc=!0)),o=f}eo(e)}function Gy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ge(d),b=1<<_,N=f[_];N===-1?((b&s)===0||(b&o)!==0)&&(f[_]=Ri(b,n)):N<=n&&(e.expiredLanes|=b),d&=~b}if(n=se,s=jt,s=Qr(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ze(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Yr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Ze(o),Re(s)){case 2:case 8:s=gn;break;case 32:s=Bn;break;case 268435456:s=Hr;break;default:s=Bn}return o=Fy.bind(null,e),s=bn(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Ze(o),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(nn!==0&&nn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(tc()&&e.callbackNode!==s)return null;var o=jt;return o=Qr(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Cy(e,o,n),Gy(e,mn()),e.callbackNode!=null&&e.callbackNode===s?Fy.bind(null,e):null)}function Qy(e,n){if(tc())return null;Cy(e,n,!0)}function Rb(){Ub(function(){(Kt&6)!==0?bn(qr,wb):Hy()})}function ed(){return Ha===0&&(Ha=ma()),Ha}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:as(""+e)}function Xy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Cb(e,n,s,o,f){if(n==="submit"&&s&&s.stateNode===f){var d=Yy((f[Ft]||null).action),_=o.submitter;_&&(n=(n=_[Ft]||null)?Yy(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var b=new ss("action","action",null,o,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ha!==0){var N=_?Xy(f,_):new FormData(f);Th(s,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?Xy(f,_):new FormData(f),Th(s,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var nd=0;nd<Bf.length;nd++){var rd=Bf[nd],Db=rd.toLowerCase(),xb=rd[0].toUpperCase()+rd.slice(1);or(Db,"on"+xb)}or(Cg,"onAnimationEnd"),or(Dg,"onAnimationIteration"),or(xg,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(QT,"onTransitionRun"),or(YT,"onTransitionStart"),or(XT,"onTransitionCancel"),or(Ng,"onTransitionEnd"),$r("onMouseEnter",["mouseout","mouseover"]),$r("onMouseLeave",["mouseout","mouseover"]),$r("onPointerEnter",["pointerout","pointerover"]),$r("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Ky(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var _=o.length-1;0<=_;_--){var b=o[_],N=b.instance,H=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=H;try{d(f)}catch($){Hu($)}f.currentTarget=null,d=N}else for(_=0;_<o.length;_++){if(b=o[_],N=b.instance,H=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=H;try{d(f)}catch($){Hu($)}f.currentTarget=null,d=N}}}}function Mt(e,n){var s=n[ir];s===void 0&&(s=n[ir]=new Set);var o=e+"__bubble";s.has(o)||($y(n,e,2,!1),s.add(o))}function id(e,n,s){var o=0;n&&(o|=4),$y(s,e,o,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[rc]){e[rc]=!0,ml.forEach(function(s){s!=="selectionchange"&&(Nb.has(s)||id(s,!1,e),id(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,id("selectionchange",!1,n))}}function $y(e,n,s,o){switch(Ev(n)){case 2:var f=r1;break;case 8:f=i1;break;default:f=_d}s=f.bind(null,n,s,e),f=void 0,!Gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function sd(e,n,s,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var b=o.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=Kr(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=d=_;continue t}b=b.parentNode}}o=o.return}au(function(){var H=d,$=Hn(s),tt=[];t:{var G=Ig.get(e);if(G!==void 0){var F=ss,bt=e;switch(e){case"keypress":if(Tr(s)===0)break t;case"keydown":case"keyup":F=hs;break;case"focusin":bt="focus",F=us;break;case"focusout":bt="blur",F=us;break;case"beforeblur":case"afterblur":F=us;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=du;break;case Cg:case Dg:case xg:F=cs;break;case Ng:F=gu;break;case"scroll":case"scrollend":F=su;break;case"wheel":F=ds;break;case"copy":case"cut":case"paste":F=fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Rl;break;case"toggle":case"beforetoggle":F=yu}var _t=(n&4)!==0,re=!_t&&(e==="scroll"||e==="scrollend"),k=_t?G!==null?G+"Capture":null:G;_t=[];for(var L=H,q;L!==null;){var J=L;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||k===null||(J=ba(L,k),J!=null&&_t.push(ro(L,J,q))),re)break;L=L.return}0<_t.length&&(G=new F(G,bt,null,s,$),tt.push({event:G,listeners:_t}))}}if((n&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",G&&s!==Wr&&(bt=s.relatedTarget||s.fromElement)&&(Kr(bt)||bt[pe]))break t;if((F||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,F?(bt=s.relatedTarget||s.toElement,F=H,bt=bt?Kr(bt):null,bt!==null&&(re=u(bt),_t=bt.tag,bt!==re||_t!==5&&_t!==27&&_t!==6)&&(bt=null)):(F=null,bt=H),F!==bt)){if(_t=Fn,J="onMouseLeave",k="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Rl,J="onPointerLeave",k="onPointerEnter",L="pointer"),re=F==null?G:yr(F),q=bt==null?G:yr(bt),G=new _t(J,L+"leave",F,s,$),G.target=re,G.relatedTarget=q,J=null,Kr($)===H&&(_t=new _t(k,L+"enter",bt,s,$),_t.target=q,_t.relatedTarget=re,J=_t),re=J,F&&bt)e:{for(_t=F,k=bt,L=0,q=_t;q;q=zs(q))L++;for(q=0,J=k;J;J=zs(J))q++;for(;0<L-q;)_t=zs(_t),L--;for(;0<q-L;)k=zs(k),q--;for(;L--;){if(_t===k||k!==null&&_t===k.alternate)break e;_t=zs(_t),k=zs(k)}_t=null}else _t=null;F!==null&&Zy(tt,G,F,_t,!1),bt!==null&&re!==null&&Zy(tt,re,bt,_t,!0)}}t:{if(G=H?yr(H):window,F=G.nodeName&&G.nodeName.toLowerCase(),F==="select"||F==="input"&&G.type==="file")var ht=pg;else if(Ue(G))if(yg)ht=HT;else{ht=jT;var Nt=BT}else F=G.nodeName,!F||F.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&_l(H.elementType)&&(ht=pg):ht=qT;if(ht&&(ht=ht(e,H))){ii(tt,ht,s,$);break t}Nt&&Nt(e,G,H),e==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&xi(G,"number",G.value)}switch(Nt=H?yr(H):window,e){case"focusin":(Ue(Nt)||Nt.contentEditable==="true")&&(ms=Nt,Pf=H,xl=null);break;case"focusout":xl=Pf=ms=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,wg(tt,s,$);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":wg(tt,s,$)}var yt;if(Ar)t:{switch(e){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else kt?Y(e,s)&&(Et="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Et="onCompositionStart");Et&&(v&&s.locale!=="ko"&&(kt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&kt&&(yt=Tl()):(Er=$,Ni="value"in Er?Er.value:Er.textContent,kt=!0)),Nt=ic(H,Et),0<Nt.length&&(Et=new Al(Et,e,null,s,$),tt.push({event:Et,listeners:Nt}),yt?Et.data=yt:(yt=ot(s),yt!==null&&(Et.data=yt)))),(yt=g?Le(e,s):Bt(e,s))&&(Et=ic(H,"onBeforeInput"),0<Et.length&&(Nt=new Al("onBeforeInput","beforeinput",null,s,$),tt.push({event:Nt,listeners:Et}),Nt.data=yt)),Cb(tt,e,H,s,$)}Ky(tt,n)})}function ro(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ic(e,n){for(var s=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ba(e,s),f!=null&&o.unshift(ro(e,f,d)),f=ba(e,n),f!=null&&o.push(ro(e,f,d))),e.tag===3)return o;e=e.return}return[]}function zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,n,s,o,f){for(var d=n._reactName,_=[];s!==null&&s!==o;){var b=s,N=b.alternate,H=b.stateNode;if(b=b.tag,N!==null&&N===o)break;b!==5&&b!==26&&b!==27||H===null||(N=H,f?(H=ba(s,d),H!=null&&_.unshift(ro(s,H,N))):f||(H=ba(s,d),H!=null&&_.push(ro(s,H,N)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var Ib=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(Ib,`
`).replace(Vb,"")}function Wy(e,n){return n=Jy(n),Jy(e)===n}function ac(){}function ne(e,n,s,o,f,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||qn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&qn(e,""+o);break;case"className":vr(e,"class",o);break;case"tabIndex":vr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(e,s,o);break;case"style":vl(e,o,d);break;case"data":if(n!=="object"){vr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=as(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",f.name,f,null),ne(e,n,"formEncType",f.formEncType,f,null),ne(e,n,"formMethod",f.formMethod,f,null),ne(e,n,"formTarget",f.formTarget,f,null)):(ne(e,n,"encType",f.encType,f,null),ne(e,n,"method",f.method,f,null),ne(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=as(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ac);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=as(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),Di(e,"popover",o);break;case"xlinkActuate":We(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":We(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":We(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":We(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":We(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":We(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":We(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":We(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":We(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Di(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Nf.get(s)||s,Di(e,s,o))}}function ld(e,n,s,o,f,d){switch(s){case"style":vl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?qn(e,o):(typeof o=="number"||typeof o=="bigint")&&qn(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ts.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),d=e[Ft]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,f);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Di(e,s,o)}}}function rn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,d,_,s,null)}}f&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var b=d=_=f=null,N=null,H=null;for(o in s)if(s.hasOwnProperty(o)){var $=s[o];if($!=null)switch(o){case"name":f=$;break;case"type":_=$;break;case"checked":N=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,n));break;default:ne(e,n,o,$,s,null)}}_a(e,d,b,N,H,_,f,!1),is(e);return;case"select":Mt("invalid",e),o=_=d=null;for(f in s)if(s.hasOwnProperty(f)&&(b=s[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":o=b;default:ne(e,n,f,b,s,null)}n=d,s=_,e.multiple=!!o,n!=null?Jr(e,!!o,n,!1):s!=null&&Jr(e,!!o,s,!0);return;case"textarea":Mt("invalid",e),d=f=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(b=s[_],b!=null))switch(_){case"value":o=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:ne(e,n,_,b,s,null)}Ea(e,o,f,d),is(e);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(o=s[N],o!=null))switch(N){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,n,N,o,s,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<no.length;o++)Mt(no[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(o=s[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,H,o,s,null)}return;default:if(_l(n)){for($ in s)s.hasOwnProperty($)&&(o=s[$],o!==void 0&&ld(e,n,$,o,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(o=s[b],o!=null&&ne(e,n,b,o,s,null))}function Mb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,N=null,H=null,$=null;for(F in s){var tt=s[F];if(s.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=tt;default:o.hasOwnProperty(F)||ne(e,n,F,null,o,tt)}}for(var G in o){var F=o[G];if(tt=s[G],o.hasOwnProperty(G)&&(F!=null||tt!=null))switch(G){case"type":d=F;break;case"name":f=F;break;case"checked":H=F;break;case"defaultChecked":$=F;break;case"value":_=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==tt&&ne(e,n,G,F,o,tt)}}Nn(e,_,b,N,H,$,d,f);return;case"select":F=_=b=G=null;for(d in s)if(N=s[d],s.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:o.hasOwnProperty(d)||ne(e,n,d,null,o,N)}for(f in o)if(d=o[f],N=s[f],o.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&ne(e,n,f,d,o,N)}n=b,s=_,o=F,G!=null?Jr(e,!!s,G,!1):!!o!=!!s&&(n!=null?Jr(e,!!s,n,!0):Jr(e,!!s,s?[]:"",!1));return;case"textarea":F=G=null;for(b in s)if(f=s[b],s.hasOwnProperty(b)&&f!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ne(e,n,b,null,o,f)}for(_ in o)if(f=o[_],d=s[_],o.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&ne(e,n,_,f,o,d)}te(e,G,F);return;case"option":for(var bt in s)if(G=s[bt],s.hasOwnProperty(bt)&&G!=null&&!o.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:ne(e,n,bt,null,o,G)}for(N in o)if(G=o[N],F=s[N],o.hasOwnProperty(N)&&G!==F&&(G!=null||F!=null))switch(N){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ne(e,n,N,G,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)G=s[_t],s.hasOwnProperty(_t)&&G!=null&&!o.hasOwnProperty(_t)&&ne(e,n,_t,null,o,G);for(H in o)if(G=o[H],F=s[H],o.hasOwnProperty(H)&&G!==F&&(G!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ne(e,n,H,G,o,F)}return;default:if(_l(n)){for(var re in s)G=s[re],s.hasOwnProperty(re)&&G!==void 0&&!o.hasOwnProperty(re)&&ld(e,n,re,void 0,o,G);for($ in o)G=o[$],F=s[$],!o.hasOwnProperty($)||G===F||G===void 0&&F===void 0||ld(e,n,$,G,o,F);return}}for(var k in s)G=s[k],s.hasOwnProperty(k)&&G!=null&&!o.hasOwnProperty(k)&&ne(e,n,k,null,o,G);for(tt in o)G=o[tt],F=s[tt],!o.hasOwnProperty(tt)||G===F||G==null&&F==null||ne(e,n,tt,G,o,F)}var od=null,ud=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function tv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function Ob(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,Lb=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(e){return rv.resolve(null).then(e).catch(Pb)}:nv;function Pb(e){setTimeout(function(){throw e})}function Qi(e){return e==="head"}function iv(e,n){var s=n,o=0,f=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var _=e.ownerDocument;if(s&1&&io(_.documentElement),s&2&&io(_.body),s&4)for(s=_.head,io(s),_=s.firstChild;_;){var b=_.nextSibling,N=_.nodeName;_[ar]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=b}}if(f===0){e.removeChild(d),ho(n);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);ho(n)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hd(s),Ci(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function zb(e,n,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ar])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=cr(e.nextSibling),e===null)break}return null}function kb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=cr(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Bb(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function cr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var md=null;function av(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function sv(e,n,s){switch(n=sc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function io(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ci(e)}var Jn=new Map,lv=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yi=at.d;at.d={f:jb,r:qb,D:Hb,C:Gb,L:Fb,m:Qb,X:Xb,S:Yb,M:Kb};function jb(){var e=yi.f(),n=Ju();return e||n}function qb(e){var n=pr(e);n!==null&&n.tag===5&&n.type==="form"?Cp(n):yi.r(e)}var ks=typeof document>"u"?null:document;function ov(e,n,s){var o=ks;if(o&&typeof n=="string"&&n){var f=Ce(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),lv.has(f)||(lv.add(f),e={rel:e,crossOrigin:s,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),rn(n,"link",e),Ee(n),o.head.appendChild(n)))}}function Hb(e){yi.D(e),ov("dns-prefetch",e,null)}function Gb(e,n){yi.C(e,n),ov("preconnect",e,n)}function Fb(e,n,s){yi.L(e,n,s);var o=ks;if(o&&e&&n){var f='link[rel="preload"][as="'+Ce(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Ce(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Ce(s.imageSizes)+'"]')):f+='[href="'+Ce(e)+'"]';var d=f;switch(n){case"style":d=Bs(e);break;case"script":d=js(e)}Jn.has(d)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Jn.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(ao(d))||n==="script"&&o.querySelector(so(d))||(n=o.createElement("link"),rn(n,"link",e),Ee(n),o.head.appendChild(n)))}}function Qb(e,n){yi.m(e,n);var s=ks;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ce(o)+'"][href="'+Ce(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=js(e)}if(!Jn.has(d)&&(e=E({rel:"modulepreload",href:e},n),Jn.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(so(d)))return}o=s.createElement("link"),rn(o,"link",e),Ee(o),s.head.appendChild(o)}}}function Yb(e,n,s){yi.S(e,n,s);var o=ks;if(o&&e){var f=yn(o).hoistableStyles,d=Bs(e);n=n||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=o.querySelector(ao(d)))b.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Jn.get(d))&&gd(e,s);var N=_=o.createElement("link");Ee(N),rn(N,"link",e),N._p=new Promise(function(H,$){N.onload=H,N.onerror=$}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,oc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function Xb(e,n){yi.X(e,n);var s=ks;if(s&&e){var o=yn(s).hoistableScripts,f=js(e),d=o.get(f);d||(d=s.querySelector(so(f)),d||(e=E({src:e,async:!0},n),(n=Jn.get(f))&&pd(e,n),d=s.createElement("script"),Ee(d),rn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Kb(e,n){yi.M(e,n);var s=ks;if(s&&e){var o=yn(s).hoistableScripts,f=js(e),d=o.get(f);d||(d=s.querySelector(so(f)),d||(e=E({src:e,async:!0,type:"module"},n),(n=Jn.get(f))&&pd(e,n),d=s.createElement("script"),Ee(d),rn(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function uv(e,n,s,o){var f=(f=pt.current)?lc(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Bs(s.href),s=yn(f).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Bs(s.href);var d=yn(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(ao(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Jn.set(e,s),d||$b(f,e,s,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=js(s),s=yn(f).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Bs(e){return'href="'+Ce(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function cv(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function $b(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),rn(n,"link",s),Ee(n),e.head.appendChild(n))}function js(e){return'[src="'+Ce(e)+'"]'}function so(e){return"script[async]"+e}function fv(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Ce(s.href)+'"]');if(o)return n.instance=o,Ee(o),o;var f=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),rn(o,"style",f),oc(o,s.precedence,e),n.instance=o;case"stylesheet":f=Bs(s.href);var d=e.querySelector(ao(f));if(d)return n.state.loading|=4,n.instance=d,Ee(d),d;o=cv(s),(f=Jn.get(f))&&gd(o,f),d=(e.ownerDocument||e).createElement("link"),Ee(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),rn(d,"link",o),n.state.loading|=4,oc(d,s.precedence,e),n.instance=d;case"script":return d=js(s.src),(f=e.querySelector(so(d)))?(n.instance=f,Ee(f),f):(o=s,(f=Jn.get(d))&&(o=E({},s),pd(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ee(f),rn(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,oc(o,s.precedence,e));return n.instance}function oc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,_=0;_<o.length;_++){var b=o[_];if(b.dataset.precedence===n)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function hv(e,n,s){if(uc===null){var o=new Map,f=uc=new Map;f.set(s,o)}else f=uc,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[ar]||d[Wt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var b=o.get(_);b?b.push(d):o.set(_,[d])}}return o}function dv(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Zb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function mv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var lo=null;function Jb(){}function Wb(e,n,s){if(lo===null)throw Error(a(475));var o=lo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Bs(s.href),d=e.querySelector(ao(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=cc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,Ee(d);return}d=e.ownerDocument||e,s=cv(s),(f=Jn.get(f))&&gd(s,f),d=d.createElement("link"),Ee(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),rn(d,"link",s),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=cc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function t1(){if(lo===null)throw Error(a(475));var e=lo;return e.stylesheets&&e.count===0&&yd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&yd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)yd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function yd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(e1,e),fc=null,cc.call(e))}function e1(e,n){if(!(n.state.loading&4)){var s=fc.get(e);if(s)var o=s.get(null);else{s=new Map,fc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}f=n.instance,_=f.getAttribute("data-precedence"),d=s.get(_)||o,d===o&&s.set(null,f),s.set(_,f),this.count++,o=cc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var oo={$$typeof:Z,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function n1(e,n,s,o,f,d,_,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function gv(e,n,s,o,f,d,_,b,N,H,$,tt){return e=new n1(e,n,s,_,b,N,H,tt),n=1,d===!0&&(n|=24),d=Vn(3,null,null,n),e.current=d,d.stateNode=e,n=Jf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},nh(d),e}function pv(e){return e?(e=vs,e):vs}function yv(e,n,s,o,f,d){f=pv(f),o.context===null?o.context=f:o.pendingContext=f,o=Mi(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Oi(e,o,n),s!==null&&(Pn(s,e,n),zl(s,e,n))}function vv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function vd(e,n){vv(e,n),(e=e.alternate)&&vv(e,n)}function _v(e){if(e.tag===13){var n=ys(e,67108864);n!==null&&Pn(n,e,67108864),vd(e,67108864)}}var hc=!0;function r1(e,n,s,o){var f=X.T;X.T=null;var d=at.p;try{at.p=2,_d(e,n,s,o)}finally{at.p=d,X.T=f}}function i1(e,n,s,o){var f=X.T;X.T=null;var d=at.p;try{at.p=8,_d(e,n,s,o)}finally{at.p=d,X.T=f}}function _d(e,n,s,o){if(hc){var f=Ed(o);if(f===null)sd(e,n,o,dc,s),Tv(e,o);else if(s1(f,e,n,s,o))o.stopPropagation();else if(Tv(e,o),n&4&&-1<a1.indexOf(e)){for(;f!==null;){var d=pr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-ge(_);b.entanglements[1]|=N,_&=~N}Nr(d),(Kt&6)===0&&($u=mn()+500,eo(0))}}break;case 13:b=ys(d,2),b!==null&&Pn(b,d,2),Ju(),vd(d,2)}if(d=Ed(o),d===null&&sd(e,n,o,dc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else sd(e,n,o,null,s)}}function Ed(e){return e=Hn(e),Td(e)}var dc=null;function Td(e){if(dc=null,e=Kr(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return dc=e,null}function Ev(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ja()){case qr:return 2;case gn:return 8;case Bn:case Ai:return 32;case Hr:return 268435456;default:return 32}default:return 32}}var bd=!1,Yi=null,Xi=null,Ki=null,uo=new Map,co=new Map,$i=[],a1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tv(e,n){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":uo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(n.pointerId)}}function fo(e,n,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=pr(n),n!==null&&_v(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function s1(e,n,s,o,f){switch(n){case"focusin":return Yi=fo(Yi,e,n,s,o,f),!0;case"dragenter":return Xi=fo(Xi,e,n,s,o,f),!0;case"mouseover":return Ki=fo(Ki,e,n,s,o,f),!0;case"pointerover":var d=f.pointerId;return uo.set(d,fo(uo.get(d)||null,e,n,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,co.set(d,fo(co.get(d)||null,e,n,s,o,f)),!0}return!1}function bv(e){var n=Kr(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,rr(e.priority,function(){if(s.tag===13){var o=Un();o=_e(o);var f=ys(s,o);f!==null&&Pn(f,s,o),vd(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ed(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Wr=o,s.target.dispatchEvent(o),Wr=null}else return n=pr(s),n!==null&&_v(n),e.blockedOn=s,!1;n.shift()}return!0}function Sv(e,n,s){mc(e)&&s.delete(n)}function l1(){bd=!1,Yi!==null&&mc(Yi)&&(Yi=null),Xi!==null&&mc(Xi)&&(Xi=null),Ki!==null&&mc(Ki)&&(Ki=null),uo.forEach(Sv),co.forEach(Sv)}function gc(e,n){e.blockedOn===n&&(e.blockedOn=null,bd||(bd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,l1)))}var pc=null;function Av(e){pc!==e&&(pc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Td(o||s)===null)continue;break}var d=pr(s);d!==null&&(e.splice(n,3),n-=3,Th(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function ho(e){function n(N){return gc(N,e)}Yi!==null&&gc(Yi,e),Xi!==null&&gc(Xi,e),Ki!==null&&gc(Ki,e),uo.forEach(n),co.forEach(n);for(var s=0;s<$i.length;s++){var o=$i[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$i.length&&(s=$i[0],s.blockedOn===null);)bv(s),s.blockedOn===null&&$i.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],_=f[Ft]||null;if(typeof d=="function")_||Av(s);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ft]||null)b=_.formAction;else if(Td(f)!==null)continue}else b=_.action;typeof b=="function"?s[o+1]=b:(s.splice(o,3),o-=3),Av(s)}}}function Sd(e){this._internalRoot=e}yc.prototype.render=Sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Un();yv(s,o,e,n,null,null)},yc.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;yv(e.current,2,null,e,null,null),Ju(),n[pe]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Oe();e={blockedOn:null,target:e,priority:n};for(var s=0;s<$i.length&&n!==0&&n<$i[s].priority;s++);$i.splice(s,0,e),s===0&&bv(e)}};var wv=t.version;if(wv!=="19.1.1")throw Error(a(527,wv,"19.1.1"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var o1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{ue=vc.inject(o1),Ot=vc}catch{}}return go.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",f=jp,d=qp,_=Hp,b=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(b=n.unstable_transitionCallbacks)),n=gv(e,1,!1,null,null,s,o,f,d,_,b,null),e[pe]=n.current,ad(e),new Sd(n)},go.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,f="",d=jp,_=qp,b=Hp,N=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),n=gv(e,1,!0,n,s??null,o,f,d,_,b,N,H),n.context=pv(null),s=n.current,o=Un(),o=_e(o),f=Mi(o),f.callback=null,Oi(s,f,o),s=o,n.current.lanes=s,ae(n,s),Nr(n),e[pe]=n.current,ad(e),new yc(n)},go.version="19.1.1",go}var Lv;function y1(){if(Lv)return Rd.exports;Lv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Rd.exports=p1(),Rd.exports}var v1=y1();const _1=c0(v1);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uv="popstate";function E1(i={}){function t(l,u){let{pathname:h="/",search:m="",hash:p=""}=rl(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Fd("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){let h=l.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=l.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Io(u))}function a(l,u){hr(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return b1(t,r,a,i)}function je(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function hr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T1(){return Math.random().toString(36).substring(2,10)}function Pv(i,t){return{usr:i.state,key:i.key,idx:t}}function Fd(i,t,r=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?rl(t):t,state:r,key:t&&t.key||a||T1()}}function Io({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function rl(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function b1(i,t,r,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,h=l.history,m="POP",p=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let P=E(),K=P==null?null:P-y;y=P,p&&p({action:m,location:B.location,delta:K})}function T(P,K){m="PUSH";let Q=Fd(B.location,P,K);r&&r(Q,P),y=E()+1;let Z=Pv(Q,y),ut=B.createHref(Q);try{h.pushState(Z,"",ut)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;l.location.assign(ut)}u&&p&&p({action:m,location:B.location,delta:1})}function C(P,K){m="REPLACE";let Q=Fd(B.location,P,K);r&&r(Q,P),y=E();let Z=Pv(Q,y),ut=B.createHref(Q);h.replaceState(Z,"",ut),u&&p&&p({action:m,location:B.location,delta:0})}function U(P){return S1(P)}let B={get action(){return m},get location(){return i(l,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Uv,S),p=P,()=>{l.removeEventListener(Uv,S),p=null}},createHref(P){return t(l,P)},createURL:U,encodeLocation(P){let K=U(P);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:T,replace:C,go(P){return h.go(P)}};return B}function S1(i,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),je(r,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Io(i);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function h0(i,t,r="/"){return A1(i,t,r,!1)}function A1(i,t,r,a){let l=typeof t=="string"?rl(t):t,u=Ei(l.pathname||"/",r);if(u==null)return null;let h=d0(i);w1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=U1(u);m=O1(h[p],y,a)}return m}function d0(i,t=[],r=[],a="",l=!1){let u=(h,m,p=l,y)=>{let E={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&p)return;je(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let S=vi([a,E.relativePath]),T=r.concat(E);h.children&&h.children.length>0&&(je(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),d0(h.children,t,T,S,p)),!(h.path==null&&!h.index)&&t.push({path:S,score:V1(S,h.index),routesMeta:T})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of m0(h.path))u(h,m,!0,p)}),t}function m0(i){let t=i.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let h=m0(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function w1(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:M1(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var R1=/^:[\w-]+$/,C1=3,D1=2,x1=1,N1=10,I1=-2,zv=i=>i==="*";function V1(i,t){let r=i.split("/"),a=r.length;return r.some(zv)&&(a+=I1),t&&(a+=D1),r.filter(l=>!zv(l)).reduce((l,u)=>l+(R1.test(u)?C1:u===""?x1:N1),a)}function M1(i,t){return i.length===t.length&&i.slice(0,-1).every((a,l)=>a===t[l])?i[i.length-1]-t[t.length-1]:0}function O1(i,t,r=!1){let{routesMeta:a}=i,l={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),T=p.route;if(!S&&y&&r&&!a[a.length-1].route.index&&(S=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(l,S.params),h.push({params:l,pathname:vi([u,S.pathname]),pathnameBase:B1(vi([u,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(u=vi([u,S.pathnameBase]))}return h}function Uc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,a]=L1(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:S},T)=>{if(E==="*"){let U=m[T]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const C=m[T];return S&&!C?y[E]=void 0:y[E]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function L1(i,t=!1,r=!0){hr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function U1(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Ei(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=i.charAt(r);return a&&a!=="/"?null:i.slice(r)||"/"}function P1(i,t="/"){let{pathname:r,search:a="",hash:l=""}=typeof i=="string"?rl(i):i;return{pathname:r?r.startsWith("/")?r:z1(r,t):t,search:j1(a),hash:q1(l)}}function z1(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Nd(i,t,r,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k1(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function g0(i){let t=k1(i);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function p0(i,t,r,a=!1){let l;typeof i=="string"?l=rl(i):(l={...i},je(!l.pathname||!l.pathname.includes("?"),Nd("?","pathname","search",l)),je(!l.pathname||!l.pathname.includes("#"),Nd("#","pathname","hash",l)),je(!l.search||!l.search.includes("#"),Nd("#","search","hash",l)));let u=i===""||l.pathname==="",h=u?"/":l.pathname,m;if(h==null)m=r;else{let S=t.length-1;if(!a&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),S-=1;l.pathname=T.join("/")}m=S>=0?t[S]:"/"}let p=P1(l,m),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var vi=i=>i.join("/").replace(/\/\/+/g,"/"),B1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),j1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,q1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function H1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var G1=["GET",...y0];new Set(G1);var il=D.createContext(null);il.displayName="DataRouter";var rf=D.createContext(null);rf.displayName="DataRouterState";D.createContext(!1);var v0=D.createContext({isTransitioning:!1});v0.displayName="ViewTransition";var F1=D.createContext(new Map);F1.displayName="Fetchers";var Q1=D.createContext(null);Q1.displayName="Await";var Br=D.createContext(null);Br.displayName="Navigation";var af=D.createContext(null);af.displayName="Location";var jr=D.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var Em=D.createContext(null);Em.displayName="RouteError";function Y1(i,{relative:t}={}){je(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=D.useContext(Br),{hash:l,pathname:u,search:h}=Fo(i,{relative:t}),m=u;return r!=="/"&&(m=u==="/"?r:vi([r,u])),a.createHref({pathname:m,search:h,hash:l})}function Go(){return D.useContext(af)!=null}function Ka(){return je(Go(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(af).location}var _0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(i){D.useContext(Br).static||D.useLayoutEffect(i)}function T0(){let{isDataRoute:i}=D.useContext(jr);return i?lS():X1()}function X1(){je(Go(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(il),{basename:t,navigator:r}=D.useContext(Br),{matches:a}=D.useContext(jr),{pathname:l}=Ka(),u=JSON.stringify(g0(a)),h=D.useRef(!1);return E0(()=>{h.current=!0}),D.useCallback((p,y={})=>{if(hr(h.current,_0),!h.current)return;if(typeof p=="number"){r.go(p);return}let E=p0(p,JSON.parse(u),l,y.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:vi([t,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[t,r,u,l,i])}D.createContext(null);function K1(){let{matches:i}=D.useContext(jr),t=i[i.length-1];return t?t.params:{}}function Fo(i,{relative:t}={}){let{matches:r}=D.useContext(jr),{pathname:a}=Ka(),l=JSON.stringify(g0(r));return D.useMemo(()=>p0(i,JSON.parse(l),a,t==="path"),[i,l,a,t])}function $1(i,t,r,a,l){je(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=D.useContext(Br),{matches:h}=D.useContext(jr),m=h[h.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let Q=S&&S.path||"";b0(y,!S||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let T=Ka(),C;C=T;let U=C.pathname||"/",B=U;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");B="/"+U.replace(/^\//,"").split("/").slice(Q.length).join("/")}let P=h0(i,{pathname:B});return hr(S||P!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),hr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),eS(P&&P.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:vi([E,u.encodeLocation?u.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:vi([E,u.encodeLocation?u.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,r,a,l)}function Z1(){let i=sS(),t=H1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),r?D.createElement("pre",{style:l},r):null,h)}var J1=D.createElement(Z1,null),W1=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?D.createElement(jr.Provider,{value:this.props.routeContext},D.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tS({routeContext:i,match:t,children:r}){let a=D.useContext(il);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(jr.Provider,{value:i},r)}function eS(i,t=[],r=null,a=null,l=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let u=i,h=r?.errors;if(h!=null){let y=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);je(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(r)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:S,errors:T}=r,C=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!T||T[E.route.id]===void 0);if(E.route.lazy||C){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,E,S)=>{let T,C=!1,U=null,B=null;r&&(T=h&&E.route.id?h[E.route.id]:void 0,U=E.route.errorElement||J1,m&&(p<0&&S===0?(b0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,B=null):p===S&&(C=!0,B=E.route.hydrateFallbackElement||null)));let P=t.concat(u.slice(0,S+1)),K=()=>{let Q;return T?Q=U:C?Q=B:E.route.Component?Q=D.createElement(E.route.Component,null):E.route.element?Q=E.route.element:Q=y,D.createElement(tS,{match:E,routeContext:{outlet:y,matches:P,isDataRoute:r!=null},children:Q})};return r&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?D.createElement(W1,{location:r.location,revalidation:r.revalidation,component:U,error:T,children:K(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:a}):K()},null)}function Tm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nS(i){let t=D.useContext(il);return je(t,Tm(i)),t}function rS(i){let t=D.useContext(rf);return je(t,Tm(i)),t}function iS(i){let t=D.useContext(jr);return je(t,Tm(i)),t}function bm(i){let t=iS(i),r=t.matches[t.matches.length-1];return je(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function aS(){return bm("useRouteId")}function sS(){let i=D.useContext(Em),t=rS("useRouteError"),r=bm("useRouteError");return i!==void 0?i:t.errors?.[r]}function lS(){let{router:i}=nS("useNavigate"),t=bm("useNavigate"),r=D.useRef(!1);return E0(()=>{r.current=!0}),D.useCallback(async(l,u={})=>{hr(r.current,_0),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var kv={};function b0(i,t,r){!t&&!kv[i]&&(kv[i]=!0,hr(!1,r))}D.memo(oS);function oS({routes:i,future:t,state:r,unstable_onError:a}){return $1(i,void 0,r,a,t)}function uS({basename:i="/",children:t=null,location:r,navigationType:a="POP",navigator:l,static:u=!1}){je(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof r=="string"&&(r=rl(r));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:T="default"}=r,C=D.useMemo(()=>{let U=Ei(p,h);return U==null?null:{location:{pathname:U,search:y,hash:E,state:S,key:T},navigationType:a}},[h,p,y,E,S,T,a]);return hr(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:D.createElement(Br.Provider,{value:m},D.createElement(af.Provider,{children:t,value:C}))}var Cc="get",Dc="application/x-www-form-urlencoded";function sf(i){return i!=null&&typeof i.tagName=="string"}function cS(i){return sf(i)&&i.tagName.toLowerCase()==="button"}function fS(i){return sf(i)&&i.tagName.toLowerCase()==="form"}function hS(i){return sf(i)&&i.tagName.toLowerCase()==="input"}function dS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function mS(i,t){return i.button===0&&(!t||t==="_self")&&!dS(i)}var _c=null;function gS(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var pS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Id(i){return i!=null&&!pS.has(i)?(hr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):i}function yS(i,t){let r,a,l,u,h;if(fS(i)){let m=i.getAttribute("action");a=m?Ei(m,t):null,r=i.getAttribute("method")||Cc,l=Id(i.getAttribute("enctype"))||Dc,u=new FormData(i)}else if(cS(i)||hS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(a=p?Ei(p,t):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||Cc,l=Id(i.getAttribute("formenctype"))||Id(m.getAttribute("enctype"))||Dc,u=new FormData(m,i),!gS()){let{name:y,type:E,value:S}=i;if(E==="image"){let T=y?`${y}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else y&&u.append(y,S)}}else{if(sf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Cc,a=null,l=Dc,h=i}return u&&l==="text/plain"&&(h=u,u=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function vS(i,t,r){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&Ei(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function _S(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ES(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function TS(i,t,r){let a=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await _S(u,r);return h.links?h.links():[]}return[]}));return wS(a.flat(1).filter(ES).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Bv(i,t,r,a,l,u){let h=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,m=(p,y)=>r[y].pathname!==p.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,y)=>h(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function bS(i,t,{includeHydrateFallback:r}={}){return SS(i.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function SS(i){return[...new Set(i)]}function AS(i){let t={},r=Object.keys(i).sort();for(let a of r)t[a]=i[a];return t}function wS(i,t){let r=new Set;return new Set(t),i.reduce((a,l)=>{let u=JSON.stringify(AS(l));return r.has(u)||(r.add(u),a.push({key:u,link:l})),a},[])}function S0(){let i=D.useContext(il);return Sm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function RS(){let i=D.useContext(rf);return Sm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Am=D.createContext(void 0);Am.displayName="FrameworkContext";function A0(){let i=D.useContext(Am);return Sm(i,"You must render this element inside a <HydratedRouter> element"),i}function CS(i,t){let r=D.useContext(Am),[a,l]=D.useState(!1),[u,h]=D.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,T=D.useRef(null);D.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=K=>{K.forEach(Q=>{h(Q.isIntersecting)})},P=new IntersectionObserver(B,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[i]),D.useEffect(()=>{if(a){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[a]);let C=()=>{l(!0)},U=()=>{l(!1),h(!1)};return r?i!=="intent"?[u,T,{}]:[u,T,{onFocus:po(m,C),onBlur:po(p,U),onMouseEnter:po(y,C),onMouseLeave:po(E,U),onTouchStart:po(S,C)}]:[!1,T,{}]}function po(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function DS({page:i,...t}){let{router:r}=S0(),a=D.useMemo(()=>h0(r.routes,i,r.basename),[r.routes,i,r.basename]);return a?D.createElement(NS,{page:i,matches:a,...t}):null}function xS(i){let{manifest:t,routeModules:r}=A0(),[a,l]=D.useState([]);return D.useEffect(()=>{let u=!1;return TS(i,t,r).then(h=>{u||l(h)}),()=>{u=!0}},[i,t,r]),a}function NS({page:i,matches:t,...r}){let a=Ka(),{manifest:l,routeModules:u}=A0(),{basename:h}=S0(),{loaderData:m,matches:p}=RS(),y=D.useMemo(()=>Bv(i,t,p,l,a,"data"),[i,t,p,l,a]),E=D.useMemo(()=>Bv(i,t,p,l,a,"assets"),[i,t,p,l,a]),S=D.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let U=new Set,B=!1;if(t.forEach(K=>{let Q=l.routes[K.route.id];!Q||!Q.hasLoader||(!y.some(Z=>Z.route.id===K.route.id)&&K.route.id in m&&u[K.route.id]?.shouldRevalidate||Q.hasClientLoader?B=!0:U.add(K.route.id))}),U.size===0)return[];let P=vS(i,h,"data");return B&&U.size>0&&P.searchParams.set("_routes",t.filter(K=>U.has(K.route.id)).map(K=>K.route.id).join(",")),[P.pathname+P.search]},[h,m,a,l,y,t,i,u]),T=D.useMemo(()=>bS(E,l),[E,l]),C=xS(E);return D.createElement(D.Fragment,null,S.map(U=>D.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...r})),T.map(U=>D.createElement("link",{key:U,rel:"modulepreload",href:U,...r})),C.map(({key:U,link:B})=>D.createElement("link",{key:U,nonce:r.nonce,...B})))}function IS(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w0&&(window.__reactRouterVersion="7.8.2")}catch{}function VS({basename:i,children:t,window:r}){let a=D.useRef();a.current==null&&(a.current=E1({window:r,v5Compat:!0}));let l=a.current,[u,h]=D.useState({action:l.action,location:l.location}),m=D.useCallback(p=>{D.startTransition(()=>h(p))},[h]);return D.useLayoutEffect(()=>l.listen(m),[l,m]),D.createElement(uS,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:l})}var R0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C0=D.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:l,reloadDocument:u,replace:h,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,...T},C){let{basename:U}=D.useContext(Br),B=typeof y=="string"&&R0.test(y),P,K=!1;if(typeof y=="string"&&B&&(P=y,w0))try{let R=new URL(window.location.href),V=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=Ei(V.pathname,U);V.origin===R.origin&&M!=null?y=M+V.search+V.hash:K=!0}catch{hr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=Y1(y,{relative:l}),[Z,ut,lt]=CS(a,T),ft=US(y,{replace:h,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:S});function I(R){t&&t(R),R.defaultPrevented||ft(R)}let w=D.createElement("a",{...T,...lt,href:P||Q,onClick:K||u?t:I,ref:IS(C,ut),target:p,"data-discover":!B&&r==="render"?"true":void 0});return Z&&!B?D.createElement(D.Fragment,null,w,D.createElement(DS,{page:Q})):w});C0.displayName="Link";var MS=D.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:l=!1,style:u,to:h,viewTransition:m,children:p,...y},E){let S=Fo(h,{relative:y.relative}),T=Ka(),C=D.useContext(rf),{navigator:U,basename:B}=D.useContext(Br),P=C!=null&&jS(S)&&m===!0,K=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,Q=T.pathname,Z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(Q=Q.toLowerCase(),Z=Z?Z.toLowerCase():null,K=K.toLowerCase()),Z&&B&&(Z=Ei(Z,B)||Z);const ut=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let lt=Q===K||!l&&Q.startsWith(K)&&Q.charAt(ut)==="/",ft=Z!=null&&(Z===K||!l&&Z.startsWith(K)&&Z.charAt(K.length)==="/"),I={isActive:lt,isPending:ft,isTransitioning:P},w=lt?t:void 0,R;typeof a=="function"?R=a(I):R=[a,lt?"active":null,ft?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return D.createElement(C0,{...y,"aria-current":w,className:R,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(I):p)});MS.displayName="NavLink";var OS=D.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:l,state:u,method:h=Cc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...T},C)=>{let U=kS(),B=BS(m,{relative:y}),P=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&R0.test(m),Q=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ut=Z.nativeEvent.submitter,lt=ut?.getAttribute("formmethod")||h;U(ut||Z.currentTarget,{fetcherKey:t,method:lt,navigate:r,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return D.createElement("form",{ref:C,method:P,action:B,onSubmit:a?p:Q,...T,"data-discover":!K&&i==="render"?"true":void 0})});OS.displayName="Form";function LS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D0(i){let t=D.useContext(il);return je(t,LS(i)),t}function US(i,{target:t,replace:r,state:a,preventScrollReset:l,relative:u,viewTransition:h}={}){let m=T0(),p=Ka(),y=Fo(i,{relative:u});return D.useCallback(E=>{if(mS(E,t)){E.preventDefault();let S=r!==void 0?r:Io(p)===Io(y);m(i,{replace:S,state:a,preventScrollReset:l,relative:u,viewTransition:h})}},[p,m,y,r,a,t,i,l,u,h])}var PS=0,zS=()=>`__${String(++PS)}__`;function kS(){let{router:i}=D0("useSubmit"),{basename:t}=D.useContext(Br),r=aS();return D.useCallback(async(a,l={})=>{let{action:u,method:h,encType:m,formData:p,body:y}=yS(a,t);if(l.navigate===!1){let E=l.fetcherKey||zS();await i.fetch(E,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||h,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function BS(i,{relative:t}={}){let{basename:r}=D.useContext(Br),a=D.useContext(jr);je(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...Fo(i||".",{relative:t})},h=Ka();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:vi([r,u.pathname])),Io(u)}function jS(i,{relative:t}={}){let r=D.useContext(v0);je(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=D0("useViewTransitionState"),l=Fo(i,{relative:t});if(!r.isTransitioning)return!1;let u=Ei(r.currentLocation.pathname,a)||r.currentLocation.pathname,h=Ei(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Uc(l.pathname,h)!=null||Uc(l.pathname,u)!=null}var yo=f0();const qS=()=>{};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(i){const t=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},HS=function(i){const t=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],h=i[r++],m=i[r++],p=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],h=i[r++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},N0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const u=i[l],h=l+1<i.length,m=h?i[l+1]:0,p=l+2<i.length,y=p?i[l+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let T=(m&15)<<2|y>>6,C=y&63;p||(C=64,h||(T=64)),a.push(r[E],r[S],r[T],r[C])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(x0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):HS(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],m=l<i.length?r[i.charAt(l)]:0;++l;const y=l<i.length?r[i.charAt(l)]:64;++l;const S=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||m==null||y==null||S==null)throw new GS;const T=u<<2|m>>4;if(a.push(T),y!==64){const C=m<<4&240|y>>2;if(a.push(C),S!==64){const U=y<<6&192|S;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class GS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FS=function(i){const t=x0(i);return N0.encodeByteArray(t,!0)},Pc=function(i){return FS(i).replace(/\./g,"")},QS=function(i){try{return N0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=()=>YS().__FIREBASE_DEFAULTS__,KS=()=>{if(typeof process>"u"||typeof jv>"u")return;const i=jv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$S=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&QS(i[1]);return t&&JSON.parse(t)},wm=()=>{try{return qS()||XS()||KS()||$S()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ZS=i=>wm()?.emulatorHosts?.[i],JS=i=>{const t=ZS(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},I0=()=>wm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Pc(JSON.stringify(r)),Pc(JSON.stringify(h)),""].join(".")}const So={};function nA(){const i={prod:[],emulator:[]};for(const t of Object.keys(So))So[t]?i.emulator.push(t):i.prod.push(t);return i}function rA(i){let t=document.getElementById(i),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),r=!0),{created:r,element:t}}let qv=!1;function iA(i,t){if(typeof window>"u"||typeof document>"u"||!Rm(window.location.host)||So[i]===t||So[i]||qv)return;So[i]=t;function r(T){return`__firebase__banner__${T}`}const a="__firebase__banner",u=nA().prod.length>0;function h(){const T=document.getElementById(a);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{qv=!0,h()},T}function E(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function S(){const T=rA(a),C=r("text"),U=document.getElementById(C)||document.createElement("span"),B=r("learnmore"),P=document.getElementById(B)||document.createElement("a"),K=r("preprendIcon"),Q=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Z=T.element;m(Z),E(P,B);const ut=y();p(Q,K),Z.append(Q,U,P,ut),document.body.appendChild(Z)}u?(U.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sA(){const i=wm()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lA(){return!sA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oA(){try{return typeof indexedDB=="object"}catch{return!1}}function uA(){return new Promise((i,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="FirebaseError";class al extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=cA,Object.setPrototypeOf(this,al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V0.prototype.create)}}class V0{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?fA(u,a):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new al(l,m,a)}}function fA(i,t){return i.replace(hA,(r,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const hA=/\{\$([^}]+)}/g;function zc(i,t){if(i===t)return!0;const r=Object.keys(i),a=Object.keys(t);for(const l of r){if(!a.includes(l))return!1;const u=i[l],h=t[l];if(Hv(u)&&Hv(h)){if(!zc(u,h))return!1}else if(u!==h)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function Hv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(i){return i&&i._delegate?i._delegate:i}class Vo{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new WS;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gA(t))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=Ga){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ga){return this.instances.has(t)}getOptions(t=Ga){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(l)}return l}onInit(t,r){const a=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&t(u,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:mA(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ga){return this.component?this.component.multipleInstances?t:Ga:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mA(i){return i===Ga?void 0:i}function gA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new dA(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ht||(Ht={}));const yA={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},vA=Ht.INFO,_A={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},EA=(i,t,...r)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),l=_A[t];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class M0{constructor(t){this.name=t,this._logLevel=vA,this._logHandler=EA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const TA=(i,t)=>t.some(r=>i instanceof r);let Gv,Fv;function bA(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SA(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,Qd=new WeakMap,L0=new WeakMap,Vd=new WeakMap,Cm=new WeakMap;function AA(i){const t=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{r(ta(i.result)),l()},h=()=>{a(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(r=>{r instanceof IDBCursor&&O0.set(r,i)}).catch(()=>{}),Cm.set(t,i),t}function wA(i){if(Qd.has(i))return;const t=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{r(),l()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Qd.set(i,t)}let Yd={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Qd.get(i);if(t==="objectStoreNames")return i.objectStoreNames||L0.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ta(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function RA(i){Yd=i(Yd)}function CA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=i.call(Md(this),t,...r);return L0.set(a,t.sort?t.sort():[t]),ta(a)}:SA().includes(i)?function(...t){return i.apply(Md(this),t),ta(O0.get(this))}:function(...t){return ta(i.apply(Md(this),t))}}function DA(i){return typeof i=="function"?CA(i):(i instanceof IDBTransaction&&wA(i),TA(i,bA())?new Proxy(i,Yd):i)}function ta(i){if(i instanceof IDBRequest)return AA(i);if(Vd.has(i))return Vd.get(i);const t=DA(i);return t!==i&&(Vd.set(i,t),Cm.set(t,i)),t}const Md=i=>Cm.get(i);function xA(i,t,{blocked:r,upgrade:a,blocking:l,terminated:u}={}){const h=indexedDB.open(i,t),m=ta(h);return a&&h.addEventListener("upgradeneeded",p=>{a(ta(h.result),p.oldVersion,p.newVersion,ta(h.transaction),p)}),r&&h.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const NA=["get","getKey","getAll","getAllKeys","count"],IA=["put","add","delete","clear"],Od=new Map;function Qv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Od.get(t))return Od.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,l=IA.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||NA.includes(r)))return;const u=async function(h,...m){const p=this.transaction(h,l?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),l&&p.done]))[0]};return Od.set(t,u),u}RA(i=>({...i,get:(t,r,a)=>Qv(t,r)||i.get(t,r,a),has:(t,r)=>!!Qv(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(MA(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function MA(i){return i.getComponent()?.type==="VERSION"}const Xd="@firebase/app",Yv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new M0("@firebase/app"),OA="@firebase/app-compat",LA="@firebase/analytics-compat",UA="@firebase/analytics",PA="@firebase/app-check-compat",zA="@firebase/app-check",kA="@firebase/auth",BA="@firebase/auth-compat",jA="@firebase/database",qA="@firebase/data-connect",HA="@firebase/database-compat",GA="@firebase/functions",FA="@firebase/functions-compat",QA="@firebase/installations",YA="@firebase/installations-compat",XA="@firebase/messaging",KA="@firebase/messaging-compat",$A="@firebase/performance",ZA="@firebase/performance-compat",JA="@firebase/remote-config",WA="@firebase/remote-config-compat",tw="@firebase/storage",ew="@firebase/storage-compat",nw="@firebase/firestore",rw="@firebase/ai",iw="@firebase/firestore-compat",aw="firebase",sw="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]",lw={[Xd]:"fire-core",[OA]:"fire-core-compat",[UA]:"fire-analytics",[LA]:"fire-analytics-compat",[zA]:"fire-app-check",[PA]:"fire-app-check-compat",[kA]:"fire-auth",[BA]:"fire-auth-compat",[jA]:"fire-rtdb",[qA]:"fire-data-connect",[HA]:"fire-rtdb-compat",[GA]:"fire-fn",[FA]:"fire-fn-compat",[QA]:"fire-iid",[YA]:"fire-iid-compat",[XA]:"fire-fcm",[KA]:"fire-fcm-compat",[$A]:"fire-perf",[ZA]:"fire-perf-compat",[JA]:"fire-rc",[WA]:"fire-rc-compat",[tw]:"fire-gcs",[ew]:"fire-gcs-compat",[nw]:"fire-fst",[iw]:"fire-fst-compat",[rw]:"fire-vertex","fire-js":"fire-js",[aw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,ow=new Map,$d=new Map;function Xv(i,t){try{i.container.addComponent(t)}catch(r){Ti.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Bc(i){const t=i.name;if($d.has(t))return Ti.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,i);for(const r of kc.values())Xv(r,i);for(const r of ow.values())Xv(r,i);return!0}function uw(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function cw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ea=new V0("app","Firebase",fw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,r,a){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=sw;function U0(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ea.create("bad-app-name",{appName:String(l)});if(r||(r=I0()),!r)throw ea.create("no-options");const u=kc.get(l);if(u){if(zc(r,u.options)&&zc(a,u.config))return u;throw ea.create("duplicate-app",{appName:l})}const h=new pA(l);for(const p of $d.values())h.addComponent(p);const m=new hw(r,a,h);return kc.set(l,m),m}function mw(i=Kd){const t=kc.get(i);if(!t&&i===Kd&&I0())return U0();if(!t)throw ea.create("no-app",{appName:i});return t}function Ys(i,t,r){let a=lw[i]??i;r&&(a+=`-${r}`);const l=a.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${t}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ti.warn(h.join(" "));return}Bc(new Vo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firebase-heartbeat-database",pw=1,Mo="firebase-heartbeat-store";let Ld=null;function P0(){return Ld||(Ld=xA(gw,pw,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Mo)}catch(r){console.warn(r)}}}}).catch(i=>{throw ea.create("idb-open",{originalErrorMessage:i.message})})),Ld}async function yw(i){try{const r=(await P0()).transaction(Mo),a=await r.objectStore(Mo).get(z0(i));return await r.done,a}catch(t){if(t instanceof al)Ti.warn(t.message);else{const r=ea.create("idb-get",{originalErrorMessage:t?.message});Ti.warn(r.message)}}}async function Kv(i,t){try{const a=(await P0()).transaction(Mo,"readwrite");await a.objectStore(Mo).put(t,z0(i)),await a.done}catch(r){if(r instanceof al)Ti.warn(r.message);else{const a=ea.create("idb-set",{originalErrorMessage:r?.message});Ti.warn(a.message)}}}function z0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=1024,_w=30;class Ew{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new bw(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>_w){const l=Sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ti.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$v(),{heartbeatsToSend:r,unsentEntries:a}=Tw(this._heartbeatsCache.heartbeats),l=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ti.warn(t),""}}}function $v(){return new Date().toISOString().substring(0,10)}function Tw(i,t=vw){const r=[];let a=i.slice();for(const l of i){const u=r.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),Zv(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Zv(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class bw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await yw(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Kv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Kv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Zv(i){return Pc(JSON.stringify({version:2,heartbeats:i})).length}function Sw(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(i){Bc(new Vo("platform-logger",t=>new VA(t),"PRIVATE")),Bc(new Vo("heartbeat",t=>new Ew(t),"PRIVATE")),Ys(Xd,Yv,i),Ys(Xd,Yv,"esm2020"),Ys("fire-js","")}Aw("");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,k0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,w){function R(){}R.prototype=w.prototype,I.D=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(V,M,z){for(var x=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)x[Zt-2]=arguments[Zt];return w.prototype[M].apply(V,x)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,w,R){R||(R=0);var V=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)V[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;16>M;++M)V[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],M=I.g[2];var z=I.g[3],x=w+(z^R&(M^z))+V[0]+3614090360&4294967295;w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+V[1]+3905402710&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+V[2]+606105819&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+V[3]+3250441966&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(z^R&(M^z))+V[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+V[5]+1200080426&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+V[6]+2821735955&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+V[7]+4249261313&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(z^R&(M^z))+V[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+V[9]+2336552879&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+V[10]+4294925233&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+V[11]+2304563134&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(z^R&(M^z))+V[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=z+(M^w&(R^M))+V[13]+4254626195&4294967295,z=w+(x<<12&4294967295|x>>>20),x=M+(R^z&(w^R))+V[14]+2792965006&4294967295,M=z+(x<<17&4294967295|x>>>15),x=R+(w^M&(z^w))+V[15]+1236535329&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(M^z&(R^M))+V[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+V[6]+3225465664&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+V[11]+643717713&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+V[0]+3921069994&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^z&(R^M))+V[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+V[10]+38016083&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+V[15]+3634488961&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+V[4]+3889429448&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^z&(R^M))+V[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+V[14]+3275163606&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+V[3]+4107603335&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+V[8]+1163531501&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^z&(R^M))+V[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=z+(R^M&(w^R))+V[2]+4243563512&4294967295,z=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(z^w))+V[7]+1735328473&4294967295,M=z+(x<<14&4294967295|x>>>18),x=R+(z^w&(M^z))+V[12]+2368359562&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(R^M^z)+V[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+V[8]+2272392833&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+V[11]+1839030562&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+V[14]+4259657740&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^z)+V[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+V[4]+1272893353&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+V[7]+4139469664&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+V[10]+3200236656&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^z)+V[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+V[0]+3936430074&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+V[3]+3572445317&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+V[6]+76029189&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^z)+V[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=z+(w^R^M)+V[12]+3873151461&4294967295,z=w+(x<<11&4294967295|x>>>21),x=M+(z^w^R)+V[15]+530742520&4294967295,M=z+(x<<16&4294967295|x>>>16),x=R+(M^z^w)+V[2]+3299628645&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(M^(R|~z))+V[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+V[7]+1126891415&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+V[14]+2878612391&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+V[5]+4237533241&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~z))+V[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+V[3]+2399980690&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+V[10]+4293915773&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+V[1]+2240044497&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~z))+V[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+V[15]+4264355552&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+V[6]+2734768916&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+V[13]+1309151649&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~z))+V[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=z+(R^(w|~M))+V[11]+3174756917&4294967295,z=w+(x<<10&4294967295|x>>>22),x=M+(w^(z|~R))+V[2]+718787259&4294967295,M=z+(x<<15&4294967295|x>>>17),x=R+(z^(M|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+z&4294967295}a.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var R=w-this.blockSize,V=this.B,M=this.h,z=0;z<w;){if(M==0)for(;z<=R;)l(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<w;)if(V[M++]=I.charCodeAt(z++),M==this.blockSize){l(this,V),M=0;break}}else for(;z<w;)if(V[M++]=I[z++],M==this.blockSize){l(this,V),M=0;break}}this.h=M,this.o+=w},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var R=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=R&255,R/=256;for(this.u(I),I=Array(16),w=R=0;4>w;++w)for(var V=0;32>V;V+=8)I[R++]=this.g[w]>>>V&255;return I};function u(I,w){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function h(I,w){this.h=w;for(var R=[],V=!0,M=I.length-1;0<=M;M--){var z=I[M]|0;V&&z==w||(R[M]=z,V=!1)}this.g=R}var m={};function p(I){return-128<=I&&128>I?u(I,function(w){return new h([w|0],0>w?-1:0)}):new h([I|0],0>I?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(0>I)return P(y(-I));for(var w=[],R=1,V=0;I>=R;V++)w[V]=I/R|0,R*=4294967296;return new h(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return P(E(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),V=S,M=0;M<I.length;M+=8){var z=Math.min(8,I.length-M),x=parseInt(I.substring(M,M+z),w);8>z?(z=y(Math.pow(w,z)),V=V.j(z).add(y(x))):(V=V.j(R),V=V.add(y(x)))}return V}var S=p(0),T=p(1),C=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-P(this).m();for(var I=0,w=1,R=0;R<this.g.length;R++){var V=this.i(R);I+=(0<=V?V:4294967296+V)*w,w*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(B(this))return"-"+P(this).toString(I);for(var w=y(Math.pow(I,6)),R=this,V="";;){var M=ut(R,w).g;R=K(R,M.j(w));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=M,U(R))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function B(I){return I.h==-1}i.l=function(I){return I=K(this,I),B(I)?-1:U(I)?0:1};function P(I){for(var w=I.g.length,R=[],V=0;V<w;V++)R[V]=~I.g[V];return new h(R,~I.h).add(T)}i.abs=function(){return B(this)?P(this):this},i.add=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],V=0,M=0;M<=w;M++){var z=V+(this.i(M)&65535)+(I.i(M)&65535),x=(z>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);V=x>>>16,z&=65535,x&=65535,R[M]=x<<16|z}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(I,w){return I.add(P(w))}i.j=function(I){if(U(this)||U(I))return S;if(B(this))return B(I)?P(this).j(P(I)):P(P(this).j(I));if(B(I))return P(this.j(P(I)));if(0>this.l(C)&&0>I.l(C))return y(this.m()*I.m());for(var w=this.g.length+I.g.length,R=[],V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<I.g.length;M++){var z=this.i(V)>>>16,x=this.i(V)&65535,Zt=I.i(M)>>>16,Jt=I.i(M)&65535;R[2*V+2*M]+=x*Jt,Q(R,2*V+2*M),R[2*V+2*M+1]+=z*Jt,Q(R,2*V+2*M+1),R[2*V+2*M+1]+=x*Zt,Q(R,2*V+2*M+1),R[2*V+2*M+2]+=z*Zt,Q(R,2*V+2*M+2)}for(V=0;V<w;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=w;V<2*w;V++)R[V]=0;return new h(R,0)};function Q(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Z(I,w){this.g=I,this.h=w}function ut(I,w){if(U(w))throw Error("division by zero");if(U(I))return new Z(S,S);if(B(I))return w=ut(P(I),w),new Z(P(w.g),P(w.h));if(B(w))return w=ut(I,P(w)),new Z(P(w.g),w.h);if(30<I.g.length){if(B(I)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var R=T,V=w;0>=V.l(I);)R=lt(R),V=lt(V);var M=ft(R,1),z=ft(V,1);for(V=ft(V,2),R=ft(R,2);!U(V);){var x=z.add(V);0>=x.l(I)&&(M=M.add(R),z=x),V=ft(V,1),R=ft(R,1)}return w=K(I,M.j(w)),new Z(M,w)}for(M=S;0<=I.l(w);){for(R=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=y(R),x=z.j(w);B(x)||0<x.l(I);)R-=V,z=y(R),x=z.j(w);U(z)&&(z=T),M=M.add(z),I=K(I,x)}return new Z(M,I)}i.A=function(I){return ut(this,I).h},i.and=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)&I.i(V);return new h(R,this.h&I.h)},i.or=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)|I.i(V);return new h(R,this.h|I.h)},i.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)^I.i(V);return new h(R,this.h^I.h)};function lt(I){for(var w=I.g.length+1,R=[],V=0;V<w;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new h(R,I.h)}function ft(I,w){var R=w>>5;w%=32;for(var V=I.g.length-R,M=[],z=0;z<V;z++)M[z]=0<w?I.i(z+R)>>>w|I.i(z+R+1)<<32-w:I.i(z+R);return new h(M,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,k0=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,na=h}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B0,vo,j0,xc,Zd,q0,H0,G0;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=r(this);function l(c,g){if(g)t:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break t;v=v[j]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,A=!1,j={next:function(){if(!A&&v<c.length){var Y=v++;return{value:g(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}l("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function S(c,g,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function T(c,g,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,T.apply(null,arguments)}function C(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,j,Y){for(var ot=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ot[kt-2]=arguments[kt];return g.prototype[j].apply(A,ot)}}function B(c){const g=c.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function P(c,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const j=c.length||0,Y=A.length||0;c.length=j+Y;for(let ot=0;ot<Y;ot++)c[j+ot]=A[ot]}else c.push(A)}}class K{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ut(c){return ut[" "](c),c}ut[" "]=function(){};var lt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ft(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function I(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function w(c){const g={};for(const v in c)g[v]=c[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let Y=0;Y<R.length;Y++)v=R[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function M(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Ct;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Zt{constructor(){this.h=this.g=null}add(g,v){const A=Jt.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Jt=new K(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let at,gt=!1,Ct=new Zt,O=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(nt)}};var nt=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){z(v)}var g=Jt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}gt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var mt=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c})();function At(c,g){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(lt){t:{try{ut(g.nodeName);var j=!0;break t}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&At.aa.h.call(this)}}U(At,it);var pt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function Ae(c,g,v,A,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=j,this.key=++Pt,this.da=this.fa=!1}function It(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function dn(c){this.src=c,this.g={},this.h=0}dn.prototype.add=function(c,g,v,A,j){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ot=bn(c,g,A,j);return-1<ot?(g=c[ot],v||(g.fa=!1)):(g=new Ae(g,this.src,Y,!!A,j),g.fa=v,c.push(g)),g};function He(c,g){var v=g.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,g,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(A,j,1),Y&&(It(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bn(c,g,v,A){for(var j=0;j<c.length;++j){var Y=c[j];if(!Y.da&&Y.listener==g&&Y.capture==!!v&&Y.ha==A)return j}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),kn={};function er(c,g,v,A,j){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)er(c,g[Y],v,A,j);return null}return v=Wa(v),c&&c[he]?c.K(g,v,y(A)?!!A.capture:!1,j):mn(c,g,v,!1,A,j)}function mn(c,g,v,A,j,Y){if(!g)throw Error("Invalid event type");var ot=y(j)?!!j.capture:!!j,kt=Hr(c);if(kt||(c[Ze]=kt=new dn(c)),v=kt.add(g,v,A,ot,Y),v.proxy)return v;if(A=Ja(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)mt||(j=ot),j===void 0&&(j=!1),c.addEventListener(g.toString(),A,j);else if(c.attachEvent)c.attachEvent(Bn(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ja(){function c(v){return g.call(c.src,c.listener,v)}const g=Ai;return c}function qr(c,g,v,A,j){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)qr(c,g[Y],v,A,j);else A=y(A)?!!A.capture:!!A,v=Wa(v),c&&c[he]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],v=bn(Y,v,A,j),-1<v&&(It(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=Hr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=bn(g,v,A,j)),(v=-1<c?g[c]:null)&&gn(v))}function gn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[he])He(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(Bn(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Hr(g))?(He(v,c),v.h==0&&(v.src=null,g[Ze]=null)):It(c)}}}function Bn(c){return c in kn?kn[c]:kn[c]="on"+c}function Ai(c,g){if(c.da)c=!0;else{g=new At(g,this);var v=c.listener,A=c.ha||c.src;c.fa&&gn(c),c=v.call(A,g)}return c}function Hr(c){return c=c[Ze],c instanceof dn?c:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wa(c){return typeof c=="function"?c:(c[wi]||(c[wi]=function(g){return c.handleEvent(g)}),c[wi])}function ue(){st.call(this),this.i=new dn(this),this.M=this,this.F=null}U(ue,st),ue.prototype[he]=!0,ue.prototype.removeEventListener=function(c,g,v,A){qr(this,c,g,v,A)};function Ot(c,g){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new it(g,c);else if(g instanceof it)g.target=g.target||c;else{var j=g;g=new it(A,c),V(g,j)}if(j=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ot=g.g=v[Y];j=we(ot,A,!0,g)&&j}if(ot=g.g=c,j=we(ot,A,!0,g)&&j,j=we(ot,A,!1,g)&&j,v)for(Y=0;Y<v.length;Y++)ot=g.g=v[Y],j=we(ot,A,!1,g)&&j}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],A=0;A<v.length;A++)It(v[A]);delete c.g[g],c.h--}}this.F=null},ue.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},ue.prototype.L=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function we(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,Y=0;Y<g.length;++Y){var ot=g[Y];if(ot&&!ot.da&&ot.capture==v){var kt=ot.listener,Le=ot.ha||ot.src;ot.fa&&He(c.i,ot),j=kt.call(Le,A)!==!1&&j}}return j&&!A.defaultPrevented}function ge(c,g,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function da(c){c.g=ge(()=>{c.g=null,c.i&&(c.i=!1,da(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class jn extends st{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(c){st.call(this),this.h=c,this.g={}}U(mr,st);var Gr=[];function Fr(c){ft(c.g,function(g,v){this.g.hasOwnProperty(v)&&gn(g)},c),c.g={}}mr.prototype.N=function(){mr.aa.N.call(this),Fr(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pn=m.JSON.stringify,Qr=m.JSON.parse,Yr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ri(){}Ri.prototype.h=null;function ma(c){return c.h||(c.h=c.i())}function ga(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ae(){it.call(this,"d")}U(ae,it);function Me(){it.call(this,"c")}U(Me,it);var ce={},Sn=null;function _e(){return Sn=Sn||new ue}ce.La="serverreachability";function Re(c){it.call(this,ce.La,c)}U(Re,it);function Oe(c){const g=_e();Ot(g,new Re(g))}ce.STAT_EVENT="statevent";function rr(c,g){it.call(this,ce.STAT_EVENT,c),this.stat=g}U(rr,it);function Rt(c){const g=_e();Ot(g,new rr(g,c))}ce.Ma="timingevent";function Wt(c,g){it.call(this,ce.Ma,c),this.size=g}U(Wt,it);function Ft(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function pe(){this.g=!0}pe.prototype.xa=function(){this.g=!1};function ir(c,g,v,A,j,Y){c.info(function(){if(c.g)if(Y)for(var ot="",kt=Y.split("&"),Le=0;Le<kt.length;Le++){var Bt=kt[Le].split("=");if(1<Bt.length){var Fe=Bt[0];Bt=Bt[1];var Ue=Fe.split("_");ot=2<=Ue.length&&Ue[1]=="type"?ot+(Fe+"="+Bt+"&"):ot+(Fe+"=redacted&")}}else ot=null;else ot=Y;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+g+`
`+v+`
`+ot})}function Xr(c,g,v,A,j,Y,ot){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+g+`
`+v+`
`+Y+" "+ot})}function Je(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ar(c,v)+(A?" "+A:"")})}function gr(c,g){c.info(function(){return"TIMEOUT: "+g})}pe.prototype.info=function(){};function ar(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ot=1;ot<j.length;ot++)j[ot]=""}}}}return pn(v)}catch{return g}}var Ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pr;function yr(){}U(yr,Ri),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},pr=new yr;function yn(c,g,v,A){this.j=c,this.i=g,this.l=v,this.R=A||1,this.U=new mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var ml={},ts={};function sr(c,g,v){c.L=1,c.v=Ea(Nn(g)),c.m=v,c.P=!0,$r(c,null)}function $r(c,g){c.F=Date.now(),pa(c),c.A=Nn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),El(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Ee,c.g=gu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new jn(T(c.Y,c,c.g),c.O)),g=c.U,v=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Gr[0]=j.toString()),j=Gr);for(var Y=0;Y<j.length;Y++){var ot=er(v,j[Y],A||g.handleEvent,!1,g.h||g);if(!ot)break;g.g[ot.key]=ot}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Oe(),ir(c.i,c.u,c.A,c.l,c.R,c.m)}yn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Fn(c)==3?g.j():this.Y(c)},yn.prototype.Y=function(c){try{if(c==this.g)t:{const Ue=Fn(this.g);var g=this.g.Ba();const ii=this.g.Z();if(!(3>Ue)&&(Ue!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||Ue!=4||g==7||(g==8||0>=ii?Oe(3):Oe(2)),Di(this);var v=this.g.Z();this.X=v;e:if(tu(this)){var A=lu(this.g);c="";var j=A.length,Y=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),vr(this);var ot="";break e}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(Y&&g==j-1)});A.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=v==200,Xr(this.i,this.u,this.A,this.l,this.R,Ue,v),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Le=this.g;if((kt=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(kt)){var Bt=kt;break e}}Bt=null}if(v=Bt)Je(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ya(this,v);else{this.o=!1,this.s=3,Rt(12),We(this),vr(this);break t}}if(this.P){v=!0;let tn;for(;!this.J&&this.C<ot.length;)if(tn=eu(this,ot),tn==ts){Ue==4&&(this.s=4,Rt(14),v=!1),Je(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==ml){this.s=4,Rt(15),Je(this.i,this.l,ot,"[Invalid Chunk]"),v=!1;break}else Je(this.i,this.l,tn,null),ya(this,tn);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||ot.length!=0||this.h.h||(this.s=1,Rt(16),v=!1),this.o=this.o&&v,!v)Je(this.i,this.l,ot,"[Invalid Chunked Response]"),We(this),vr(this);else if(0<ot.length&&!this.W){this.W=!0;var Fe=this.j;Fe.g==this&&Fe.ba&&!Fe.M&&(Fe.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Da(Fe),Fe.M=!0,Rt(11))}}else Je(this.i,this.l,ot,null),ya(this,ot);Ue==4&&We(this),this.o&&!this.J&&(Ue==4?hu(this.j,this):(this.o=!1,pa(this)))}else Vf(this.g),v==400&&0<ot.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),We(this),vr(this)}}}catch{}finally{}};function tu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function eu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?ts:(v=Number(g.substring(v,A)),isNaN(v)?ml:(A+=1,A+v>g.length?ts:(g=g.slice(A,A+v),c.C=A+v,g)))}yn.prototype.cancel=function(){this.J=!0,We(this)};function pa(c){c.S=Date.now()+c.I,nu(c,c.I)}function nu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ft(T(c.ba,c),g)}function Di(c){c.B&&(m.clearTimeout(c.B),c.B=null)}yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gr(this.i,this.A),this.L!=2&&(Oe(),Rt(17)),We(this),this.s=2,vr(this)):nu(this,this.S-c)};function vr(c){c.j.G==0||c.J||hu(c.j,c)}function We(c){Di(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Fr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ya(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||gl(v.h,c))){if(!c.K&&gl(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)hs(v),cs(v);else break t;wl(v),Rt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ft(T(v.Za,v),6e3));if(1>=ns(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ri(v,11)}else if((c.K||v.g==c)&&hs(v),!Q(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let Bt=j[g];if(v.T=Bt[0],Bt=Bt[1],v.G==2)if(Bt[0]=="c"){v.K=Bt[1],v.ia=Bt[2];const Fe=Bt[3];Fe!=null&&(v.la=Fe,v.j.info("VER="+v.la));const Ue=Bt[4];Ue!=null&&(v.Aa=Ue,v.j.info("SVER="+v.Aa));const ii=Bt[5];ii!=null&&typeof ii=="number"&&0<ii&&(A=1.5*ii,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const tn=c.g;if(tn){const wr=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var Y=A.h;Y.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(rs(Y,Y.h),Y.h=null))}if(A.D){const Cl=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(A.ya=Cl,te(A.I,A.D,Cl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ot=c;if(A.qa=mu(A,A.J?A.ia:null,A.W),ot.K){vn(A.h,ot);var kt=ot,Le=A.L;Le&&(kt.I=Le),kt.B&&(Di(kt),pa(kt)),A.g=ot}else cu(A);0<v.i.length&&fs(v)}else Bt[0]!="stop"&&Bt[0]!="close"||ri(v,7);else v.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ri(v,7):Sl(v):Bt[0]!="noop"&&v.l&&v.l.ta(Bt),v.v=0)}}Oe(4)}catch{}}var ru=class{constructor(c,g){this.g=c,this.map=g}};function Zr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function es(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ns(c){return c.h?1:c.g?c.g.size:0}function gl(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function rs(c,g){c.g?c.g.add(g):c.h=g}function vn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Zr.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return B(c.i)}function Df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,A=0;A<v;A++)g.push(c[A]);return g}g=[],v=0;for(A in c)g[v++]=c[A];return g}function is(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const A in c)g[v++]=A;return g}}}function yl(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=is(c),A=Df(c),j=A.length,Y=0;Y<j;Y++)g.call(void 0,A[Y],v&&v[Y],c)}var va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xf(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),j=null;if(0<=A){var Y=c[v].substring(0,A);j=c[v].substring(A+1)}else Y=c[v];g(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ce(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ce){this.h=c.h,_a(this,c.j),this.o=c.o,this.g=c.g,xi(this,c.s),this.l=c.l;var g=c.i,v=new Wr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Jr(this,v),this.m=c.m}else c&&(g=String(c).match(va))?(this.h=!1,_a(this,g[1]||"",!0),this.o=qn(g[2]||""),this.g=qn(g[3]||"",!0),xi(this,g[4]),this.l=qn(g[5]||"",!0),Jr(this,g[6]||"",!0),this.m=qn(g[7]||"")):(this.h=!1,this.i=new Wr(null,this.h))}Ce.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Ta(g,vl,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ta(g,vl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ta(v,v.charAt(0)=="/"?Nf:_l,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ta(v,as)),c.join("")};function Nn(c){return new Ce(c)}function _a(c,g,v){c.j=v?qn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function xi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Jr(c,g,v){g instanceof Wr?(c.i=g,au(c.i,c.h)):(v||(g=Ta(g,If)),c.i=new Wr(g,c.h))}function te(c,g,v){c.i.set(g,v)}function Ea(c){return te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ta(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,iu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vl=/[#\/\?@]/g,_l=/[#\?:]/g,Nf=/[#\?]/g,If=/[#\?@]/g,as=/#/g;function Wr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Hn(c){c.g||(c.g=new Map,c.h=0,c.i&&xf(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=Wr.prototype,i.add=function(c,g){Hn(this),this.i=null,c=_r(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function ti(c,g){Hn(c),g=_r(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ei(c,g){return Hn(c),g=_r(c,g),c.g.has(g)}i.forEach=function(c,g){Hn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(g,j,A,this)},this)},this)},i.na=function(){Hn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const j=c[A];for(let Y=0;Y<j.length;Y++)v.push(g[A])}return v},i.V=function(c){Hn(this);let g=[];if(typeof c=="string")ei(this,c)&&(g=g.concat(this.g.get(_r(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},i.set=function(c,g){return Hn(this),this.i=null,c=_r(this,c),ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function El(c,g,v){ti(c,g),0<v.length&&(c.i=null,c.g.set(_r(c,g),B(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const Y=encodeURIComponent(String(A)),ot=this.V(A);for(A=0;A<ot.length;A++){var j=Y;ot[A]!==""&&(j+="="+encodeURIComponent(String(ot[A]))),c.push(j)}}return this.i=c.join("&")};function _r(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function au(c,g){g&&!c.j&&(Hn(c),c.i=null,c.g.forEach(function(v,A){var j=A.toLowerCase();A!=j&&(ti(this,A),El(this,j,v))},c)),c.j=g}function ba(c,g){const v=new pe;if(m.Image){const A=new Image;A.onload=C(Gn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=C(Gn,v,"TestLoadImage: error",!1,g,A),A.onabort=C(Gn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=C(Gn,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function lr(c,g){const v=new pe,A=new AbortController,j=setTimeout(()=>{A.abort(),Gn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(j),Y.ok?Gn(v,"TestPingServer: ok",!0,g):Gn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Gn(v,"TestPingServer: error",!1,g)})}function Gn(c,g,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Sa(){this.g=new Yr}function Er(c,g,v){const A=v||"";try{yl(c,function(j,Y){let ot=j;y(j)&&(ot=pn(j)),g.push(A+Y+"="+encodeURIComponent(ot))})}catch(j){throw g.push(A+"type="+encodeURIComponent("_badmap")),j}}function Ni(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Ni,Ri),Ni.prototype.g=function(){return new ni(this.l,this.j)},Ni.prototype.i=(function(c){return function(){return c}})({});function ni(c,g){ue.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(ni,ue),i=ni.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,br(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Tr(this):br(this),this.readyState==3&&Tl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},i.Qa=function(c){this.g&&(this.response=c,Tr(this))},i.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,br(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function br(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bl(c){let g="";return ft(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ge(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=bl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):te(c,g,v))}function Yt(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Yt,ue);var ss=/^https?$/i,Aa=["POST","PUT"];i=Yt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pr.g(),this.v=this.o?ma(this.o):ma(pr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){su(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Aa,g,void 0))||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ot]of v)this.g.setRequestHeader(Y,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){su(this,Y)}};function su(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ls(c),Sr(c)}function ls(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),Sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),Yt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?os(this):this.bb())},i.bb=function(){os(this)};function os(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)ge(c.Ea,0,c);else if(Ot(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=ot===0){var j=String(c.D).match(va)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!ss.test(j?j.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var Y=2<Fn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",ls(c)}}finally{Sr(c)}}}}function Sr(c,g){if(c.g){wa(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ot(c,"ready");try{v.onreadystatechange=A}catch{}}}function wa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Qr(g)}};function lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vf(c){const g={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Q(c[A]))continue;var v=M(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=g[j]||[];g[j]=Y,Y.push(v)}I(g,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function us(c){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,c),this.cb=Ra("retryDelaySeedMs",1e4,c),this.Wa=Ra("forwardChannelMaxRetries",2,c),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Zr(c&&c.concurrentRequestLimit),this.Da=new Sa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=us.prototype,i.la=8,i.G=1,i.connect=function(c,g,v,A){Rt(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=mu(this,null,this.W),fs(this)};function Sl(c){if(ou(c),c.G==3){var g=c.U++,v=Nn(c.I);if(te(v,"SID",c.K),te(v,"RID",g),te(v,"TYPE","terminate"),Ca(c,v),g=new yn(c,c.j,g),g.L=2,g.v=Ea(Nn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=gu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),pa(g)}du(c)}function cs(c){c.g&&(Da(c),c.g.cancel(),c.g=null)}function ou(c){cs(c),c.u&&(m.clearTimeout(c.u),c.u=null),hs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function fs(c){if(!es(c.h)&&!c.s){c.s=!0;var g=c.Ga;at||O(),gt||(at(),gt=!0),Ct.add(g,c),c.B=0}}function Mf(c,g){return ns(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ft(T(c.Ga,c,g),Rl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new yn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=w(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=uu(this,j,g),v=Nn(this.I),te(v,"RID",c),te(v,"CVER",22),this.D&&te(v,"X-HTTP-Session-Id",this.D),Ca(this,v),Y&&(this.O?g="headers="+encodeURIComponent(String(bl(Y)))+"&"+g:this.m&&Ge(v,this.m,Y)),rs(this.h,j),this.Ua&&te(v,"TYPE","init"),this.P?(te(v,"$req",g),te(v,"SID","null"),j.T=!0,sr(j,v,null)):sr(j,v,g),this.G=2}}else this.G==3&&(c?Al(this,c):this.i.length==0||es(this.h)||Al(this))};function Al(c,g){var v;g?v=g.l:v=c.U++;const A=Nn(c.I);te(A,"SID",c.K),te(A,"RID",v),te(A,"AID",c.T),Ca(c,A),c.m&&c.o&&Ge(A,c.m,c.o),v=new yn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=uu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),rs(c.h,v),sr(v,A,g)}function Ca(c,g){c.H&&ft(c.H,function(v,A){te(g,A,v)}),c.l&&yl({},function(v,A){te(g,A,v)})}function uu(c,g,v){v=Math.min(c.i.length,v);var A=c.l?T(c.l.Na,c.l,c):null;t:{var j=c.i;let Y=-1;for(;;){const ot=["count="+v];Y==-1?0<v?(Y=j[0].g,ot.push("ofs="+Y)):Y=0:ot.push("ofs="+Y);let kt=!0;for(let Le=0;Le<v;Le++){let Bt=j[Le].g;const Fe=j[Le].map;if(Bt-=Y,0>Bt)Y=Math.max(0,j[Le].g-100),kt=!1;else try{Er(Fe,ot,"req"+Bt+"_")}catch{A&&A(Fe)}}if(kt){A=ot.join("&");break t}}}return c=c.i.splice(0,v),g.D=c,A}function cu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;at||O(),gt||(at(),gt=!0),Ct.add(g,c),c.v=0}}function wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ft(T(c.Fa,c),Rl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ft(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),cs(this),fu(this))};function Da(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function fu(c){c.g=new yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Nn(c.qa);te(g,"RID","rpc"),te(g,"SID",c.K),te(g,"AID",c.T),te(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&te(g,"TO",c.ja),te(g,"TYPE","xmlhttp"),Ca(c,g),c.m&&c.o&&Ge(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ea(Nn(g)),v.m=null,v.P=!0,$r(v,c)}i.Za=function(){this.C!=null&&(this.C=null,cs(this),wl(this),Rt(19))};function hs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function hu(c,g){var v=null;if(c.g==g){hs(c),Da(c),c.g=null;var A=2}else if(gl(c.h,g))v=g.D,vn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;A=_e(),Ot(A,new Wt(A,v)),fs(c)}else cu(c);else if(j=g.s,j==3||j==0&&0<g.X||!(A==1&&Mf(c,g)||A==2&&wl(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),j){case 1:ri(c,5);break;case 4:ri(c,10);break;case 3:ri(c,6);break;default:ri(c,2)}}}function Rl(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function ri(c,g){if(c.j.info("Error code "+g),g==2){var v=T(c.fb,c),A=c.Xa;const j=!A;A=new Ce(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_a(A,"https"),Ea(A),j?ba(A.toString(),v):lr(A.toString(),v)}else Rt(2);c.G=0,c.l&&c.l.sa(g),du(c),ou(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function du(c){if(c.G=0,c.ka=[],c.l){const g=pl(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ka,g),P(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function mu(c,g,v){var A=v instanceof Ce?Nn(v):new Ce(v);if(A.g!="")g&&(A.g=g+"."+A.g),xi(A,A.s);else{var j=m.location;A=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var Y=new Ce(null);A&&_a(Y,A),g&&(Y.g=g),j&&xi(Y,j),v&&(Y.l=v),A=Y}return v=c.D,g=c.ya,v&&g&&te(A,v,g),te(A,"VER",c.la),Ca(c,A),A}function gu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Yt(new Ni({eb:v})):new Yt(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}i=pu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ds(){}ds.prototype.g=function(c,g){return new _n(c,g)};function _n(c,g){ue.call(this),this.g=new us(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ar(this)}U(_n,ue),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Sl(this.g)},_n.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=pn(c),c=v);g.i.push(new ru(g.Ya++,c)),g.G==3&&fs(g)},_n.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,_n.aa.N.call(this)};function yu(c){ae.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}U(yu,ae);function vu(){Me.call(this),this.status=1}U(vu,Me);function Ar(c){this.g=c}U(Ar,pu),Ar.prototype.ua=function(){Ot(this.g,"a")},Ar.prototype.ta=function(c){Ot(this.g,new yu(c))},Ar.prototype.sa=function(c){Ot(this.g,new vu)},Ar.prototype.ra=function(){Ot(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,G0=function(){return new ds},H0=function(){return _e()},q0=ce,Zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,xc=Ci,Kr.COMPLETE="complete",j0=Kr,ga.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",ue.prototype.listen=ue.prototype.K,vo=ga,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,B0=Yt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const Wv="@firebase/firestore",t_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new M0("@firebase/firestore");function qs(){return Ya.logLevel}function ct(i,...t){if(Ya.logLevel<=Ht.DEBUG){const r=t.map(Dm);Ya.debug(`Firestore (${sl}): ${i}`,...r)}}function bi(i,...t){if(Ya.logLevel<=Ht.ERROR){const r=t.map(Dm);Ya.error(`Firestore (${sl}): ${i}`,...r)}}function Zs(i,...t){if(Ya.logLevel<=Ht.WARN){const r=t.map(Dm);Ya.warn(`Firestore (${sl}): ${i}`,...r)}}function Dm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,F0(i,a,r)}function F0(i,t,r){let a=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw bi(a),new Error(a)}function Xt(i,t,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,i||F0(t,l,a)}function wt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends al{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ww{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(fn.UNAUTHENTICATED)))}shutdown(){}}class Rw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Cw{constructor(t){this.t=t,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Xt(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,r(p)):Promise.resolve();let u=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _i,t.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _i)}}),0),h()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new Q0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new fn(t)}}class Dw{constructor(t,r,a){this.P=t,this.T=r,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xw{constructor(t,r,a){this.P=t,this.T=r,this.I=a}getToken(){return Promise.resolve(new Dw(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class e_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nw{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Xt(this.o===void 0,3512);const a=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const l=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new e_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(Xt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new e_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Iw(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<r&&(a+=t.charAt(l[u]%62))}return a}}function Lt(i,t){return i<t?-1:i>t?1:0}function Jd(i,t){const r=Math.min(i.length,t.length);for(let a=0;a<r;a++){const l=i.charAt(a),u=t.charAt(a);if(l!==u)return Ud(l)===Ud(u)?Lt(l,u):Ud(l)?1:-1}return Lt(i.length,t.length)}const Vw=55296,Mw=57343;function Ud(i){const t=i.charCodeAt(0);return t>=Vw&&t<=Mw}function Js(i,t,r){return i.length===t.length&&i.every(((a,l)=>r(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="__name__";class Ir{constructor(t,r,a){r===void 0?r=0:r>t.length&&Tt(637,{offset:r,range:t.length}),a===void 0?a=t.length-r:a>t.length-r&&Tt(1746,{length:a,range:t.length-r}),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return Ir.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ir?t.forEach((a=>{r.push(a)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let l=0;l<a;l++){const u=Ir.compareSegments(t.get(l),r.get(l));if(u!==0)return u}return Lt(t.length,r.length)}static compareSegments(t,r){const a=Ir.isNumericId(t),l=Ir.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?Ir.extractNumericId(t).compare(Ir.extractNumericId(r)):Jd(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return na.fromString(t.substring(4,t.length-2))}}class le extends Ir{construct(t,r,a){return new le(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new dt(rt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((l=>l.length>0)))}return new le(r)}static emptyPath(){return new le([])}}const Ow=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ir{construct(t,r,a){return new sn(t,r,a)}static isValidIdentifier(t){return Ow.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new sn([n_])}static fromServerFormat(t){const r=[];let a="",l=0;const u=()=>{if(a.length===0)throw new dt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new dt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(a+=m,l++):(u(),l++)}if(u(),h)throw new dt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(r)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(le.fromString(t))}static fromName(t){return new vt(le.fromString(t).popFirst(5))}static empty(){return new vt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return le.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(i,t,r){if(!r)throw new dt(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function Lw(i,t,r,a){if(t===!0&&a===!0)throw new dt(rt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function r_(i){if(!vt.isDocumentKey(i))throw new dt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function i_(i){if(vt.isDocumentKey(i))throw new dt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function X0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Nm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Tt(12329,{type:typeof i})}function Ur(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new dt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Nm(i);throw new dt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(i,t){const r={typeString:i};return t&&(r.value=t),r}function Qo(i,t){if(!X0(i))throw new dt(rt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in t)if(t[a]){const l=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in i)){r=`JSON missing required field: '${a}'`;break}const h=i[a];if(l&&typeof h!==l){r=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${a}' field to equal '${u.value}'`;break}}if(r)throw new dt(rt.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=-62135596800,s_=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*s_);return new oe(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<a_)throw new dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s_}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Qo(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-a_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ie("string",oe._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new oe(0,0))}static max(){return new St(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=-1;function Uw(i,t){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new oe(r+1,0):new oe(r,a));return new aa(l,vt.empty(),t)}function Pw(i){return new aa(i.readTime,i.key,Oo)}class aa{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new aa(St.min(),vt.empty(),Oo)}static max(){return new aa(St.max(),vt.empty(),Oo)}}function zw(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=vt.comparator(i.documentKey,t.documentKey),r!==0?r:Lt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(i){if(i.code!==rt.FAILED_PRECONDITION||i.message!==kw)throw i;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new et(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(r,u).next(a,l)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):et.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):et.reject(r)}static resolve(t){return new et(((r,a)=>{r(t)}))}static reject(t){return new et(((r,a)=>{a(t)}))}static waitFor(t){return new et(((r,a)=>{let l=0,u=0,h=!1;t.forEach((m=>{++l,m.next((()=>{++u,h&&u===l&&r()}),(p=>a(p)))})),h=!0,u===l&&r()}))}static or(t){let r=et.resolve(!1);for(const a of t)r=r.next((l=>l?et.resolve(l):a()));return r}static forEach(t,r){const a=[];return t.forEach(((l,u)=>{a.push(r.call(this,l,u))})),this.waitFor(a)}static mapArray(t,r){return new et(((a,l)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;r(t[y]).next((E=>{h[y]=E,++m,m===u&&a(h)}),(E=>l(E)))}}))}static doWhile(t,r){return new et(((a,l)=>{const u=()=>{t()===!0?r().next((()=>{u()}),l):a()};u()}))}}function jw(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ol(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>r.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=-1;function of(i){return i==null}function jc(i){return i===0&&1/i==-1/0}function qw(i){return typeof i=="number"&&Number.isInteger(i)&&!jc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="";function Hw(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=l_(t)),t=Gw(i.get(r),t);return l_(t)}function Gw(i,t){let r=t;const a=i.length;for(let l=0;l<a;l++){const u=i.charAt(l);switch(u){case"\0":r+="";break;case K0:r+="";break;default:r+=u}}return r}function l_(i){return i+K0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function fa(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function $0(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,r){this.comparator=t,this.root=r||an.EMPTY}insert(t,r){return new me(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,a)=>(t(r,a),!1)))}toString(){const t=[];return this.inorderTraversal(((r,a)=>(t.push(`${r}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,r,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?a(t.key,r):1,r&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,r,a,l,u){this.key=t,this.value=r,this.color=a??an.RED,this.left=l??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,l,u){return new an(t??this.key,r??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,r,a),null):u===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return an.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,r,a,l,u){return this}insert(t,r,a){return new an(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,a)=>(t(r),!1)))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new u_(this.data.getIterator())}getIteratorFrom(t){return new u_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((a=>{r=r.add(a)})),r}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new qe(this.comparator);return r.data=t,r}}class u_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new zn([])}unionWith(t){let r=new qe(sn.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new zn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Js(this.fields,t.fields,((r,a)=>r.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Z0("Invalid base64 string: "+u):u}})(t);return new ln(r)}static fromUint8Array(t){const r=(function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u})(t);return new ln(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const Fw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(i){if(Xt(!!i,39018),typeof i=="string"){let t=0;const r=Fw.exec(i);if(Xt(!!r,46558,{timestamp:i}),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Se(i.seconds),nanos:Se(i.nanos)}}function Se(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function la(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="server_timestamp",W0="__type__",tE="__previous_value__",eE="__local_write_time__";function Vm(i){return(i?.mapValue?.fields||{})[W0]?.stringValue===J0}function uf(i){const t=i.mapValue.fields[tE];return Vm(t)?uf(t):t}function Lo(i){const t=sa(i.mapValue.fields[eE].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,r,a,l,u,h,m,p,y,E){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const qc="(default)";class Uo{constructor(t,r){this.projectId=t,this.database=r||qc}static empty(){return new Uo("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof Uo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="__type__",Yw="__max__",bc={mapValue:{}},rE="__vector__",Hc="value";function oa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vm(i)?4:Kw(i)?9007199254740991:Xw(i)?10:11:Tt(28295,{value:i})}function Pr(i,t){if(i===t)return!0;const r=oa(i);if(r!==oa(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Lo(i).isEqual(Lo(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=sa(l.timestampValue),m=sa(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(l,u){return la(l.bytesValue).isEqual(la(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(l,u){return Se(l.geoPointValue.latitude)===Se(u.geoPointValue.latitude)&&Se(l.geoPointValue.longitude)===Se(u.geoPointValue.longitude)})(i,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Se(l.integerValue)===Se(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=Se(l.doubleValue),m=Se(u.doubleValue);return h===m?jc(h)===jc(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return Js(i.arrayValue.values||[],t.arrayValue.values||[],Pr);case 10:case 11:return(function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(o_(h)!==o_(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Pr(h[p],m[p])))return!1;return!0})(i,t);default:return Tt(52216,{left:i})}}function Po(i,t){return(i.values||[]).find((r=>Pr(r,t)))!==void 0}function Ws(i,t){if(i===t)return 0;const r=oa(i),a=oa(t);if(r!==a)return Lt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=Se(u.integerValue||u.doubleValue),p=Se(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return c_(i.timestampValue,t.timestampValue);case 4:return c_(Lo(i),Lo(t));case 5:return Jd(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=la(u),p=la(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Lt(m[y],p[y]);if(E!==0)return E}return Lt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Lt(Se(u.latitude),Se(h.latitude));return m!==0?m:Lt(Se(u.longitude),Se(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return f_(i.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},y=m[Hc]?.arrayValue,E=p[Hc]?.arrayValue,S=Lt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:f_(y,E)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===bc.mapValue&&h===bc.mapValue)return 0;if(u===bc.mapValue)return 1;if(h===bc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=h.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const T=Jd(p[S],E[S]);if(T!==0)return T;const C=Ws(m[p[S]],y[E[S]]);if(C!==0)return C}return Lt(p.length,E.length)})(i.mapValue,t.mapValue);default:throw Tt(23264,{he:r})}}function c_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Lt(i,t);const r=sa(i),a=sa(t),l=Lt(r.seconds,a.seconds);return l!==0?l:Lt(r.nanos,a.nanos)}function f_(i,t){const r=i.values||[],a=t.values||[];for(let l=0;l<r.length&&l<a.length;++l){const u=Ws(r[l],a[l]);if(u)return u}return Lt(r.length,a.length)}function tl(i){return Wd(i)}function Wd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const a=sa(r);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return la(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return vt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let a="[",l=!0;for(const u of r.values||[])l?l=!1:a+=",",a+=Wd(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(r){const a=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const h of a)u?u=!1:l+=",",l+=`${h}:${Wd(r.fields[h])}`;return l+"}"})(i.mapValue):Tt(61005,{value:i})}function Nc(i){switch(oa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uf(i);return t?16+Nc(t):16;case 5:return 2*i.stringValue.length;case 6:return la(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+Nc(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let l=0;return fa(a.fields,((u,h)=>{l+=u.length+Nc(h)})),l})(i.mapValue);default:throw Tt(13486,{value:i})}}function tm(i){return!!i&&"integerValue"in i}function Mm(i){return!!i&&"arrayValue"in i}function h_(i){return!!i&&"nullValue"in i}function d_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ic(i){return!!i&&"mapValue"in i}function Xw(i){return(i?.mapValue?.fields||{})[nE]?.stringValue===rE}function Ao(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return fa(i.mapValue.fields,((r,a)=>t.mapValue.fields[r]=Ao(a))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Ao(i.arrayValue.values[r]);return t}return{...i}}function Kw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Yw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!Ic(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ao(r)}setAll(t){let r=sn.emptyPath(),a={},l=[];t.forEach(((h,m)=>{if(!r.isImmediateParentOf(m)){const p=this.getFieldsMap(r);this.applyChanges(p,a,l),a={},l=[],r=m.popLast()}h?a[m.lastSegment()]=Ao(h):l.push(m.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,a,l)}delete(t){const r=this.field(t.popLast());Ic(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Pr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=r.mapValue.fields[t.get(a)];Ic(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,a){fa(r,((l,u)=>t[l]=u));for(const l of a)delete t[l]}clone(){return new Dn(Ao(this.value))}}function iE(i){const t=[];return fa(i.fields,((r,a)=>{const l=new sn([r]);if(Ic(a)){const u=iE(a.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)})),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,r,a,l,u,h,m){this.key=t,this.documentType=r,this.version=a,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new hn(t,0,St.min(),St.min(),St.min(),Dn.empty(),0)}static newFoundDocument(t,r,a,l){return new hn(t,1,r,St.min(),a,l,0)}static newNoDocument(t,r){return new hn(t,2,r,St.min(),St.min(),Dn.empty(),0)}static newUnknownDocument(t,r){return new hn(t,3,r,St.min(),St.min(),Dn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,r){this.position=t,this.inclusive=r}}function m_(i,t,r){let a=0;for(let l=0;l<i.position.length;l++){const u=t[l],h=i.position[l];if(u.field.isKeyField()?a=vt.comparator(vt.fromName(h.referenceValue),r.key):a=Ws(h,r.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function g_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Pr(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,r="asc"){this.field=t,this.dir=r}}function $w(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class Be extends aE{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new Jw(t,r,a):r==="array-contains"?new eR(t,a):r==="in"?new nR(t,a):r==="not-in"?new rR(t,a):r==="array-contains-any"?new iR(t,a):new Be(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new Ww(t,a):new tR(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Ws(r,this.value)):r!==null&&oa(this.value)===oa(r)&&this.matchesComparison(Ws(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends aE{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new zr(t,r)}matches(t){return sE(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sE(i){return i.op==="and"}function lE(i){return Zw(i)&&sE(i)}function Zw(i){for(const t of i.filters)if(t instanceof zr)return!1;return!0}function em(i){if(i instanceof Be)return i.field.canonicalString()+i.op.toString()+tl(i.value);if(lE(i))return i.filters.map((t=>em(t))).join(",");{const t=i.filters.map((r=>em(r))).join(",");return`${i.op}(${t})`}}function oE(i,t){return i instanceof Be?(function(a,l){return l instanceof Be&&a.op===l.op&&a.field.isEqual(l.field)&&Pr(a.value,l.value)})(i,t):i instanceof zr?(function(a,l){return l instanceof zr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,h,m)=>u&&oE(h,l.filters[m])),!0):!1})(i,t):void Tt(19439)}function uE(i){return i instanceof Be?(function(r){return`${r.field.canonicalString()} ${r.op} ${tl(r.value)}`})(i):i instanceof zr?(function(r){return r.op.toString()+" {"+r.getFilters().map(uE).join(" ,")+"}"})(i):"Filter"}class Jw extends Be{constructor(t,r,a){super(t,r,a),this.key=vt.fromName(a.referenceValue)}matches(t){const r=vt.comparator(t.key,this.key);return this.matchesComparison(r)}}class Ww extends Be{constructor(t,r){super(t,"in",r),this.keys=cE("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class tR extends Be{constructor(t,r){super(t,"not-in",r),this.keys=cE("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function cE(i,t){return(t.arrayValue?.values||[]).map((r=>vt.fromName(r.referenceValue)))}class eR extends Be{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Mm(r)&&Po(r.arrayValue,this.value)}}class nR extends Be{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Po(this.value.arrayValue,r)}}class rR extends Be{constructor(t,r){super(t,"not-in",r)}matches(t){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Po(this.value.arrayValue,r)}}class iR extends Be{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Mm(r)||!r.arrayValue.values)&&r.arrayValue.values.some((a=>Po(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,r=null,a=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function p_(i,t=null,r=[],a=[],l=null,u=null,h=null){return new aR(i,t,r,a,l,u,h)}function Om(i){const t=wt(i);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((a=>em(a))).join(","),r+="|ob:",r+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),of(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>tl(a))).join(",")),t.Te=r}return t.Te}function Lm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!$w(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!oE(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!g_(i.startAt,t.startAt)&&g_(i.endAt,t.endAt)}function nm(i){return vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,r=null,a=[],l=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sR(i,t,r,a,l,u,h,m){return new cf(i,t,r,a,l,u,h,m)}function Um(i){return new cf(i)}function y_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function lR(i){return i.collectionGroup!==null}function wo(i){const t=wt(i);if(t.Ie===null){t.Ie=[];const r=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),r.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new qe(sn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{r.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Fc(u,a))})),r.has(sn.keyField().canonicalString())||t.Ie.push(new Fc(sn.keyField(),a))}return t.Ie}function Vr(i){const t=wt(i);return t.Ee||(t.Ee=oR(t,wo(i))),t.Ee}function oR(i,t){if(i.limitType==="F")return p_(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Fc(l.field,u)}));const r=i.endAt?new Gc(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Gc(i.startAt.position,i.startAt.inclusive):null;return p_(i.path,i.collectionGroup,t,i.filters,i.limit,r,a)}}function rm(i,t,r){return new cf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function ff(i,t){return Lm(Vr(i),Vr(t))&&i.limitType===t.limitType}function fE(i){return`${Om(Vr(i))}|lt:${i.limitType}`}function Hs(i){return`Query(target=${(function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map((l=>uE(l))).join(", ")}]`),of(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map((l=>tl(l))).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map((l=>tl(l))).join(",")),`Target(${a})`})(Vr(i))}; limitType=${i.limitType})`}function hf(i,t){return t.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):vt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,t)&&(function(a,l){for(const u of wo(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(i,t)&&(function(a,l){return!(a.startAt&&!(function(h,m,p){const y=m_(h,m,p);return h.inclusive?y<=0:y<0})(a.startAt,wo(a),l)||a.endAt&&!(function(h,m,p){const y=m_(h,m,p);return h.inclusive?y>=0:y>0})(a.endAt,wo(a),l))})(i,t)}function uR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function hE(i){return(t,r)=>{let a=!1;for(const l of wo(i)){const u=cR(l,t,r);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function cR(i,t,r){const a=i.field.isKeyField()?vt.comparator(t.key,r.key):(function(u,h,m){const p=h.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Ws(p,y):Tt(42886)})(i.field,t,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Tt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){fa(this.inner,((r,a)=>{for(const[l,u]of a)t(l,u)}))}isEmpty(){return $0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new me(vt.comparator);function Si(){return fR}const dE=new me(vt.comparator);function _o(...i){let t=dE;for(const r of i)t=t.insert(r.key,r);return t}function mE(i){let t=dE;return i.forEach(((r,a)=>t=t.insert(r,a.overlayedDocument))),t}function Fa(){return Ro()}function gE(){return Ro()}function Ro(){return new $a((i=>i.toString()),((i,t)=>i.isEqual(t)))}const hR=new me(vt.comparator),dR=new qe(vt.comparator);function Ut(...i){let t=dR;for(const r of i)t=t.add(r);return t}const mR=new qe(Lt);function gR(){return mR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(t)?"-0":t}}function pE(i){return{integerValue:""+i}}function pR(i,t){return qw(t)?pE(t):Pm(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function yR(i,t,r){return i instanceof Qc?(function(l,u){const h={fields:{[W0]:{stringValue:J0},[eE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Vm(u)&&(u=uf(u)),u&&(h.fields[tE]=u),{mapValue:h}})(r,t):i instanceof zo?vE(i,t):i instanceof ko?_E(i,t):(function(l,u){const h=yE(l,u),m=v_(h)+v_(l.Ae);return tm(h)&&tm(l.Ae)?pE(m):Pm(l.serializer,m)})(i,t)}function vR(i,t,r){return i instanceof zo?vE(i,t):i instanceof ko?_E(i,t):r}function yE(i,t){return i instanceof Yc?(function(a){return tm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class Qc extends df{}class zo extends df{constructor(t){super(),this.elements=t}}function vE(i,t){const r=EE(t);for(const a of i.elements)r.some((l=>Pr(l,a)))||r.push(a);return{arrayValue:{values:r}}}class ko extends df{constructor(t){super(),this.elements=t}}function _E(i,t){let r=EE(t);for(const a of i.elements)r=r.filter((l=>!Pr(l,a)));return{arrayValue:{values:r}}}class Yc extends df{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function v_(i){return Se(i.integerValue||i.doubleValue)}function EE(i){return Mm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function _R(i,t){return i.field.isEqual(t.field)&&(function(a,l){return a instanceof zo&&l instanceof zo||a instanceof ko&&l instanceof ko?Js(a.elements,l.elements,Pr):a instanceof Yc&&l instanceof Yc?Pr(a.Ae,l.Ae):a instanceof Qc&&l instanceof Qc})(i.transform,t.transform)}class ER{constructor(t,r){this.version=t,this.transformResults=r}}class fr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new fr}static exists(t){return new fr(void 0,t)}static updateTime(t){return new fr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class mf{}function TE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new zm(i.key,fr.none()):new Yo(i.key,i.data,fr.none());{const r=i.data,a=Dn.empty();let l=new qe(sn.comparator);for(let u of t.fields)if(!l.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?a.delete(u):a.set(u,h),l=l.add(u)}return new ha(i.key,a,new zn(l.toArray()),fr.none())}}function TR(i,t,r){i instanceof Yo?(function(l,u,h){const m=l.value.clone(),p=E_(l.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,r):i instanceof ha?(function(l,u,h){if(!Vc(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=E_(l.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(bE(l)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,r):(function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,r)}function Co(i,t,r,a){return i instanceof Yo?(function(u,h,m,p){if(!Vc(u.precondition,h))return m;const y=u.value.clone(),E=T_(u.fieldTransforms,p,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,t,r,a):i instanceof ha?(function(u,h,m,p){if(!Vc(u.precondition,h))return m;const y=T_(u.fieldTransforms,p,h),E=h.data;return E.setAll(bE(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,t,r,a):(function(u,h,m){return Vc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,r)}function bR(i,t){let r=null;for(const a of i.fieldTransforms){const l=t.data.field(a.field),u=yE(a.transform,l||null);u!=null&&(r===null&&(r=Dn.empty()),r.set(a.field,u))}return r||null}function __(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Js(a,l,((u,h)=>_R(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Yo extends mf{constructor(t,r,a,l=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ha extends mf{constructor(t,r,a,l,u=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bE(i){const t=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const a=i.data.field(r);t.set(r,a)}})),t}function E_(i,t,r){const a=new Map;Xt(i.length===r.length,32656,{Re:r.length,Ve:i.length});for(let l=0;l<r.length;l++){const u=i[l],h=u.transform,m=t.data.field(u.field);a.set(u.field,vR(h,m,r[l]))}return a}function T_(i,t,r){const a=new Map;for(const l of i){const u=l.transform,h=r.data.field(l.field);a.set(l.field,yR(u,h,t))}return a}class zm extends mf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SR extends mf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,r,a,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&TR(u,t,a[l])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Co(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Co(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=gE();return this.mutations.forEach((l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=r.has(l.key)?null:m;const p=TE(h,m);p!==null&&a.set(l.key,p),h.isValidDocument()||h.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Js(this.mutations,t.mutations,((r,a)=>__(r,a)))&&Js(this.baseMutations,t.baseMutations,((r,a)=>__(r,a)))}}class km{constructor(t,r,a,l){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(t,r,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return hR})();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,a[h].version);return new km(t,r,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,qt;function CR(i){switch(i){case rt.OK:return Tt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Tt(15467,{code:i})}}function SE(i){if(i===void 0)return bi("GRPC error has no .code"),rt.UNKNOWN;switch(i){case Ne.OK:return rt.OK;case Ne.CANCELLED:return rt.CANCELLED;case Ne.UNKNOWN:return rt.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return rt.INTERNAL;case Ne.UNAVAILABLE:return rt.UNAVAILABLE;case Ne.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ne.NOT_FOUND:return rt.NOT_FOUND;case Ne.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ne.ABORTED:return rt.ABORTED;case Ne.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ne.DATA_LOSS:return rt.DATA_LOSS;default:return Tt(39323,{code:i})}}(qt=Ne||(Ne={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new na([4294967295,4294967295],0);function b_(i){const t=DR().encode(i),r=new k0;return r.update(t),new Uint8Array(r.digest())}function S_(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new na([r,a],0),new na([l,u],0)]}class Bm{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Eo(`Invalid padding: ${r}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=na.fromNumber(this.ge)}ye(t,r,a){let l=t.add(r.multiply(na.fromNumber(a)));return l.compare(xR)===1&&(l=new na([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=b_(t),[a,l]=S_(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);if(!this.we(h))return!1}return!0}static create(t,r,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Bm(u,l,r);return a.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const r=b_(t),[a,l]=S_(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,l,u);this.Se(h)}}Se(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,r,a,l,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const l=new Map;return l.set(t,Xo.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new gf(St.min(),l,new me(Lt),Si(),Ut())}}class Xo{constructor(t,r,a,l,u){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new Xo(a,r,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,r,a,l){this.be=t,this.removedTargetIds=r,this.key=a,this.De=l}}class AE{constructor(t,r){this.targetId=t,this.Ce=r}}class wE{constructor(t,r,a=ln.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=l}}class A_{constructor(){this.ve=0,this.Fe=w_(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),r=Ut(),a=Ut();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:Tt(38017,{changeType:u})}})),new Xo(this.Me,this.xe,t,r,a)}qe(){this.Oe=!1,this.Fe=w_()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Si(),this.Je=Sc(),this.He=Sc(),this.Ye=new me(Lt)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const a=this.nt(r);switch(t.state){case 0:this.rt(r)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),a.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((a,l)=>{this.rt(l)&&r(l)}))}st(t){const r=t.targetId,a=t.Ce.count,l=this.ot(r);if(l){const u=l.target;if(nm(u))if(a===0){const h=new vt(u.path);this.et(r,h,hn.newNoDocument(h,St.min()))}else Xt(a===1,20013,{expectedCount:a});else{const h=this._t(r);if(h!==a){const m=this.ut(t),p=m?this.ct(m,t,h):1;if(p!==0){this.it(r);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,y)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=r;let h,m;try{h=la(a).toUint8Array()}catch(p){if(p instanceof Z0)return Zs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bm(h,l,u)}catch(p){return Zs(p instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,r,a){return r.Ce.count===a-this.Pt(t,r.targetId)?0:2}Pt(t,r){const a=this.Ge.getRemoteKeysForTarget(r);let l=0;return a.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(r,u,null),l++)})),l}Tt(t){const r=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&nm(m.target)){const p=new vt(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,hn.newNoDocument(p,t))}u.Be&&(r.set(h,u.ke()),u.qe())}}));let a=Ut();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const l=new gf(t,r,this.Ye,this.je,a);return this.je=Si(),this.Je=Sc(),this.He=Sc(),this.Ye=new me(Lt),l}Xe(t,r){if(!this.rt(t))return;const a=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,a),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,r)?l.Qe(r,1):l.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),a&&(this.je=this.je.insert(r,a))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new A_,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new qe(Lt),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new qe(Lt),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||ct("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new A_),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function Sc(){return new me(vt.comparator)}function w_(){return new me(vt.comparator)}const IR={asc:"ASCENDING",desc:"DESCENDING"},VR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MR={and:"AND",or:"OR"};class OR{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function im(i,t){return i.useProto3Json||of(t)?t:{value:t}}function Xc(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function LR(i,t){return Xc(i,t.toTimestamp())}function Mr(i){return Xt(!!i,49232),St.fromTimestamp((function(r){const a=sa(r);return new oe(a.seconds,a.nanos)})(i))}function jm(i,t){return am(i,t).canonicalString()}function am(i,t){const r=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(i).child("documents");return t===void 0?r:r.child(t)}function CE(i){const t=le.fromString(i);return Xt(VE(t),10190,{key:t.toString()}),t}function sm(i,t){return jm(i.databaseId,t.path)}function Pd(i,t){const r=CE(t);if(r.get(1)!==i.databaseId.projectId)throw new dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new vt(xE(r))}function DE(i,t){return jm(i.databaseId,t)}function UR(i){const t=CE(i);return t.length===4?le.emptyPath():xE(t)}function lm(i){return new le(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xE(i){return Xt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function R_(i,t,r){return{name:sm(i,t),fields:r.value.mapValue.fields}}function PR(i,t){let r;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),ln.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),ln.fromUint8Array(E||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(y){const E=y.code===void 0?rt.UNKNOWN:SE(y.code);return new dt(E,y.message||"")})(h);r=new wE(a,l,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pd(i,a.document.name),u=Mr(a.document.updateTime),h=a.document.createTime?Mr(a.document.createTime):St.min(),m=new Dn({mapValue:{fields:a.document.fields}}),p=hn.newFoundDocument(l,u,h,m),y=a.targetIds||[],E=a.removedTargetIds||[];r=new Mc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Pd(i,a.document),u=a.readTime?Mr(a.readTime):St.min(),h=hn.newNoDocument(l,u),m=a.removedTargetIds||[];r=new Mc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Pd(i,a.document),u=a.removedTargetIds||[];r=new Mc([],u,l,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,h=new RR(l,u),m=a.targetId;r=new AE(m,h)}}return r}function zR(i,t){let r;if(t instanceof Yo)r={update:R_(i,t.key,t.value)};else if(t instanceof zm)r={delete:sm(i,t.key)};else if(t instanceof ha)r={update:R_(i,t.key,t.data),updateMask:YR(t.fieldMask)};else{if(!(t instanceof SR))return Tt(16599,{Vt:t.type});r={verify:sm(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((a=>(function(u,h){const m=h.transform;if(m instanceof Qc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof zo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ko)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Yc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:h.transform})})(0,a)))),t.precondition.isNone||(r.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:LR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(i,t.precondition)),r}function kR(i,t){return i&&i.length>0?(Xt(t!==void 0,14353),i.map((r=>(function(l,u){let h=l.updateTime?Mr(l.updateTime):Mr(u);return h.isEqual(St.min())&&(h=Mr(u)),new ER(h,l.transformResults||[])})(r,t)))):[]}function BR(i,t){return{documents:[DE(i,t.path)]}}function jR(i,t){const r={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=DE(i,l);const u=(function(y){if(y.length!==0)return IE(zr.create(y,"and"))})(t.filters);u&&(r.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((E=>(function(T){return{field:Gs(T.field),direction:GR(T.dir)}})(E)))})(t.orderBy);h&&(r.structuredQuery.orderBy=h);const m=im(i,t.limit);return m!==null&&(r.structuredQuery.limit=m),t.startAt&&(r.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:r,parent:l}}function qR(i){let t=UR(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const E=r.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];r.where&&(u=(function(S){const T=NE(S);return T instanceof zr&&lE(T)?T.getFilters():[T]})(r.where));let h=[];r.orderBy&&(h=(function(S){return S.map((T=>(function(U){return new Fc(Fs(U.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(T)))})(r.orderBy));let m=null;r.limit&&(m=(function(S){let T;return T=typeof S=="object"?S.value:S,of(T)?null:T})(r.limit));let p=null;r.startAt&&(p=(function(S){const T=!!S.before,C=S.values||[];return new Gc(C,T)})(r.startAt));let y=null;return r.endAt&&(y=(function(S){const T=!S.before,C=S.values||[];return new Gc(C,T)})(r.endAt)),sR(t,l,h,u,m,"F",p,y)}function HR(i,t){const r=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:l})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function NE(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Fs(r.unaryFilter.field);return Be.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fs(r.unaryFilter.field);return Be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fs(r.unaryFilter.field);return Be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Fs(r.unaryFilter.field);return Be.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(i):i.fieldFilter!==void 0?(function(r){return Be.create(Fs(r.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return zr.create(r.compositeFilter.filters.map((a=>NE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(r.compositeFilter.op))})(i):Tt(30097,{filter:i})}function GR(i){return IR[i]}function FR(i){return VR[i]}function QR(i){return MR[i]}function Gs(i){return{fieldPath:i.canonicalString()}}function Fs(i){return sn.fromServerFormat(i.fieldPath)}function IE(i){return i instanceof Be?(function(r){if(r.op==="=="){if(d_(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NAN"}};if(h_(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(d_(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NOT_NAN"}};if(h_(r.value))return{unaryFilter:{field:Gs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(r.field),op:FR(r.op),value:r.value}}})(i):i instanceof zr?(function(r){const a=r.getFilters().map((l=>IE(l)));return a.length===1?a[0]:{compositeFilter:{op:QR(r.op),filters:a}}})(i):Tt(54877,{filter:i})}function YR(i){const t=[];return i.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function VE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,r,a,l,u=St.min(),h=St.min(),m=ln.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Wi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t){this.yt=t}}function KR(i){const t=qR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?rm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.Cn=new ZR}addToCollectionParentIndex(t,r){return this.Cn.add(r),et.resolve()}getCollectionParents(t,r){return et.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return et.resolve()}deleteFieldIndex(t,r){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,r){return et.resolve()}getDocumentsMatchingTarget(t,r){return et.resolve(null)}getIndexType(t,r){return et.resolve(0)}getFieldIndexes(t,r){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,r){return et.resolve(aa.min())}getMinOffsetFromCollectionGroup(t,r){return et.resolve(aa.min())}updateCollectionGroup(t,r,a){return et.resolve()}updateIndexEntries(t,r){return et.resolve()}}class ZR{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r]||new qe(le.comparator),u=!l.has(a);return this.index[r]=l.add(a),u}has(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(t){return(this.index[t]||new qe(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(ME,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LruGarbageCollector",JR=1048576;function x_([i,t],[r,a]){const l=Lt(i,r);return l===0?Lt(t,a):l}class WR{constructor(t){this.Ir=t,this.buffer=new qe(x_),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();x_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class t2{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(D_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ol(r)?ct(D_,"Ignoring IndexedDB error during garbage collection: ",r):await ll(r)}await this.Vr(3e5)}))}}class e2{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next((a=>Math.floor(r/100*a)))}nthSequenceNumber(t,r){if(r===0)return et.resolve(lf.ce);const a=new WR(r);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,r,a){return this.mr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(C_)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.yr(t,r)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let a,l,u,h,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,h=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,m=Date.now(),this.removeTargets(t,a,r)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),qs()<=Ht.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function n2(i,t){return new e2(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.changes=new $a((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,hn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?et.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,r,a,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,r)))).next((l=>(a!==null&&Co(a.mutation,l,zn.empty(),oe.now()),l)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,r,a=Ut()){const l=Fa();return this.populateOverlays(t,l,r).next((()=>this.computeViews(t,r,l,a).next((u=>{let h=_o();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,r){const a=Fa();return this.populateOverlays(t,a,r).next((()=>this.computeViews(t,r,a,Ut())))}populateOverlays(t,r,a){const l=[];return a.forEach((u=>{r.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((h,m)=>{r.set(h,m)}))}))}computeViews(t,r,a,l){let u=Si();const h=Ro(),m=(function(){return Ro()})();return r.forEach(((p,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof ha)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),Co(E.mutation,y,E.mutation.getFieldMask(),oe.now())):h.set(y.key,zn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>h.set(y,E))),r.forEach(((y,E)=>m.set(y,new i2(E,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,r){const a=Ro();let l=new me(((h,m)=>h-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((h=>{for(const m of h)m.keys().forEach((p=>{const y=r.get(p);if(y===null)return;let E=a.get(p)||zn.empty();E=m.applyToLocalView(y,E),a.set(p,E);const S=(l.get(m.batchId)||Ut()).add(p);l=l.insert(m.batchId,S)}))})).next((()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=gE();E.forEach((T=>{if(!u.has(T)){const C=TE(r.get(T),a.get(T));C!==null&&S.set(T,C),u=u.add(T)}})),h.push(this.documentOverlayCache.saveOverlays(t,y,S))}return et.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,r,a,l){return(function(h){return vt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):lR(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,l):this.getDocumentsMatchingCollectionQuery(t,r,a,l)}getNextDocuments(t,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,l-u.size):et.resolve(Fa());let m=Oo,p=u;return h.next((y=>et.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?et.resolve():this.remoteDocumentCache.getEntry(t,E).next((T=>{p=p.insert(E,T)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,Ut()))).next((E=>({batchId:m,changes:mE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new vt(r)).next((a=>{let l=_o();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,r,a,l){const u=r.collectionGroup;let h=_o();return this.indexManager.getCollectionParents(t,u).next((m=>et.forEach(m,(p=>{const y=(function(S,T){return new cf(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(r,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((E=>{E.forEach(((S,T)=>{h=h.insert(S,T)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,r,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,u,l)))).next((h=>{u.forEach(((p,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,hn.newInvalidDocument(E)))}));let m=_o();return h.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Co(E.mutation,y,zn.empty(),oe.now()),hf(r,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return et.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,(function(l){return{id:l.id,version:l.version,createTime:Mr(l.createTime)}})(r)),et.resolve()}getNamedQuery(t,r){return et.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,(function(l){return{name:l.name,query:KR(l.bundledQuery),readTime:Mr(l.readTime)}})(r)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.overlays=new me(vt.comparator),this.qr=new Map}getOverlay(t,r){return et.resolve(this.overlays.get(r))}getOverlays(t,r){const a=Fa();return et.forEach(r,(l=>this.getOverlay(t,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(t,r,a){return a.forEach(((l,u)=>{this.St(t,r,u)})),et.resolve()}removeOverlaysForBatchId(t,r,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),et.resolve()}getOverlaysForCollection(t,r,a){const l=Fa(),u=r.length+1,h=new vt(r.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&l.set(p.getKey(),p)}return et.resolve(l)}getOverlaysForCollectionGroup(t,r,a,l){let u=new me(((y,E)=>y-E));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Fa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Fa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=l)););return et.resolve(m)}St(t,r,a){const l=this.overlays.get(a.key);if(l!==null){const h=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new wR(r,a));let u=this.qr.get(r);u===void 0&&(u=Ut(),this.qr.set(r,u)),this.qr.set(r,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.Qr=new qe(Ke.$r),this.Ur=new qe(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const a=new Ke(t,r);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,r){t.forEach((a=>this.addReference(a,r)))}removeReference(t,r){this.Gr(new Ke(t,r))}zr(t,r){t.forEach((a=>this.removeReference(a,r)))}jr(t){const r=new vt(new le([])),a=new Ke(r,t),l=new Ke(r,t+1),u=[];return this.Ur.forEachInRange([a,l],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new vt(new le([])),a=new Ke(r,t),l=new Ke(r,t+1);let u=Ut();return this.Ur.forEachInRange([a,l],(h=>{u=u.add(h.key)})),u}containsKey(t){const r=new Ke(t,0),a=this.Qr.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class Ke{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return vt.comparator(t.key,r.key)||Lt(t.Yr,r.Yr)}static Kr(t,r){return Lt(t.Yr,r.Yr)||vt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ke.$r)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new AR(u,r,a,l);this.mutationQueue.push(h);for(const m of l)this.Zr=this.Zr.add(new Ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return et.resolve(h)}lookupMutationBatch(t,r){return et.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,l=this.ei(a),u=l<0?0:l;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Im:this.tr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new Ke(r,0),l=new Ke(r,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(h=>{const m=this.Xr(h.Yr);u.push(m)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new qe(Lt);return r.forEach((l=>{const u=new Ke(l,0),h=new Ke(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{a=a.add(m.Yr)}))})),et.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,l=a.length+1;let u=a;vt.isDocumentKey(u)||(u=u.child(""));const h=new Ke(new vt(u),0);let m=new qe(Lt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Yr)),!0)}),h),et.resolve(this.ti(m))}ti(t){const r=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&r.push(l)})),r}removeMutationBatch(t,r){Xt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return et.forEach(r.mutations,(l=>{const u=new Ke(l.key,r.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,r){const a=new Ke(r,0),l=this.Zr.firstAfterOrEqual(a);return et.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t){this.ri=t,this.docs=(function(){return new me(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,l=this.docs.get(a),u=l?l.size:0,h=this.ri(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return et.resolve(a?a.document.mutableCopy():hn.newInvalidDocument(r))}getEntries(t,r){let a=Si();return r.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():hn.newInvalidDocument(l))})),et.resolve(a)}getDocumentsMatchingQuery(t,r,a,l){let u=Si();const h=r.path,m=new vt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||zw(Pw(E),a)<=0||(l.has(E.key)||hf(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(t,r,a,l){Tt(9500)}ii(t,r){return et.forEach(this.docs,(a=>r(a)))}newChangeBuffer(t){return new f2(this)}getSize(t){return et.resolve(this.size)}}class f2 extends r2{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?r.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),et.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.persistence=t,this.si=new $a((r=>Om(r)),Lm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new qm,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,r){return this.si.forEach(((a,l)=>r(l))),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.oi&&(this.oi=r),et.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new el(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,et.resolve()}updateTargetData(t,r){return this.Pr(r),et.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,r,a){let l=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=r&&a.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)})),et.waitFor(u).next((()=>l))}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,r){const a=this.si.get(r)||null;return et.resolve(a)}addMatchingKeys(t,r,a){return this._i.Wr(r,a),et.resolve()}removeMatchingKeys(t,r,a){this._i.zr(r,a);const l=this.persistence.referenceDelegate,u=[];return l&&r.forEach((h=>{u.push(l.markPotentiallyOrphaned(t,h))})),et.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),et.resolve()}getMatchingKeysForTargetId(t,r){const a=this._i.Hr(r);return et.resolve(a)}containsKey(t,r){return et.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t,r){this.ui={},this.overlays={},this.ci=new lf(0),this.li=!1,this.li=!0,this.hi=new o2,this.referenceDelegate=t(this),this.Pi=new h2(this),this.indexManager=new $R,this.remoteDocumentCache=(function(l){return new c2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new XR(r),this.Ii=new s2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new l2,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.ui[t.toKey()];return a||(a=new u2(r,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,a){ct("MemoryPersistence","Starting transaction:",t);const l=new d2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,r){return et.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,r))))}}class d2 extends Bw{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new qm,this.Vi=null}static mi(t){return new Hm(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,r,a){return this.Ri.addReference(a,r),this.fi.delete(a.toString()),et.resolve()}removeReference(t,r,a){return this.Ri.removeReference(a,r),this.fi.add(a.toString()),et.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),et.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(t,r)))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(a=>{const l=vt.fromPath(a);return this.gi(t,l).next((u=>{u||r.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,r.apply(t))))}updateLimboDocument(t,r){return this.gi(t,r).next((a=>{a?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(t){return 0}gi(t,r){return et.or([()=>et.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class Kc{constructor(t,r){this.persistence=t,this.pi=new $a((a=>Hw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=n2(this,r)}static mi(t,r){return new Kc(t,r)}Ei(){}di(t){return et.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>r.next((l=>a+l))))}wr(t){let r=0;return this.pr(t,(a=>{r++})).next((()=>r))}pr(t,r){return et.forEach(this.pi,((a,l)=>this.br(t,a,l).next((u=>u?et.resolve():r(l)))))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(h=>this.br(t,h,r).next((m=>{m||(a++,u.removeEntry(h,St.min()))})))).next((()=>u.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),et.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.pi.set(a,t.currentSequenceNumber),et.resolve()}removeReference(t,r,a){return this.pi.set(a,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),et.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Nc(t.data.value)),r}br(t,r,a){return et.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.pi.get(r);return et.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,r,a,l){this.targetId=t,this.fromCache=r,this.Es=a,this.ds=l}static As(t,r){let a=Ut(),l=Ut();for(const u of r.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Gm(t,r.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lA()?8:jw(aA())>0?6:4})()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,a,l){const u={result:null};return this.ys(t,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(t,r,l,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new m2;return this.Ss(t,r,h).next((m=>{if(u.result=m,this.Vs)return this.bs(t,r,h,m.size)}))})).next((()=>u.result))}bs(t,r,a,l){return a.documentReadCount<this.fs?(qs()<=Ht.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Hs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(qs()<=Ht.DEBUG&&ct("QueryEngine","Query:",Hs(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(qs()<=Ht.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Hs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vr(r))):et.resolve())}ys(t,r){if(y_(r))return et.resolve(null);let a=Vr(r);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(r.limit!==null&&l===1&&(r=rm(r,null,"F"),a=Vr(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const h=Ut(...u);return this.ps.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,a).next((p=>{const y=this.Ds(r,m);return this.Cs(r,y,h,p.readTime)?this.ys(t,rm(r,null,"F")):this.vs(t,y,r,p)}))))})))))}ws(t,r,a,l){return y_(r)||l.isEqual(St.min())?et.resolve(null):this.ps.getDocuments(t,a).next((u=>{const h=this.Ds(r,u);return this.Cs(r,h,a,l)?et.resolve(null):(qs()<=Ht.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Hs(r)),this.vs(t,h,r,Uw(l,Oo)).next((m=>m)))}))}Ds(t,r){let a=new qe(hE(t));return r.forEach(((l,u)=>{hf(t,u)&&(a=a.add(u))})),a}Cs(t,r,a,l){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,r,a){return qs()<=Ht.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Hs(r)),this.ps.getDocumentsMatchingQuery(t,r,aa.min(),a)}vs(t,r,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",p2=3e8;class y2{constructor(t,r,a,l){this.persistence=t,this.Fs=r,this.serializer=l,this.Ms=new me(Lt),this.xs=new $a((u=>Om(u)),Lm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new a2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.Ms)))}}function v2(i,t,r,a){return new y2(i,t,r,a)}async function LE(i,t){const r=wt(i);return await r.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,r.Bs(t),r.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],m=[];let p=Ut();for(const y of l){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return r.localDocuments.getDocuments(a,p).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function _2(i,t){const r=wt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),u=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const S=y.batch,T=S.keys();let C=et.resolve();return T.forEach((U=>{C=C.next((()=>E.getEntry(p,U))).next((B=>{const P=y.docVersions.get(U);Xt(P!==null,48541),B.version.compareTo(P)<0&&(S.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),E.addEntry(B)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(r,a,t,u).next((()=>u.apply(a))).next((()=>r.mutationQueue.performConsistencyCheck(a))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Ut();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>r.localDocuments.getDocuments(a,l)))}))}function UE(i){const t=wt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.Pi.getLastRemoteSnapshotVersion(r)))}function E2(i,t){const r=wt(i),a=t.snapshotVersion;let l=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.Ns.newChangeBuffer({trackRemovals:!0});l=r.Ms;const m=[];t.targetChanges.forEach(((E,S)=>{const T=l.get(S);if(!T)return;m.push(r.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>r.Pi.addMatchingKeys(u,E.addedDocuments,S))));let C=T.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?C=C.withResumeToken(ln.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,a)),l=l.insert(S,C),(function(B,P,K){return B.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=p2?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(T,C,E)&&m.push(r.Pi.updateTargetData(u,C))}));let p=Si(),y=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(T2(u,h,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!a.isEqual(St.min())){const E=r.Pi.getLastRemoteSnapshotVersion(u).next((S=>r.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return et.waitFor(m).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(r.Ms=l,u)))}function T2(i,t,r){let a=Ut(),l=Ut();return r.forEach((u=>a=a.add(u))),t.getEntries(i,a).next((u=>{let h=Si();return r.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ct(Fm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:h,qs:l}}))}function b2(i,t){const r=wt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Im),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function S2(i,t){const r=wt(i);return r.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return r.Pi.getTargetData(a,t).next((u=>u?(l=u,et.resolve(l)):r.Pi.allocateTargetId(a).next((h=>(l=new Wi(t,h,"TargetPurposeListen",a.currentSequenceNumber),r.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=r.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(a.targetId,a),r.xs.set(t,a.targetId)),a}))}async function om(i,t,r){const a=wt(i),l=a.Ms.get(t),u=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!ol(h))throw h;ct(Fm,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function N_(i,t,r){const a=wt(i);let l=St.min(),u=Ut();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,E){const S=wt(p),T=S.xs.get(E);return T!==void 0?et.resolve(S.Ms.get(T)):S.Pi.getTargetData(y,E)})(a,h,Vr(t)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(h,t,r?l:St.min(),r?u:Ut()))).next((m=>(A2(a,uR(t),m),{documents:m,Qs:u})))))}function A2(i,t,r){let a=i.Os.get(t)||St.min();r.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Os.set(t,a)}class I_{constructor(){this.activeTargetIds=gR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class w2{constructor(){this.Mo=new I_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,a){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new I_,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class M_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(V_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(V_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function um(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="RestConnection",C2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,r,a,l,u){const h=um(),m=this.zo(t,r.toUriEncodedString());ct(zd,`Sending RPC '${t}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:y}=new URL(m),E=Rm(y);return this.Jo(t,m,p,a,E).then((S=>(ct(zd,`Received RPC '${t}' ${h}: `,S),S)),(S=>{throw Zs(zd,`RPC '${t}' ${h} failed with error: `,S,"url: ",m,"request:",a),S}))}Ho(t,r,a,l,u,h){return this.Go(t,r,a,l,u)}jo(t,r,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,u)=>t[u]=l)),a&&a.headers.forEach(((l,u)=>t[u]=l))}zo(t,r){const a=C2[t];return`${this.Uo}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class N2 extends D2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,a,l,u){const h=um();return new Promise(((m,p)=>{const y=new B0;y.setWithCredentials(!0),y.listenOnce(j0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case xc.NO_ERROR:const S=y.getResponseJson();ct(cn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(S)),m(S);break;case xc.TIMEOUT:ct(cn,`RPC '${t}' ${h} timed out`),p(new dt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const T=y.getStatus();if(ct(cn,`RPC '${t}' ${h} failed with status:`,T,"response text:",y.getResponseText()),T>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C?.error;if(U&&U.status&&U.message){const B=(function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(Q)>=0?Q:rt.UNKNOWN})(U.status);p(new dt(B,U.message))}else p(new dt(rt.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new dt(rt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct(cn,`RPC '${t}' ${h} completed.`)}}));const E=JSON.stringify(l);ct(cn,`RPC '${t}' ${h} sending request:`,l),y.send(r,"POST",E,a,15)}))}T_(t,r,a){const l=um(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=G0(),m=H0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,r,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ct(cn,`Creating RPC '${t}' stream ${l}: ${E}`,p);const S=h.createWebChannel(E,p);this.I_(S);let T=!1,C=!1;const U=new x2({Yo:P=>{C?ct(cn,`Not sending because RPC '${t}' stream ${l} is closed:`,P):(T||(ct(cn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),T=!0),ct(cn,`RPC '${t}' stream ${l} sending:`,P),S.send(P))},Zo:()=>S.close()}),B=(P,K,Q)=>{P.listen(K,(Z=>{try{Q(Z)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return B(S,vo.EventType.OPEN,(()=>{C||(ct(cn,`RPC '${t}' stream ${l} transport opened.`),U.o_())})),B(S,vo.EventType.CLOSE,(()=>{C||(C=!0,ct(cn,`RPC '${t}' stream ${l} transport closed`),U.a_(),this.E_(S))})),B(S,vo.EventType.ERROR,(P=>{C||(C=!0,Zs(cn,`RPC '${t}' stream ${l} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new dt(rt.UNAVAILABLE,"The operation could not be completed")))})),B(S,vo.EventType.MESSAGE,(P=>{if(!C){const K=P.data[0];Xt(!!K,16349);const Q=K,Z=Q?.error||Q[0]?.error;if(Z){ct(cn,`RPC '${t}' stream ${l} received error:`,Z);const ut=Z.status;let lt=(function(w){const R=Ne[w];if(R!==void 0)return SE(R)})(ut),ft=Z.message;lt===void 0&&(lt=rt.INTERNAL,ft="Unknown error status: "+ut+" with message "+Z.message),C=!0,U.a_(new dt(lt,ft)),S.close()}else ct(cn,`RPC '${t}' stream ${l} received:`,K),U.u_(K)}})),B(m,q0.STAT_EVENT,(P=>{P.stat===Zd.PROXY?ct(cn,`RPC '${t}' stream ${l} detected buffering proxy`):P.stat===Zd.NOPROXY&&ct(cn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((r=>r===t))}}function kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(i){return new OR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,r,a=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=r,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-a);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="PersistentStream";class zE{constructor(t,r,a,l,u,h,m,p){this.Mi=t,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PE(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===rt.RESOURCE_EXHAUSTED?(bi(r.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===r&&this.G_(a,l)}),(a=>{t((()=>{const l=new dt(rt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,r){const a=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(O_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget((()=>this.D_===t?r():(ct(O_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class I2 extends zE{constructor(t,r,a,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,h),this.serializer=u}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=PR(this.serializer,t),a=(function(u){if(!("targetChange"in u))return St.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?St.min():h.readTime?Mr(h.readTime):St.min()})(t);return this.listener.H_(r,a)}Y_(t){const r={};r.database=lm(this.serializer),r.addTarget=(function(u,h){let m;const p=h.target;if(m=nm(p)?{documents:BR(u,p)}:{query:jR(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=RE(u,h.resumeToken);const y=im(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(St.min())>0){m.readTime=Xc(u,h.snapshotVersion.toTimestamp());const y=im(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const a=HR(this.serializer,t);a&&(r.labels=a),this.q_(r)}Z_(t){const r={};r.database=lm(this.serializer),r.removeTarget=t,this.q_(r)}}class V2 extends zE{constructor(t,r,a,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=kR(t.writeResults,t.commitTime),a=Mr(t.commitTime);return this.listener.na(a,r)}ra(){const t={};t.database=lm(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((a=>zR(this.serializer,a)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{}class O2 extends M2{constructor(t,r,a,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new dt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(t,am(r,a),l,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new dt(rt.UNKNOWN,u.toString())}))}Ho(t,r,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(t,am(r,a),l,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new dt(rt.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class L2{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(r),this.aa=!1):ct("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class U2{constructor(t,r,a,l,u){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{a.enqueueAndForget((async()=>{Za(this)&&(ct(Xa,"Restarting streams for network reachability change."),await(async function(p){const y=wt(p);y.Ea.add(4),await Ko(y),y.Ra.set("Unknown"),y.Ea.delete(4),await yf(y)})(this))}))})),this.Ra=new L2(a,l)}}async function yf(i){if(Za(i))for(const t of i.da)await t(!0)}async function Ko(i){for(const t of i.da)await t(!1)}function kE(i,t){const r=wt(i);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),Km(r)?Xm(r):ul(r).O_()&&Ym(r,t))}function Qm(i,t){const r=wt(i),a=ul(r);r.Ia.delete(t),a.O_()&&BE(r,t),r.Ia.size===0&&(a.O_()?a.L_():Za(r)&&r.Ra.set("Unknown"))}function Ym(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}ul(i).Y_(t)}function BE(i,t){i.Va.Ue(t),ul(i).Z_(t)}function Xm(i){i.Va=new NR({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),ul(i).start(),i.Ra.ua()}function Km(i){return Za(i)&&!ul(i).x_()&&i.Ia.size>0}function Za(i){return wt(i).Ea.size===0}function jE(i){i.Va=void 0}async function P2(i){i.Ra.set("Online")}async function z2(i){i.Ia.forEach(((t,r)=>{Ym(i,t)}))}async function k2(i,t){jE(i),Km(i)?(i.Ra.ha(t),Xm(i)):i.Ra.set("Unknown")}async function B2(i,t,r){if(i.Ra.set("Online"),t instanceof wE&&t.state===2&&t.cause)try{await(async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.Va.removeTarget(m))})(i,t)}catch(a){ct(Xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await $c(i,a)}else if(t instanceof Mc?i.Va.Ze(t):t instanceof AE?i.Va.st(t):i.Va.tt(t),!r.isEqual(St.min()))try{const a=await UE(i.localStore);r.compareTo(a)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(ln.EMPTY_BYTE_STRING,E.snapshotVersion)),BE(u,p);const S=new Wi(E.target,p,y,E.sequenceNumber);Ym(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(i,r)}catch(a){ct(Xa,"Failed to raise snapshot:",a),await $c(i,a)}}async function $c(i,t,r){if(!ol(t))throw t;i.Ea.add(1),await Ko(i),i.Ra.set("Offline"),r||(r=()=>UE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ct(Xa,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await yf(i)}))}function qE(i,t){return t().catch((r=>$c(i,r,t)))}async function vf(i){const t=wt(i),r=ua(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;j2(t);)try{const l=await b2(t.localStore,a);if(l===null){t.Ta.length===0&&r.L_();break}a=l.batchId,q2(t,l)}catch(l){await $c(t,l)}HE(t)&&GE(t)}function j2(i){return Za(i)&&i.Ta.length<10}function q2(i,t){i.Ta.push(t);const r=ua(i);r.O_()&&r.X_&&r.ea(t.mutations)}function HE(i){return Za(i)&&!ua(i).x_()&&i.Ta.length>0}function GE(i){ua(i).start()}async function H2(i){ua(i).ra()}async function G2(i){const t=ua(i);for(const r of i.Ta)t.ea(r.mutations)}async function F2(i,t,r){const a=i.Ta.shift(),l=km.from(a,t,r);await qE(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await vf(i)}async function Q2(i,t){t&&ua(i).X_&&await(async function(a,l){if((function(h){return CR(h)&&h!==rt.ABORTED})(l.code)){const u=a.Ta.shift();ua(a).B_(),await qE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await vf(a)}})(i,t),HE(i)&&GE(i)}async function L_(i,t){const r=wt(i);r.asyncQueue.verifyOperationInProgress(),ct(Xa,"RemoteStore received new credentials");const a=Za(r);r.Ea.add(3),await Ko(r),a&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await yf(r)}async function Y2(i,t){const r=wt(i);t?(r.Ea.delete(2),await yf(r)):t||(r.Ea.add(2),await Ko(r),r.Ra.set("Unknown"))}function ul(i){return i.ma||(i.ma=(function(r,a,l){const u=wt(r);return u.sa(),new I2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:P2.bind(null,i),t_:z2.bind(null,i),r_:k2.bind(null,i),H_:B2.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),Km(i)?Xm(i):i.Ra.set("Unknown")):(await i.ma.stop(),jE(i))}))),i.ma}function ua(i){return i.fa||(i.fa=(function(r,a,l){const u=wt(r);return u.sa(),new V2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:H2.bind(null,i),r_:Q2.bind(null,i),ta:G2.bind(null,i),na:F2.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await vf(i)):(await i.fa.stop(),i.Ta.length>0&&(ct(Xa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,r,a,l,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,l,u){const h=Date.now()+a,m=new $m(t,r,h,l,u);return m.start(a),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(i,t){if(bi("AsyncQueue",`${t}: ${i}`),ol(i))return new dt(rt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{static emptySet(t){return new Xs(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||vt.comparator(r.key,a.key):(r,a)=>vt.comparator(r.key,a.key),this.keyedMap=_o(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,a)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Xs)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new Xs;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.ga=new me(vt.comparator)}track(t){const r=t.doc.key,a=this.ga.get(r);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(r,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(r):t.type===1&&a.type===2?this.ga=this.ga.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,a)=>{t.push(a)})),t}}class nl{constructor(t,r,a,l,u,h,m,p,y){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,r,a,l,u){const h=[];return r.forEach((m=>{h.push({type:0,doc:m})})),new nl(t,r,Xs.emptySet(r),h,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class K2{constructor(){this.queries=P_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,a){const l=wt(r),u=l.queries;l.queries=P_(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new dt(rt.ABORTED,"Firestore shutting down"))}}function P_(){return new $a((i=>fE(i)),ff)}async function FE(i,t){const r=wt(i);let a=3;const l=t.query;let u=r.queries.get(l);u?!u.ba()&&t.Da()&&(a=2):(u=new X2,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await r.onListen(l,!0);break;case 1:u.wa=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(h){const m=Zm(h,`Initialization of query '${Hs(t.query)}' failed`);return void t.onError(m)}r.queries.set(l,u),u.Sa.push(t),t.va(r.onlineState),u.wa&&t.Fa(u.wa)&&Jm(r)}async function QE(i,t){const r=wt(i),a=t.query;let l=3;const u=r.queries.get(a);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function $2(i,t){const r=wt(i);let a=!1;for(const l of t){const u=l.query,h=r.queries.get(u);if(h){for(const m of h.Sa)m.Fa(l)&&(a=!0);h.wa=l}}a&&Jm(r)}function Z2(i,t,r){const a=wt(i),l=a.queries.get(t);if(l)for(const u of l.Sa)u.onError(r);a.queries.delete(t)}function Jm(i){i.Ca.forEach((t=>{t.next()}))}var cm,z_;(z_=cm||(cm={})).Ma="default",z_.Cache="cache";class YE{constructor(t,r,a){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const a=r!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t){this.key=t}}class KE{constructor(t){this.key=t}}class J2{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=hE(t),this.tu=new Xs(this.eu)}get nu(){return this.Ya}ru(t,r){const a=r?r.iu:new U_,l=r?r.tu:this.tu;let u=r?r.mutatedKeys:this.mutatedKeys,h=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,S)=>{const T=l.get(E),C=hf(this.query,S)?S:null,U=!!T&&this.mutatedKeys.has(T.key),B=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;T&&C?T.data.isEqual(C.data)?U!==B&&(a.track({type:3,doc:C}),P=!0):this.su(T,C)||(a.track({type:2,doc:C}),P=!0,(p&&this.eu(C,p)>0||y&&this.eu(C,y)<0)&&(m=!0)):!T&&C?(a.track({type:0,doc:C}),P=!0):T&&!C&&(a.track({type:1,doc:T}),P=!0,(p||y)&&(m=!0)),P&&(C?(h=h.add(C),u=B?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:h,iu:a,Cs:m,mutatedKeys:u}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((E,S)=>(function(C,U){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:P})}};return B(C)-B(U)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),l=l??!1;const m=r&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,h.length!==0||y?{snapshot:new nl(this.query,t.tu,u,h,t.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const r=[];return t.forEach((a=>{this.Xa.has(a)||r.push(new KE(a))})),this.Xa.forEach((a=>{t.has(a)||r.push(new XE(a))})),r}cu(t){this.Ya=t.Qs,this.Xa=Ut();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wm="SyncEngine";class W2{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class tC{constructor(t){this.key=t,this.hu=!1}}class eC{constructor(t,r,a,l,u,h){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new $a((m=>fE(m)),ff),this.Iu=new Map,this.Eu=new Set,this.du=new me(vt.comparator),this.Au=new Map,this.Ru=new qm,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nC(i,t,r=!0){const a=eT(i);let l;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await $E(a,t,r,!0),l}async function rC(i,t){const r=eT(i);await $E(r,t,!0,!1)}async function $E(i,t,r,a){const l=await S2(i.localStore,Vr(t)),u=l.targetId,h=i.sharedClientState.addLocalQueryTarget(u,r);let m;return a&&(m=await iC(i,t,u,h==="current",l.resumeToken)),i.isPrimaryClient&&r&&kE(i.remoteStore,l),m}async function iC(i,t,r,a,l){i.pu=(S,T,C)=>(async function(B,P,K,Q){let Z=P.view.ru(K);Z.Cs&&(Z=await N_(B.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,Z))));const ut=Q&&Q.targetChanges.get(P.targetId),lt=Q&&Q.targetMismatches.get(P.targetId)!=null,ft=P.view.applyChanges(Z,B.isPrimaryClient,ut,lt);return B_(B,P.targetId,ft.au),ft.snapshot})(i,S,T,C);const u=await N_(i.localStore,t,!0),h=new J2(t,u.Qs),m=h.ru(u.documents),p=Xo.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),y=h.applyChanges(m,i.isPrimaryClient,p);B_(i,r,y.au);const E=new W2(t,r,h);return i.Tu.set(t,E),i.Iu.has(r)?i.Iu.get(r).push(t):i.Iu.set(r,[t]),y.snapshot}async function aC(i,t,r){const a=wt(i),l=a.Tu.get(t),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((h=>!ff(h,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await om(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),r&&Qm(a.remoteStore,l.targetId),fm(a,l.targetId)})).catch(ll)):(fm(a,l.targetId),await om(a.localStore,l.targetId,!0))}async function sC(i,t){const r=wt(i),a=r.Tu.get(t),l=r.Iu.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Qm(r.remoteStore,a.targetId))}async function lC(i,t,r){const a=mC(i);try{const l=await(function(h,m){const p=wt(h),y=oe.now(),E=m.reduce(((C,U)=>C.add(U.key)),Ut());let S,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=Si(),B=Ut();return p.Ns.getEntries(C,E).next((P=>{U=P,U.forEach(((K,Q)=>{Q.isValidDocument()||(B=B.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,U))).next((P=>{S=P;const K=[];for(const Q of m){const Z=bR(Q,S.get(Q.key).overlayedDocument);Z!=null&&K.push(new ha(Q.key,Z,iE(Z.value.mapValue),fr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,K,m)})).next((P=>{T=P;const K=P.applyToLocalDocumentSet(S,B);return p.documentOverlayCache.saveOverlays(C,P.batchId,K)}))})).then((()=>({batchId:T.batchId,changes:mE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(h,m,p){let y=h.Vu[h.currentUser.toKey()];y||(y=new me(Lt)),y=y.insert(m,p),h.Vu[h.currentUser.toKey()]=y})(a,l.batchId,r),await $o(a,l.changes),await vf(a.remoteStore)}catch(l){const u=Zm(l,"Failed to persist write");r.reject(u)}}async function ZE(i,t){const r=wt(i);try{const a=await E2(r.localStore,t);t.targetChanges.forEach(((l,u)=>{const h=r.Au.get(u);h&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?Xt(h.hu,14607):l.removedDocuments.size>0&&(Xt(h.hu,42227),h.hu=!1))})),await $o(r,a,t)}catch(a){await ll(a)}}function k_(i,t,r){const a=wt(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&l.push(m.snapshot)})),(function(h,m){const p=wt(h);p.onlineState=m;let y=!1;p.queries.forEach(((E,S)=>{for(const T of S.Sa)T.va(m)&&(y=!0)})),y&&Jm(p)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function oC(i,t,r){const a=wt(i);a.sharedClientState.updateQueryState(t,"rejected",r);const l=a.Au.get(t),u=l&&l.key;if(u){let h=new me(vt.comparator);h=h.insert(u,hn.newNoDocument(u,St.min()));const m=Ut().add(u),p=new gf(St.min(),new Map,new me(Lt),h,m);await ZE(a,p),a.du=a.du.remove(u),a.Au.delete(t),tg(a)}else await om(a.localStore,t,!1).then((()=>fm(a,t,r))).catch(ll)}async function uC(i,t){const r=wt(i),a=t.batch.batchId;try{const l=await _2(r.localStore,t);WE(r,a,null),JE(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await $o(r,l)}catch(l){await ll(l)}}async function cC(i,t,r){const a=wt(i);try{const l=await(function(h,m){const p=wt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((S=>(Xt(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(a.localStore,t);WE(a,t,r),JE(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await $o(a,l)}catch(l){await ll(l)}}function JE(i,t){(i.mu.get(t)||[]).forEach((r=>{r.resolve()})),i.mu.delete(t)}function WE(i,t,r){const a=wt(i);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(r?u.reject(r):u.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function fm(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.Iu.get(t))i.Tu.delete(a),r&&i.Pu.yu(a,r);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((a=>{i.Ru.containsKey(a)||tT(i,a)}))}function tT(i,t){i.Eu.delete(t.path.canonicalString());const r=i.du.get(t);r!==null&&(Qm(i.remoteStore,r),i.du=i.du.remove(t),i.Au.delete(r),tg(i))}function B_(i,t,r){for(const a of r)a instanceof XE?(i.Ru.addReference(a.key,t),fC(i,a)):a instanceof KE?(ct(Wm,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,t),i.Ru.containsKey(a.key)||tT(i,a.key)):Tt(19791,{wu:a})}function fC(i,t){const r=t.key,a=r.path.canonicalString();i.du.get(r)||i.Eu.has(a)||(ct(Wm,"New document in limbo: "+r),i.Eu.add(a),tg(i))}function tg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const r=new vt(le.fromString(t)),a=i.fu.next();i.Au.set(a,new tC(r)),i.du=i.du.insert(r,a),kE(i.remoteStore,new Wi(Vr(Um(r.path)),a,"TargetPurposeLimboResolution",lf.ce))}}async function $o(i,t,r){const a=wt(i),l=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{h.push(a.pu(p,t,r).then((y=>{if((y||r)&&a.isPrimaryClient){const E=y?!y.fromCache:r?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){l.push(y);const E=Gm.As(p.targetId,y);u.push(E)}})))})),await Promise.all(h),a.Pu.H_(l),await(async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>et.forEach(y,(T=>et.forEach(T.Es,(C=>E.persistence.referenceDelegate.addReference(S,T.targetId,C))).next((()=>et.forEach(T.ds,(C=>E.persistence.referenceDelegate.removeReference(S,T.targetId,C)))))))))}catch(S){if(!ol(S))throw S;ct(Fm,"Failed to update sequence numbers: "+S)}for(const S of y){const T=S.targetId;if(!S.fromCache){const C=E.Ms.get(T),U=C.snapshotVersion,B=C.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(T,B)}}})(a.localStore,u))}async function hC(i,t){const r=wt(i);if(!r.currentUser.isEqual(t)){ct(Wm,"User change. New user:",t.toKey());const a=await LE(r.localStore,t);r.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new dt(rt.CANCELLED,h))}))})),u.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $o(r,a.Ls)}}function dC(i,t){const r=wt(i),a=r.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const u=r.Iu.get(t);if(!u)return l;for(const h of u){const m=r.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function eT(i){const t=wt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oC.bind(null,t),t.Pu.H_=$2.bind(null,t.eventManager),t.Pu.yu=Z2.bind(null,t.eventManager),t}function mC(i){const t=wt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cC.bind(null,t),t}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=pf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return v2(this.persistence,new g2,t.initialUser,this.serializer)}Cu(t){return new OE(Hm.mi,this.serializer)}Du(t){return new w2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class gC extends Zc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Xt(this.persistence.referenceDelegate instanceof Kc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new t2(a,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new OE((a=>Kc.mi(a,r)),this.serializer)}}class hm{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>k_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hC.bind(null,this.syncEngine),await Y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new K2})()}createDatastore(t){const r=pf(t.databaseInfo.databaseId),a=(function(u){return new N2(u)})(t.databaseInfo);return(function(u,h,m,p){return new O2(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return(function(a,l,u,h,m){return new U2(a,l,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(r=>k_(this.syncEngine,r,0)),(function(){return M_.v()?new M_:new R2})())}createSyncEngine(t,r){return(function(l,u,h,m,p,y,E){const S=new eC(l,u,h,m,p,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const a=wt(r);ct(Xa,"RemoteStore shutting down."),a.Ea.add(5),await Ko(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):bi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="FirestoreClient";class pC{constructor(t,r,a,l,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=fn.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async h=>{ct(ca,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(ct(ca,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=Zm(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Bd(i,t){i.asyncQueue.verifyOperationInProgress(),ct(ca,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let a=r.initialUser;i.setCredentialChangeListener((async l=>{a.isEqual(l)||(await LE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function j_(i,t){i.asyncQueue.verifyOperationInProgress();const r=await yC(i);ct(ca,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener((a=>L_(t.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,l)=>L_(t.remoteStore,l))),i._onlineComponents=t}async function yC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ct(ca,"Using user provided OfflineComponentProvider");try{await Bd(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(l){return l.name==="FirebaseError"?l.code===rt.FAILED_PRECONDITION||l.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(r))throw r;Zs("Error using user provided cache. Falling back to memory cache: "+r),await Bd(i,new Zc)}}else ct(ca,"Using default OfflineComponentProvider"),await Bd(i,new gC(void 0));return i._offlineComponents}async function rT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ct(ca,"Using user provided OnlineComponentProvider"),await j_(i,i._uninitializedComponentsProvider._online)):(ct(ca,"Using default OnlineComponentProvider"),await j_(i,new hm))),i._onlineComponents}function vC(i){return rT(i).then((t=>t.syncEngine))}async function iT(i){const t=await rT(i),r=t.eventManager;return r.onListen=nC.bind(null,t.syncEngine),r.onUnlisten=aC.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=rC.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=sC.bind(null,t.syncEngine),r}function _C(i,t,r={}){const a=new _i;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const E=new nT({next:T=>{E.Nu(),h.enqueueAndForget((()=>QE(u,S)));const C=T.docs.has(m);!C&&T.fromCache?y.reject(new dt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?y.reject(new dt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),S=new YE(Um(m.path),E,{includeMetadataChanges:!0,qa:!0});return FE(u,S)})(await iT(i),i.asyncQueue,t,r,a))),a.promise}function EC(i,t,r={}){const a=new _i;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const E=new nT({next:T=>{E.Nu(),h.enqueueAndForget((()=>QE(u,S))),T.fromCache&&p.source==="server"?y.reject(new dt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),S=new YE(m,E,{includeMetadataChanges:!0,qa:!0});return FE(u,S)})(await iT(i),i.asyncQueue,t,r,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firestore.googleapis.com",H_=!0;class G_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=H_}else this.host=t.host,this.ssl=t.ssl??H_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<JR)throw new dt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Lw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _f{constructor(t,r,a,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new ww;switch(a.type){case"firstParty":return new xw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new dt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const a=q_.get(r);a&&(ct("ComponentProvider","Removing Datastore"),q_.delete(r),a.terminate())})(this),Promise.resolve()}}function TC(i,t,r,a={}){i=Ur(i,_f);const l=Rm(t),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${r}`;l&&(tA(`https://${m}`),iA("Firestore",!0)),u.host!==sT&&u.host!==m&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:l,emulatorOptions:a};if(!zc(p,h)&&(i._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=fn.MOCK_USER;else{y=eA(a.mockUserToken,i._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new dt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new fn(S)}i._authCredentials=new Rw(new Q0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ef(this.firestore,t,this._query)}}class Ve{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,a){if(Qo(r,Ve._jsonSchema))return new Ve(t,a||null,new vt(le.fromString(r.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Ie("string",Ve._jsonSchemaVersion),referencePath:Ie("string")};class ra extends Ef{constructor(t,r,a){super(t,r,Um(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new vt(t))}withConverter(t){return new ra(this.firestore,t,this._path)}}function bC(i,t,...r){if(i=ia(i),Y0("collection","path",t),i instanceof _f){const a=le.fromString(t,...r);return i_(a),new ra(i,null,a)}{if(!(i instanceof Ve||i instanceof ra))throw new dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(le.fromString(t,...r));return i_(a),new ra(i.firestore,null,a)}}function To(i,t,...r){if(i=ia(i),arguments.length===1&&(t=xm.newId()),Y0("doc","path",t),i instanceof _f){const a=le.fromString(t,...r);return r_(a),new Ve(i,null,new vt(a))}{if(!(i instanceof Ve||i instanceof ra))throw new dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(le.fromString(t,...r));return r_(a),new Ve(i.firestore,i instanceof ra?i.converter:null,new vt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="AsyncQueue";class Q_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PE(this,"async_queue_retry"),this._c=()=>{const a=kd();a&&ct(F_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const r=kd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=kd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new _i;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ol(t))throw t;ct(F_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",Y_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=r,r}enqueueAfterDelay(t,r,a){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const l=$m.createAndSchedule(this,t,r,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Tt(47125,{Pc:Y_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function Y_(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class cl extends _f{constructor(t,r,a,l){super(t,r,a,l),this.type="firestore",this._queue=new Q_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Q_(t),this._firestoreClient=void 0,await t}}}function SC(i,t){const r=typeof i=="object"?i:mw(),a=typeof i=="string"?i:qc,l=uw(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=JS("firestore");u&&TC(l,...u)}return l}function eg(i){if(i._terminated)throw new dt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||AC(i),i._firestoreClient}function AC(i){const t=i._freezeSettings(),r=(function(l,u,h,m){return new Qw(l,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,aT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new pC(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tr(ln.fromBase64String(t))}catch(r){throw new dt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new tr(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Qo(t,tr._jsonSchema))return tr.fromBase64String(t.bytes)}}tr._jsonSchemaVersion="firestore/bytes/1.0",tr._jsonSchema={type:Ie("string",tr._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new dt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new dt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new dt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(t){if(Qo(t,Or._jsonSchema))return new Or(t.latitude,t.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Ie("string",Or._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Qo(t,Lr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new Lr(t.vectorValues);throw new dt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lr._jsonSchemaVersion="firestore/vectorValue/1.0",Lr._jsonSchema={type:Ie("string",Lr._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^__.*__$/;class RC{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new ha(t,this.data,this.fieldMask,r,this.fieldTransforms):new Yo(t,this.data,r,this.fieldTransforms)}}class lT{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new ha(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function oT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:i})}}class rg{constructor(t,r,a,l,u,h){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new rg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const r=this.path?.child(t),a=this.Vc({path:r,fc:!1});return a.gc(t),a}yc(t){const r=this.path?.child(t),a=this.Vc({path:r,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Jc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&wC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CC{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||pf(t)}Cc(t,r,a,l=!1){return new rg({Ac:t,methodName:r,Dc:a,path:sn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uT(i){const t=i._freezeSettings(),r=pf(i._databaseId);return new CC(i._databaseId,!!t.ignoreUndefinedProperties,r)}function DC(i,t,r,a,l,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,t,r,l);ig("Data must be an object, but it was:",h,a);const m=cT(a,h);let p,y;if(u.merge)p=new zn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const T=dm(t,S,r);if(!h.contains(T))throw new dt(rt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);hT(E,T)||E.push(T)}p=new zn(E),y=h.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=h.fieldTransforms;return new RC(new Dn(m),p,y)}class bf extends ng{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bf}}function xC(i,t,r,a){const l=i.Cc(1,t,r);ig("Data must be an object, but it was:",l,a);const u=[],h=Dn.empty();fa(a,((p,y)=>{const E=ag(t,p,r);y=ia(y);const S=l.yc(E);if(y instanceof bf)u.push(E);else{const T=Sf(y,S);T!=null&&(u.push(E),h.set(E,T))}}));const m=new zn(u);return new lT(h,m,l.fieldTransforms)}function NC(i,t,r,a,l,u){const h=i.Cc(1,t,r),m=[dm(t,a,r)],p=[l];if(u.length%2!=0)throw new dt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(dm(t,u[T])),p.push(u[T+1]);const y=[],E=Dn.empty();for(let T=m.length-1;T>=0;--T)if(!hT(y,m[T])){const C=m[T];let U=p[T];U=ia(U);const B=h.yc(C);if(U instanceof bf)y.push(C);else{const P=Sf(U,B);P!=null&&(y.push(C),E.set(C,P))}}const S=new zn(y);return new lT(E,S,h.fieldTransforms)}function Sf(i,t){if(fT(i=ia(i)))return ig("Unsupported field value:",t,i),cT(i,t);if(i instanceof ng)return(function(a,l){if(!oT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let h=0;for(const m of a){let p=Sf(m,l.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(a,l){if((a=ia(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return pR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=oe.fromDate(a);return{timestampValue:Xc(l.serializer,u)}}if(a instanceof oe){const u=new oe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,u)}}if(a instanceof Or)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof tr)return{bytesValue:RE(l.serializer,a._byteString)};if(a instanceof Ve){const u=l.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw l.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Lr)return(function(h,m){return{mapValue:{fields:{[nE]:{stringValue:rE},[Hc]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pm(m.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Nm(a)}`)})(i,t)}function cT(i,t){const r={};return $0(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fa(i,((a,l)=>{const u=Sf(l,t.mc(a));u!=null&&(r[a]=u)})),{mapValue:{fields:r}}}function fT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof oe||i instanceof Or||i instanceof tr||i instanceof Ve||i instanceof ng||i instanceof Lr)}function ig(i,t,r){if(!fT(r)||!X0(r)){const a=Nm(r);throw a==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+a)}}function dm(i,t,r){if((t=ia(t))instanceof Tf)return t._internalPath;if(typeof t=="string")return ag(i,t);throw Jc("Field path arguments must be of type string or ",i,!1,void 0,r)}const IC=new RegExp("[~\\*/\\[\\]]");function ag(i,t,r){if(t.search(IC)>=0)throw Jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Tf(...t.split("."))._internalPath}catch{throw Jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Jc(i,t,r,a,l){const u=a&&!a.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${l}`),p+=")"),new dt(rt.INVALID_ARGUMENT,m+i+p)}function hT(i,t){return i.some((r=>r.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,r,a,l,u){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(mT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class VC extends dT{data(){return super.data()}}function mT(i,t){return typeof t=="string"?ag(i,t):t instanceof Tf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new dt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OC{convertValue(t,r="none"){switch(oa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(la(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return fa(t,((l,u)=>{a[l]=this.convertValue(u,r)})),a}convertVectorValue(t){const r=t.fields?.[Hc].arrayValue?.values?.map((a=>Se(a.doubleValue)));return new Lr(r)}convertGeoPoint(t){return new Or(Se(t.latitude),Se(t.longitude))}convertArray(t,r){return(t.values||[]).map((a=>this.convertValue(a,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const a=uf(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Lo(t));default:return null}}convertTimestamp(t){const r=sa(t);return new oe(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=le.fromString(t);Xt(VE(a),9688,{name:t});const l=new Uo(a.get(1),a.get(3)),u=new vt(a.popFirst(5));return l.isEqual(r)||bi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(i,t,r){let a;return a=i?i.toFirestore(t):t,a}class bo{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qa extends dT{constructor(t,r,a,l,u,h){super(t,r,a,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(mT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Qa._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:Ie("string",Qa._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Oc extends Qa{data(t={}){return super.data(t)}}class Ks{constructor(t,r,a,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new bo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((a=>{t.call(r,new Oc(this._firestore,this._userDataWriter,a.key,a,new bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new dt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((m=>{const p=new Oc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new bo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Oc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new bo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:UC(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ks._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(i){i=Ur(i,Ve);const t=Ur(i.firestore,cl);return _C(eg(t),i._key).then((r=>jC(t,i,r)))}Ks._jsonSchemaVersion="firestore/querySnapshot/1.0",Ks._jsonSchema={type:Ie("string",Ks._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class gT extends OC{constructor(t){super(),this.firestore=t}convertBytes(t){return new tr(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,r)}}function zC(i){i=Ur(i,Ef);const t=Ur(i.firestore,cl),r=eg(t),a=new gT(t);return MC(i._query),EC(r,i._query).then((l=>new Ks(t,a,i,l)))}function kC(i,t,r){i=Ur(i,Ve);const a=Ur(i.firestore,cl),l=LC(i.converter,t);return sg(a,[DC(uT(a),"setDoc",i._key,l,i.converter!==null,r).toMutation(i._key,fr.none())])}function pT(i,t,r,...a){i=Ur(i,Ve);const l=Ur(i.firestore,cl),u=uT(l);let h;return h=typeof(t=ia(t))=="string"||t instanceof Tf?NC(u,"updateDoc",i._key,t,r,a):xC(u,"updateDoc",i._key,t),sg(l,[h.toMutation(i._key,fr.exists(!0))])}function BC(i){return sg(Ur(i.firestore,cl),[new zm(i._key,fr.none())])}function sg(i,t){return(function(a,l){const u=new _i;return a.asyncQueue.enqueueAndForget((async()=>lC(await vC(a),l,u))),u.promise})(eg(i),t)}function jC(i,t,r){const a=r.docs.get(t._key),l=new gT(i);return new Qa(i,l,t._key,a,new bo(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(l){sl=l})(dw),Bc(new Vo("firestore",((a,{instanceIdentifier:l,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new cl(new Cw(a.getProvider("auth-internal")),new Nw(h,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(y.options.projectId,E)})(h,l),h);return u={useFetchStreams:r,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ys(Wv,t_,t),Ys(Wv,t_,"esm2020")})();var qC="firebase",HC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(qC,HC,"app");const GC={apiKey:"AIzaSyA4PfUq-mZuhTigs176jp4pqWqA6_98LsY",authDomain:"mymangalist-d76ad.firebaseapp.com",projectId:"mymangalist-d76ad",storageBucket:"mymangalist-d76ad.firebasestorage.app",messagingSenderId:"658088308670",appId:"1:658088308670:web:7de341fab5c2e508ccd3ef"},FC=U0(GC),Qs=SC(FC);function QC(){for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return D.useMemo(()=>a=>{t.forEach(l=>l(a))},t)}const Af=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fl(i){const t=Object.prototype.toString.call(i);return t==="[object Window]"||t==="[object global]"}function lg(i){return"nodeType"in i}function xn(i){var t,r;return i?fl(i)?i:lg(i)&&(t=(r=i.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function og(i){const{Document:t}=xn(i);return i instanceof t}function Zo(i){return fl(i)?!1:i instanceof xn(i).HTMLElement}function yT(i){return i instanceof xn(i).SVGElement}function hl(i){return i?fl(i)?i.document:lg(i)?og(i)?i:Zo(i)||yT(i)?i.ownerDocument:document:document:document}const kr=Af?D.useLayoutEffect:D.useEffect;function ug(i){const t=D.useRef(i);return kr(()=>{t.current=i}),D.useCallback(function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t.current==null?void 0:t.current(...a)},[])}function YC(){const i=D.useRef(null),t=D.useCallback((a,l)=>{i.current=setInterval(a,l)},[]),r=D.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[t,r]}function Bo(i,t){t===void 0&&(t=[i]);const r=D.useRef(i);return kr(()=>{r.current!==i&&(r.current=i)},t),r}function Jo(i,t){const r=D.useRef();return D.useMemo(()=>{const a=i(r.current);return r.current=a,a},[...t])}function Wc(i){const t=ug(i),r=D.useRef(null),a=D.useCallback(l=>{l!==r.current&&t?.(l,r.current),r.current=l},[]);return[r,a]}function mm(i){const t=D.useRef();return D.useEffect(()=>{t.current=i},[i]),t.current}let jd={};function Wo(i,t){return D.useMemo(()=>{if(t)return t;const r=jd[i]==null?0:jd[i]+1;return jd[i]=r,i+"-"+r},[i,t])}function vT(i){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return a.reduce((u,h)=>{const m=Object.entries(h);for(const[p,y]of m){const E=u[p];E!=null&&(u[p]=E+i*y)}return u},{...t})}}const $s=vT(1),jo=vT(-1);function XC(i){return"clientX"in i&&"clientY"in i}function cg(i){if(!i)return!1;const{KeyboardEvent:t}=xn(i.target);return t&&i instanceof t}function KC(i){if(!i)return!1;const{TouchEvent:t}=xn(i.target);return t&&i instanceof t}function gm(i){if(KC(i)){if(i.touches&&i.touches.length){const{clientX:t,clientY:r}=i.touches[0];return{x:t,y:r}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:t,clientY:r}=i.changedTouches[0];return{x:t,y:r}}}return XC(i)?{x:i.clientX,y:i.clientY}:null}const qo=Object.freeze({Translate:{toString(i){if(!i)return;const{x:t,y:r}=i;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:t,scaleY:r}=i;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(i){if(i)return[qo.Translate.toString(i),qo.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:t,duration:r,easing:a}=i;return t+" "+r+"ms "+a}}}),X_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function $C(i){return i.matches(X_)?i:i.querySelector(X_)}const ZC={display:"none"};function JC(i){let{id:t,value:r}=i;return Tn.createElement("div",{id:t,style:ZC},r)}function WC(i){let{id:t,announcement:r,ariaLiveType:a="assertive"}=i;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Tn.createElement("div",{id:t,style:l,role:"status","aria-live":a,"aria-atomic":!0},r)}function tD(){const[i,t]=D.useState("");return{announce:D.useCallback(a=>{a!=null&&t(a)},[]),announcement:i}}const _T=D.createContext(null);function eD(i){const t=D.useContext(_T);D.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(i)},[i,t])}function nD(){const[i]=D.useState(()=>new Set),t=D.useCallback(a=>(i.add(a),()=>i.delete(a)),[i]);return[D.useCallback(a=>{let{type:l,event:u}=a;i.forEach(h=>{var m;return(m=h[l])==null?void 0:m.call(h,u)})},[i]),t]}const rD={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},iD={onDragStart(i){let{active:t}=i;return"Picked up draggable item "+t.id+"."},onDragOver(i){let{active:t,over:r}=i;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(i){let{active:t,over:r}=i;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(i){let{active:t}=i;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function aD(i){let{announcements:t=iD,container:r,hiddenTextDescribedById:a,screenReaderInstructions:l=rD}=i;const{announce:u,announcement:h}=tD(),m=Wo("DndLiveRegion"),[p,y]=D.useState(!1);if(D.useEffect(()=>{y(!0)},[]),eD(D.useMemo(()=>({onDragStart(S){let{active:T}=S;u(t.onDragStart({active:T}))},onDragMove(S){let{active:T,over:C}=S;t.onDragMove&&u(t.onDragMove({active:T,over:C}))},onDragOver(S){let{active:T,over:C}=S;u(t.onDragOver({active:T,over:C}))},onDragEnd(S){let{active:T,over:C}=S;u(t.onDragEnd({active:T,over:C}))},onDragCancel(S){let{active:T,over:C}=S;u(t.onDragCancel({active:T,over:C}))}}),[u,t])),!p)return null;const E=Tn.createElement(Tn.Fragment,null,Tn.createElement(JC,{id:a,value:l.draggable}),Tn.createElement(WC,{id:m,announcement:h}));return r?yo.createPortal(E,r):E}var ke;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(ke||(ke={}));function tf(){}function K_(i,t){return D.useMemo(()=>({sensor:i,options:t??{}}),[i,t])}function sD(){for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return D.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const dr=Object.freeze({x:0,y:0});function ET(i,t){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function TT(i,t){let{data:{value:r}}=i,{data:{value:a}}=t;return r-a}function lD(i,t){let{data:{value:r}}=i,{data:{value:a}}=t;return a-r}function $_(i){let{left:t,top:r,height:a,width:l}=i;return[{x:t,y:r},{x:t+l,y:r},{x:t,y:r+a},{x:t+l,y:r+a}]}function bT(i,t){if(!i||i.length===0)return null;const[r]=i;return r[t]}function Z_(i,t,r){return t===void 0&&(t=i.left),r===void 0&&(r=i.top),{x:t+i.width*.5,y:r+i.height*.5}}const oD=i=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=i;const l=Z_(t,t.left,t.top),u=[];for(const h of a){const{id:m}=h,p=r.get(m);if(p){const y=ET(Z_(p),l);u.push({id:m,data:{droppableContainer:h,value:y}})}}return u.sort(TT)},uD=i=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=i;const l=$_(t),u=[];for(const h of a){const{id:m}=h,p=r.get(m);if(p){const y=$_(p),E=l.reduce((T,C,U)=>T+ET(y[U],C),0),S=Number((E/4).toFixed(4));u.push({id:m,data:{droppableContainer:h,value:S}})}}return u.sort(TT)};function cD(i,t){const r=Math.max(t.top,i.top),a=Math.max(t.left,i.left),l=Math.min(t.left+t.width,i.left+i.width),u=Math.min(t.top+t.height,i.top+i.height),h=l-a,m=u-r;if(a<l&&r<u){const p=t.width*t.height,y=i.width*i.height,E=h*m,S=E/(p+y-E);return Number(S.toFixed(4))}return 0}const fD=i=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=i;const l=[];for(const u of a){const{id:h}=u,m=r.get(h);if(m){const p=cD(m,t);p>0&&l.push({id:h,data:{droppableContainer:u,value:p}})}}return l.sort(lD)};function hD(i,t,r){return{...i,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function ST(i,t){return i&&t?{x:i.left-t.left,y:i.top-t.top}:dr}function dD(i){return function(r){for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];return l.reduce((h,m)=>({...h,top:h.top+i*m.y,bottom:h.bottom+i*m.y,left:h.left+i*m.x,right:h.right+i*m.x}),{...r})}}const mD=dD(1);function gD(i){if(i.startsWith("matrix3d(")){const t=i.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(i.startsWith("matrix(")){const t=i.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function pD(i,t,r){const a=gD(t);if(!a)return i;const{scaleX:l,scaleY:u,x:h,y:m}=a,p=i.left-h-(1-l)*parseFloat(r),y=i.top-m-(1-u)*parseFloat(r.slice(r.indexOf(" ")+1)),E=l?i.width/l:i.width,S=u?i.height/u:i.height;return{width:E,height:S,top:y,right:p+E,bottom:y+S,left:p}}const yD={ignoreTransform:!1};function dl(i,t){t===void 0&&(t=yD);let r=i.getBoundingClientRect();if(t.ignoreTransform){const{transform:y,transformOrigin:E}=xn(i).getComputedStyle(i);y&&(r=pD(r,y,E))}const{top:a,left:l,width:u,height:h,bottom:m,right:p}=r;return{top:a,left:l,width:u,height:h,bottom:m,right:p}}function J_(i){return dl(i,{ignoreTransform:!0})}function vD(i){const t=i.innerWidth,r=i.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function _D(i,t){return t===void 0&&(t=xn(i).getComputedStyle(i)),t.position==="fixed"}function ED(i,t){t===void 0&&(t=xn(i).getComputedStyle(i));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const u=t[l];return typeof u=="string"?r.test(u):!1})}function wf(i,t){const r=[];function a(l){if(t!=null&&r.length>=t||!l)return r;if(og(l)&&l.scrollingElement!=null&&!r.includes(l.scrollingElement))return r.push(l.scrollingElement),r;if(!Zo(l)||yT(l)||r.includes(l))return r;const u=xn(i).getComputedStyle(l);return l!==i&&ED(l,u)&&r.push(l),_D(l,u)?r:a(l.parentNode)}return i?a(i):r}function AT(i){const[t]=wf(i,1);return t??null}function qd(i){return!Af||!i?null:fl(i)?i:lg(i)?og(i)||i===hl(i).scrollingElement?window:Zo(i)?i:null:null}function wT(i){return fl(i)?i.scrollX:i.scrollLeft}function RT(i){return fl(i)?i.scrollY:i.scrollTop}function pm(i){return{x:wT(i),y:RT(i)}}var $e;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})($e||($e={}));function CT(i){return!Af||!i?!1:i===document.scrollingElement}function DT(i){const t={x:0,y:0},r=CT(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},a={x:i.scrollWidth-r.width,y:i.scrollHeight-r.height},l=i.scrollTop<=t.y,u=i.scrollLeft<=t.x,h=i.scrollTop>=a.y,m=i.scrollLeft>=a.x;return{isTop:l,isLeft:u,isBottom:h,isRight:m,maxScroll:a,minScroll:t}}const TD={x:.2,y:.2};function bD(i,t,r,a,l){let{top:u,left:h,right:m,bottom:p}=r;a===void 0&&(a=10),l===void 0&&(l=TD);const{isTop:y,isBottom:E,isLeft:S,isRight:T}=DT(i),C={x:0,y:0},U={x:0,y:0},B={height:t.height*l.y,width:t.width*l.x};return!y&&u<=t.top+B.height?(C.y=$e.Backward,U.y=a*Math.abs((t.top+B.height-u)/B.height)):!E&&p>=t.bottom-B.height&&(C.y=$e.Forward,U.y=a*Math.abs((t.bottom-B.height-p)/B.height)),!T&&m>=t.right-B.width?(C.x=$e.Forward,U.x=a*Math.abs((t.right-B.width-m)/B.width)):!S&&h<=t.left+B.width&&(C.x=$e.Backward,U.x=a*Math.abs((t.left+B.width-h)/B.width)),{direction:C,speed:U}}function SD(i){if(i===document.scrollingElement){const{innerWidth:u,innerHeight:h}=window;return{top:0,left:0,right:u,bottom:h,width:u,height:h}}const{top:t,left:r,right:a,bottom:l}=i.getBoundingClientRect();return{top:t,left:r,right:a,bottom:l,width:i.clientWidth,height:i.clientHeight}}function xT(i){return i.reduce((t,r)=>$s(t,pm(r)),dr)}function AD(i){return i.reduce((t,r)=>t+wT(r),0)}function wD(i){return i.reduce((t,r)=>t+RT(r),0)}function RD(i,t){if(t===void 0&&(t=dl),!i)return;const{top:r,left:a,bottom:l,right:u}=t(i);AT(i)&&(l<=0||u<=0||r>=window.innerHeight||a>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const CD=[["x",["left","right"],AD],["y",["top","bottom"],wD]];class fg{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=wf(r),l=xT(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[u,h,m]of CD)for(const p of h)Object.defineProperty(this,p,{get:()=>{const y=m(a),E=l[u]-y;return this.rect[p]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Do{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...r)})},this.target=t}add(t,r,a){var l;(l=this.target)==null||l.addEventListener(t,r,a),this.listeners.push([t,r,a])}}function DD(i){const{EventTarget:t}=xn(i);return i instanceof t?i:hl(i)}function Hd(i,t){const r=Math.abs(i.x),a=Math.abs(i.y);return typeof t=="number"?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t?a>t.y:!1}var Wn;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(Wn||(Wn={}));function W_(i){i.preventDefault()}function xD(i){i.stopPropagation()}var zt;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(zt||(zt={}));const NT={start:[zt.Space,zt.Enter],cancel:[zt.Esc],end:[zt.Space,zt.Enter,zt.Tab]},ND=(i,t)=>{let{currentCoordinates:r}=t;switch(i.code){case zt.Right:return{...r,x:r.x+25};case zt.Left:return{...r,x:r.x-25};case zt.Down:return{...r,y:r.y+25};case zt.Up:return{...r,y:r.y-25}}};class hg{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Do(hl(r)),this.windowListeners=new Do(xn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Wn.Resize,this.handleCancel),this.windowListeners.add(Wn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Wn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,a=t.node.current;a&&RD(a),r(dr)}handleKeyDown(t){if(cg(t)){const{active:r,context:a,options:l}=this.props,{keyboardCodes:u=NT,coordinateGetter:h=ND,scrollBehavior:m="smooth"}=l,{code:p}=t;if(u.end.includes(p)){this.handleEnd(t);return}if(u.cancel.includes(p)){this.handleCancel(t);return}const{collisionRect:y}=a.current,E=y?{x:y.left,y:y.top}:dr;this.referenceCoordinates||(this.referenceCoordinates=E);const S=h(t,{active:r,context:a.current,currentCoordinates:E});if(S){const T=jo(S,E),C={x:0,y:0},{scrollableAncestors:U}=a.current;for(const B of U){const P=t.code,{isTop:K,isRight:Q,isLeft:Z,isBottom:ut,maxScroll:lt,minScroll:ft}=DT(B),I=SD(B),w={x:Math.min(P===zt.Right?I.right-I.width/2:I.right,Math.max(P===zt.Right?I.left:I.left+I.width/2,S.x)),y:Math.min(P===zt.Down?I.bottom-I.height/2:I.bottom,Math.max(P===zt.Down?I.top:I.top+I.height/2,S.y))},R=P===zt.Right&&!Q||P===zt.Left&&!Z,V=P===zt.Down&&!ut||P===zt.Up&&!K;if(R&&w.x!==S.x){const M=B.scrollLeft+T.x,z=P===zt.Right&&M<=lt.x||P===zt.Left&&M>=ft.x;if(z&&!T.y){B.scrollTo({left:M,behavior:m});return}z?C.x=B.scrollLeft-M:C.x=P===zt.Right?B.scrollLeft-lt.x:B.scrollLeft-ft.x,C.x&&B.scrollBy({left:-C.x,behavior:m});break}else if(V&&w.y!==S.y){const M=B.scrollTop+T.y,z=P===zt.Down&&M<=lt.y||P===zt.Up&&M>=ft.y;if(z&&!T.x){B.scrollTo({top:M,behavior:m});return}z?C.y=B.scrollTop-M:C.y=P===zt.Down?B.scrollTop-lt.y:B.scrollTop-ft.y,C.y&&B.scrollBy({top:-C.y,behavior:m});break}}this.handleMove(t,$s(jo(S,this.referenceCoordinates),C))}}}handleMove(t,r){const{onMove:a}=this.props;t.preventDefault(),a(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hg.activators=[{eventName:"onKeyDown",handler:(i,t,r)=>{let{keyboardCodes:a=NT,onActivation:l}=t,{active:u}=r;const{code:h}=i.nativeEvent;if(a.start.includes(h)){const m=u.activatorNode.current;return m&&i.target!==m?!1:(i.preventDefault(),l?.({event:i.nativeEvent}),!0)}return!1}}];function t0(i){return!!(i&&"distance"in i)}function e0(i){return!!(i&&"delay"in i)}class dg{constructor(t,r,a){var l;a===void 0&&(a=DD(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:u}=t,{target:h}=u;this.props=t,this.events=r,this.document=hl(h),this.documentListeners=new Do(this.document),this.listeners=new Do(a),this.windowListeners=new Do(xn(h)),this.initialCoordinates=(l=gm(u))!=null?l:dr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Wn.Resize,this.handleCancel),this.windowListeners.add(Wn.DragStart,W_),this.windowListeners.add(Wn.VisibilityChange,this.handleCancel),this.windowListeners.add(Wn.ContextMenu,W_),this.documentListeners.add(Wn.Keydown,this.handleKeydown),r){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(e0(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(t0(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:a,onPending:l}=this.props;l(a,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Wn.Click,xD,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Wn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:a,initialCoordinates:l,props:u}=this,{onMove:h,options:{activationConstraint:m}}=u;if(!l)return;const p=(r=gm(t))!=null?r:dr,y=jo(l,p);if(!a&&m){if(t0(m)){if(m.tolerance!=null&&Hd(y,m.tolerance))return this.handleCancel();if(Hd(y,m.distance))return this.handleStart()}if(e0(m)&&Hd(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}t.cancelable&&t.preventDefault(),h(p)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===zt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const ID={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mg extends dg{constructor(t){const{event:r}=t,a=hl(r.target);super(t,ID,a)}}mg.activators=[{eventName:"onPointerDown",handler:(i,t)=>{let{nativeEvent:r}=i,{onActivation:a}=t;return!r.isPrimary||r.button!==0?!1:(a?.({event:r}),!0)}}];const VD={move:{name:"mousemove"},end:{name:"mouseup"}};var ym;(function(i){i[i.RightClick=2]="RightClick"})(ym||(ym={}));class MD extends dg{constructor(t){super(t,VD,hl(t.event.target))}}MD.activators=[{eventName:"onMouseDown",handler:(i,t)=>{let{nativeEvent:r}=i,{onActivation:a}=t;return r.button===ym.RightClick?!1:(a?.({event:r}),!0)}}];const Gd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class OD extends dg{constructor(t){super(t,Gd)}static setup(){return window.addEventListener(Gd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Gd.move.name,t)};function t(){}}}OD.activators=[{eventName:"onTouchStart",handler:(i,t)=>{let{nativeEvent:r}=i,{onActivation:a}=t;const{touches:l}=r;return l.length>1?!1:(a?.({event:r}),!0)}}];var xo;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(xo||(xo={}));var ef;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(ef||(ef={}));function LD(i){let{acceleration:t,activator:r=xo.Pointer,canScroll:a,draggingRect:l,enabled:u,interval:h=5,order:m=ef.TreeOrder,pointerCoordinates:p,scrollableAncestors:y,scrollableAncestorRects:E,delta:S,threshold:T}=i;const C=PD({delta:S,disabled:!u}),[U,B]=YC(),P=D.useRef({x:0,y:0}),K=D.useRef({x:0,y:0}),Q=D.useMemo(()=>{switch(r){case xo.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case xo.DraggableRect:return l}},[r,l,p]),Z=D.useRef(null),ut=D.useCallback(()=>{const ft=Z.current;if(!ft)return;const I=P.current.x*K.current.x,w=P.current.y*K.current.y;ft.scrollBy(I,w)},[]),lt=D.useMemo(()=>m===ef.TreeOrder?[...y].reverse():y,[m,y]);D.useEffect(()=>{if(!u||!y.length||!Q){B();return}for(const ft of lt){if(a?.(ft)===!1)continue;const I=y.indexOf(ft),w=E[I];if(!w)continue;const{direction:R,speed:V}=bD(ft,w,Q,t,T);for(const M of["x","y"])C[M][R[M]]||(V[M]=0,R[M]=0);if(V.x>0||V.y>0){B(),Z.current=ft,U(ut,h),P.current=V,K.current=R;return}}P.current={x:0,y:0},K.current={x:0,y:0},B()},[t,ut,a,B,u,h,JSON.stringify(Q),JSON.stringify(C),U,y,lt,E,JSON.stringify(T)])}const UD={x:{[$e.Backward]:!1,[$e.Forward]:!1},y:{[$e.Backward]:!1,[$e.Forward]:!1}};function PD(i){let{delta:t,disabled:r}=i;const a=mm(t);return Jo(l=>{if(r||!a||!l)return UD;const u={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[$e.Backward]:l.x[$e.Backward]||u.x===-1,[$e.Forward]:l.x[$e.Forward]||u.x===1},y:{[$e.Backward]:l.y[$e.Backward]||u.y===-1,[$e.Forward]:l.y[$e.Forward]||u.y===1}}},[r,t,a])}function zD(i,t){const r=t!=null?i.get(t):void 0,a=r?r.node.current:null;return Jo(l=>{var u;return t==null?null:(u=a??l)!=null?u:null},[a,t])}function kD(i,t){return D.useMemo(()=>i.reduce((r,a)=>{const{sensor:l}=a,u=l.activators.map(h=>({eventName:h.eventName,handler:t(h.handler,a)}));return[...r,...u]},[]),[i,t])}var Ho;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Ho||(Ho={}));var vm;(function(i){i.Optimized="optimized"})(vm||(vm={}));const n0=new Map;function BD(i,t){let{dragging:r,dependencies:a,config:l}=t;const[u,h]=D.useState(null),{frequency:m,measure:p,strategy:y}=l,E=D.useRef(i),S=P(),T=Bo(S),C=D.useCallback(function(K){K===void 0&&(K=[]),!T.current&&h(Q=>Q===null?K:Q.concat(K.filter(Z=>!Q.includes(Z))))},[T]),U=D.useRef(null),B=Jo(K=>{if(S&&!r)return n0;if(!K||K===n0||E.current!==i||u!=null){const Q=new Map;for(let Z of i){if(!Z)continue;if(u&&u.length>0&&!u.includes(Z.id)&&Z.rect.current){Q.set(Z.id,Z.rect.current);continue}const ut=Z.node.current,lt=ut?new fg(p(ut),ut):null;Z.rect.current=lt,lt&&Q.set(Z.id,lt)}return Q}return K},[i,u,r,S,p]);return D.useEffect(()=>{E.current=i},[i]),D.useEffect(()=>{S||C()},[r,S]),D.useEffect(()=>{u&&u.length>0&&h(null)},[JSON.stringify(u)]),D.useEffect(()=>{S||typeof m!="number"||U.current!==null||(U.current=setTimeout(()=>{C(),U.current=null},m))},[m,S,C,...a]),{droppableRects:B,measureDroppableContainers:C,measuringScheduled:u!=null};function P(){switch(y){case Ho.Always:return!1;case Ho.BeforeDragging:return r;default:return!r}}}function IT(i,t){return Jo(r=>i?r||(typeof t=="function"?t(i):i):null,[t,i])}function jD(i,t){return IT(i,t)}function qD(i){let{callback:t,disabled:r}=i;const a=ug(t),l=D.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(a)},[a,r]);return D.useEffect(()=>()=>l?.disconnect(),[l]),l}function Rf(i){let{callback:t,disabled:r}=i;const a=ug(t),l=D.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(a)},[r]);return D.useEffect(()=>()=>l?.disconnect(),[l]),l}function HD(i){return new fg(dl(i),i)}function r0(i,t,r){t===void 0&&(t=HD);const[a,l]=D.useState(null);function u(){l(p=>{if(!i)return null;if(i.isConnected===!1){var y;return(y=p??r)!=null?y:null}const E=t(i);return JSON.stringify(p)===JSON.stringify(E)?p:E})}const h=qD({callback(p){if(i)for(const y of p){const{type:E,target:S}=y;if(E==="childList"&&S instanceof HTMLElement&&S.contains(i)){u();break}}}}),m=Rf({callback:u});return kr(()=>{u(),i?(m?.observe(i),h?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),h?.disconnect())},[i]),a}function GD(i){const t=IT(i);return ST(i,t)}const i0=[];function FD(i){const t=D.useRef(i),r=Jo(a=>i?a&&a!==i0&&i&&t.current&&i.parentNode===t.current.parentNode?a:wf(i):i0,[i]);return D.useEffect(()=>{t.current=i},[i]),r}function QD(i){const[t,r]=D.useState(null),a=D.useRef(i),l=D.useCallback(u=>{const h=qd(u.target);h&&r(m=>m?(m.set(h,pm(h)),new Map(m)):null)},[]);return D.useEffect(()=>{const u=a.current;if(i!==u){h(u);const m=i.map(p=>{const y=qd(p);return y?(y.addEventListener("scroll",l,{passive:!0}),[y,pm(y)]):null}).filter(p=>p!=null);r(m.length?new Map(m):null),a.current=i}return()=>{h(i),h(u)};function h(m){m.forEach(p=>{const y=qd(p);y?.removeEventListener("scroll",l)})}},[l,i]),D.useMemo(()=>i.length?t?Array.from(t.values()).reduce((u,h)=>$s(u,h),dr):xT(i):dr,[i,t])}function a0(i,t){t===void 0&&(t=[]);const r=D.useRef(null);return D.useEffect(()=>{r.current=null},t),D.useEffect(()=>{const a=i!==dr;a&&!r.current&&(r.current=i),!a&&r.current&&(r.current=null)},[i]),r.current?jo(i,r.current):dr}function YD(i){D.useEffect(()=>{if(!Af)return;const t=i.map(r=>{let{sensor:a}=r;return a.setup==null?void 0:a.setup()});return()=>{for(const r of t)r?.()}},i.map(t=>{let{sensor:r}=t;return r}))}function XD(i,t){return D.useMemo(()=>i.reduce((r,a)=>{let{eventName:l,handler:u}=a;return r[l]=h=>{u(h,t)},r},{}),[i,t])}function VT(i){return D.useMemo(()=>i?vD(i):null,[i])}const s0=[];function KD(i,t){t===void 0&&(t=dl);const[r]=i,a=VT(r?xn(r):null),[l,u]=D.useState(s0);function h(){u(()=>i.length?i.map(p=>CT(p)?a:new fg(t(p),p)):s0)}const m=Rf({callback:h});return kr(()=>{m?.disconnect(),h(),i.forEach(p=>m?.observe(p))},[i]),l}function $D(i){if(!i)return null;if(i.children.length>1)return i;const t=i.children[0];return Zo(t)?t:i}function ZD(i){let{measure:t}=i;const[r,a]=D.useState(null),l=D.useCallback(y=>{for(const{target:E}of y)if(Zo(E)){a(S=>{const T=t(E);return S?{...S,width:T.width,height:T.height}:T});break}},[t]),u=Rf({callback:l}),h=D.useCallback(y=>{const E=$D(y);u?.disconnect(),E&&u?.observe(E),a(E?t(E):null)},[t,u]),[m,p]=Wc(h);return D.useMemo(()=>({nodeRef:m,rect:r,setRef:p}),[r,m,p])}const JD=[{sensor:mg,options:{}},{sensor:hg,options:{}}],WD={current:{}},Lc={draggable:{measure:J_},droppable:{measure:J_,strategy:Ho.WhileDragging,frequency:vm.Optimized},dragOverlay:{measure:dl}};class No extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,a;return(r=(a=this.get(t))==null?void 0:a.node.current)!=null?r:void 0}}const tx={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new No,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:tf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Lc,measureDroppableContainers:tf,windowRect:null,measuringScheduled:!1},ex={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:tf,draggableNodes:new Map,over:null,measureDroppableContainers:tf},Cf=D.createContext(ex),MT=D.createContext(tx);function nx(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new No}}}function rx(i,t){switch(t.type){case ke.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ke.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:t.coordinates.x-i.draggable.initialCoordinates.x,y:t.coordinates.y-i.draggable.initialCoordinates.y}}};case ke.DragEnd:case ke.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ke.RegisterDroppable:{const{element:r}=t,{id:a}=r,l=new No(i.droppable.containers);return l.set(a,r),{...i,droppable:{...i.droppable,containers:l}}}case ke.SetDroppableDisabled:{const{id:r,key:a,disabled:l}=t,u=i.droppable.containers.get(r);if(!u||a!==u.key)return i;const h=new No(i.droppable.containers);return h.set(r,{...u,disabled:l}),{...i,droppable:{...i.droppable,containers:h}}}case ke.UnregisterDroppable:{const{id:r,key:a}=t,l=i.droppable.containers.get(r);if(!l||a!==l.key)return i;const u=new No(i.droppable.containers);return u.delete(r),{...i,droppable:{...i.droppable,containers:u}}}default:return i}}function ix(i){let{disabled:t}=i;const{active:r,activatorEvent:a,draggableNodes:l}=D.useContext(Cf),u=mm(a),h=mm(r?.id);return D.useEffect(()=>{if(!t&&!a&&u&&h!=null){if(!cg(u)||document.activeElement===u.target)return;const m=l.get(h);if(!m)return;const{activatorNode:p,node:y}=m;if(!p.current&&!y.current)return;requestAnimationFrame(()=>{for(const E of[p.current,y.current]){if(!E)continue;const S=$C(E);if(S){S.focus();break}}})}},[a,t,l,h,u]),null}function ax(i,t){let{transform:r,...a}=t;return i!=null&&i.length?i.reduce((l,u)=>u({transform:l,...a}),r):r}function sx(i){return D.useMemo(()=>({draggable:{...Lc.draggable,...i?.draggable},droppable:{...Lc.droppable,...i?.droppable},dragOverlay:{...Lc.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function lx(i){let{activeNode:t,measure:r,initialRect:a,config:l=!0}=i;const u=D.useRef(!1),{x:h,y:m}=typeof l=="boolean"?{x:l,y:l}:l;kr(()=>{if(!h&&!m||!t){u.current=!1;return}if(u.current||!a)return;const y=t?.node.current;if(!y||y.isConnected===!1)return;const E=r(y),S=ST(E,a);if(h||(S.x=0),m||(S.y=0),u.current=!0,Math.abs(S.x)>0||Math.abs(S.y)>0){const T=AT(y);T&&T.scrollBy({top:S.y,left:S.x})}},[t,h,m,a,r])}const OT=D.createContext({...dr,scaleX:1,scaleY:1});var Ji;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Ji||(Ji={}));const ox=D.memo(function(t){var r,a,l,u;let{id:h,accessibility:m,autoScroll:p=!0,children:y,sensors:E=JD,collisionDetection:S=fD,measuring:T,modifiers:C,...U}=t;const B=D.useReducer(rx,void 0,nx),[P,K]=B,[Q,Z]=nD(),[ut,lt]=D.useState(Ji.Uninitialized),ft=ut===Ji.Initialized,{draggable:{active:I,nodes:w,translate:R},droppable:{containers:V}}=P,M=I!=null?w.get(I):null,z=D.useRef({initial:null,translated:null}),x=D.useMemo(()=>{var ae;return I!=null?{id:I,data:(ae=M?.data)!=null?ae:WD,rect:z}:null},[I,M]),Zt=D.useRef(null),[Jt,X]=D.useState(null),[at,gt]=D.useState(null),Ct=Bo(U,Object.values(U)),O=Wo("DndDescribedBy",h),nt=D.useMemo(()=>V.getEnabled(),[V]),st=sx(T),{droppableRects:it,measureDroppableContainers:mt,measuringScheduled:At}=BD(nt,{dragging:ft,dependencies:[R.x,R.y],config:st.droppable}),pt=zD(w,I),he=D.useMemo(()=>at?gm(at):null,[at]),Pt=nr(),Ae=jD(pt,st.draggable.measure);lx({activeNode:I!=null?w.get(I):null,config:Pt.layoutShiftCompensation,initialRect:Ae,measure:st.draggable.measure});const It=r0(pt,st.draggable.measure,Ae),dn=r0(pt?pt.parentElement:null),He=D.useRef({activatorEvent:null,active:null,activeNode:pt,collisionRect:null,collisions:null,droppableRects:it,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),bn=V.getNodeFor((r=He.current.over)==null?void 0:r.id),Ze=ZD({measure:st.dragOverlay.measure}),kn=(a=Ze.nodeRef.current)!=null?a:pt,er=ft?(l=Ze.rect)!=null?l:It:null,mn=!!(Ze.nodeRef.current&&Ze.rect),Ja=GD(mn?null:It),qr=VT(kn?xn(kn):null),gn=FD(ft?bn??pt:null),Bn=KD(gn),Ai=ax(C,{transform:{x:R.x-Ja.x,y:R.y-Ja.y,scaleX:1,scaleY:1},activatorEvent:at,active:x,activeNodeRect:It,containerNodeRect:dn,draggingNodeRect:er,over:He.current.over,overlayNodeRect:Ze.rect,scrollableAncestors:gn,scrollableAncestorRects:Bn,windowRect:qr}),Hr=he?$s(he,R):null,wi=QD(gn),Wa=a0(wi),ue=a0(wi,[It]),Ot=$s(Ai,Wa),we=er?mD(er,Ai):null,ge=x&&we?S({active:x,collisionRect:we,droppableRects:it,droppableContainers:nt,pointerCoordinates:Hr}):null,da=bT(ge,"id"),[jn,mr]=D.useState(null),Gr=mn?Ai:$s(Ai,ue),Fr=hD(Gr,(u=jn?.rect)!=null?u:null,It),pn=D.useRef(null),Qr=D.useCallback((ae,Me)=>{let{sensor:ce,options:Sn}=Me;if(Zt.current==null)return;const _e=w.get(Zt.current);if(!_e)return;const Re=ae.nativeEvent,Oe=new ce({active:Zt.current,activeNode:_e,event:Re,options:Sn,context:He,onAbort(Rt){if(!w.get(Rt))return;const{onDragAbort:Ft}=Ct.current,pe={id:Rt};Ft?.(pe),Q({type:"onDragAbort",event:pe})},onPending(Rt,Wt,Ft,pe){if(!w.get(Rt))return;const{onDragPending:Xr}=Ct.current,Je={id:Rt,constraint:Wt,initialCoordinates:Ft,offset:pe};Xr?.(Je),Q({type:"onDragPending",event:Je})},onStart(Rt){const Wt=Zt.current;if(Wt==null)return;const Ft=w.get(Wt);if(!Ft)return;const{onDragStart:pe}=Ct.current,ir={activatorEvent:Re,active:{id:Wt,data:Ft.data,rect:z}};yo.unstable_batchedUpdates(()=>{pe?.(ir),lt(Ji.Initializing),K({type:ke.DragStart,initialCoordinates:Rt,active:Wt}),Q({type:"onDragStart",event:ir}),X(pn.current),gt(Re)})},onMove(Rt){K({type:ke.DragMove,coordinates:Rt})},onEnd:rr(ke.DragEnd),onCancel:rr(ke.DragCancel)});pn.current=Oe;function rr(Rt){return async function(){const{active:Ft,collisions:pe,over:ir,scrollAdjustedTranslate:Xr}=He.current;let Je=null;if(Ft&&Xr){const{cancelDrop:gr}=Ct.current;Je={activatorEvent:Re,active:Ft,collisions:pe,delta:Xr,over:ir},Rt===ke.DragEnd&&typeof gr=="function"&&await Promise.resolve(gr(Je))&&(Rt=ke.DragCancel)}Zt.current=null,yo.unstable_batchedUpdates(()=>{K({type:Rt}),lt(Ji.Uninitialized),mr(null),X(null),gt(null),pn.current=null;const gr=Rt===ke.DragEnd?"onDragEnd":"onDragCancel";if(Je){const ar=Ct.current[gr];ar?.(Je),Q({type:gr,event:Je})}})}}},[w]),Yr=D.useCallback((ae,Me)=>(ce,Sn)=>{const _e=ce.nativeEvent,Re=w.get(Sn);if(Zt.current!==null||!Re||_e.dndKit||_e.defaultPrevented)return;const Oe={active:Re};ae(ce,Me.options,Oe)===!0&&(_e.dndKit={capturedBy:Me.sensor},Zt.current=Sn,Qr(ce,Me))},[w,Qr]),Ri=kD(E,Yr);YD(E),kr(()=>{It&&ut===Ji.Initializing&&lt(Ji.Initialized)},[It,ut]),D.useEffect(()=>{const{onDragMove:ae}=Ct.current,{active:Me,activatorEvent:ce,collisions:Sn,over:_e}=He.current;if(!Me||!ce)return;const Re={active:Me,activatorEvent:ce,collisions:Sn,delta:{x:Ot.x,y:Ot.y},over:_e};yo.unstable_batchedUpdates(()=>{ae?.(Re),Q({type:"onDragMove",event:Re})})},[Ot.x,Ot.y]),D.useEffect(()=>{const{active:ae,activatorEvent:Me,collisions:ce,droppableContainers:Sn,scrollAdjustedTranslate:_e}=He.current;if(!ae||Zt.current==null||!Me||!_e)return;const{onDragOver:Re}=Ct.current,Oe=Sn.get(da),rr=Oe&&Oe.rect.current?{id:Oe.id,rect:Oe.rect.current,data:Oe.data,disabled:Oe.disabled}:null,Rt={active:ae,activatorEvent:Me,collisions:ce,delta:{x:_e.x,y:_e.y},over:rr};yo.unstable_batchedUpdates(()=>{mr(rr),Re?.(Rt),Q({type:"onDragOver",event:Rt})})},[da]),kr(()=>{He.current={activatorEvent:at,active:x,activeNode:pt,collisionRect:we,collisions:ge,droppableRects:it,draggableNodes:w,draggingNode:kn,draggingNodeRect:er,droppableContainers:V,over:jn,scrollableAncestors:gn,scrollAdjustedTranslate:Ot},z.current={initial:er,translated:we}},[x,pt,ge,we,w,kn,er,it,V,jn,gn,Ot]),LD({...Pt,delta:R,draggingRect:we,pointerCoordinates:Hr,scrollableAncestors:gn,scrollableAncestorRects:Bn});const ma=D.useMemo(()=>({active:x,activeNode:pt,activeNodeRect:It,activatorEvent:at,collisions:ge,containerNodeRect:dn,dragOverlay:Ze,draggableNodes:w,droppableContainers:V,droppableRects:it,over:jn,measureDroppableContainers:mt,scrollableAncestors:gn,scrollableAncestorRects:Bn,measuringConfiguration:st,measuringScheduled:At,windowRect:qr}),[x,pt,It,at,ge,dn,Ze,w,V,it,jn,mt,gn,Bn,st,At,qr]),ga=D.useMemo(()=>({activatorEvent:at,activators:Ri,active:x,activeNodeRect:It,ariaDescribedById:{draggable:O},dispatch:K,draggableNodes:w,over:jn,measureDroppableContainers:mt}),[at,Ri,x,It,K,O,w,jn,mt]);return Tn.createElement(_T.Provider,{value:Z},Tn.createElement(Cf.Provider,{value:ga},Tn.createElement(MT.Provider,{value:ma},Tn.createElement(OT.Provider,{value:Fr},y)),Tn.createElement(ix,{disabled:m?.restoreFocus===!1})),Tn.createElement(aD,{...m,hiddenTextDescribedById:O}));function nr(){const ae=Jt?.autoScrollEnabled===!1,Me=typeof p=="object"?p.enabled===!1:p===!1,ce=ft&&!ae&&!Me;return typeof p=="object"?{...p,enabled:ce}:{enabled:ce}}}),ux=D.createContext(null),l0="button",cx="Draggable";function fx(i){let{id:t,data:r,disabled:a=!1,attributes:l}=i;const u=Wo(cx),{activators:h,activatorEvent:m,active:p,activeNodeRect:y,ariaDescribedById:E,draggableNodes:S,over:T}=D.useContext(Cf),{role:C=l0,roleDescription:U="draggable",tabIndex:B=0}=l??{},P=p?.id===t,K=D.useContext(P?OT:ux),[Q,Z]=Wc(),[ut,lt]=Wc(),ft=XD(h,t),I=Bo(r);kr(()=>(S.set(t,{id:t,key:u,node:Q,activatorNode:ut,data:I}),()=>{const R=S.get(t);R&&R.key===u&&S.delete(t)}),[S,t]);const w=D.useMemo(()=>({role:C,tabIndex:B,"aria-disabled":a,"aria-pressed":P&&C===l0?!0:void 0,"aria-roledescription":U,"aria-describedby":E.draggable}),[a,C,B,P,U,E.draggable]);return{active:p,activatorEvent:m,activeNodeRect:y,attributes:w,isDragging:P,listeners:a?void 0:ft,node:Q,over:T,setNodeRef:Z,setActivatorNodeRef:lt,transform:K}}function hx(){return D.useContext(MT)}const dx="Droppable",mx={timeout:25};function gx(i){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:l}=i;const u=Wo(dx),{active:h,dispatch:m,over:p,measureDroppableContainers:y}=D.useContext(Cf),E=D.useRef({disabled:r}),S=D.useRef(!1),T=D.useRef(null),C=D.useRef(null),{disabled:U,updateMeasurementsFor:B,timeout:P}={...mx,...l},K=Bo(B??a),Q=D.useCallback(()=>{if(!S.current){S.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{y(Array.isArray(K.current)?K.current:[K.current]),C.current=null},P)},[P]),Z=Rf({callback:Q,disabled:U||!h}),ut=D.useCallback((w,R)=>{Z&&(R&&(Z.unobserve(R),S.current=!1),w&&Z.observe(w))},[Z]),[lt,ft]=Wc(ut),I=Bo(t);return D.useEffect(()=>{!Z||!lt.current||(Z.disconnect(),S.current=!1,Z.observe(lt.current))},[lt,Z]),D.useEffect(()=>(m({type:ke.RegisterDroppable,element:{id:a,key:u,disabled:r,node:lt,rect:T,data:I}}),()=>m({type:ke.UnregisterDroppable,key:u,id:a})),[a]),D.useEffect(()=>{r!==E.current.disabled&&(m({type:ke.SetDroppableDisabled,id:a,key:u,disabled:r}),E.current.disabled=r)},[a,u,r,m]),{active:h,rect:T,isOver:p?.id===a,node:lt,over:p,setNodeRef:ft}}function gg(i,t,r){const a=i.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function px(i,t){return i.reduce((r,a,l)=>{const u=t.get(a);return u&&(r[l]=u),r},Array(i.length))}function wc(i){return i!==null&&i>=0}function yx(i,t){if(i===t)return!0;if(i.length!==t.length)return!1;for(let r=0;r<i.length;r++)if(i[r]!==t[r])return!1;return!0}function vx(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const LT=i=>{let{rects:t,activeIndex:r,overIndex:a,index:l}=i;const u=gg(t,a,r),h=t[l],m=u[l];return!m||!h?null:{x:m.left-h.left,y:m.top-h.top,scaleX:m.width/h.width,scaleY:m.height/h.height}},Rc={scaleX:1,scaleY:1},_x=i=>{var t;let{activeIndex:r,activeNodeRect:a,index:l,rects:u,overIndex:h}=i;const m=(t=u[r])!=null?t:a;if(!m)return null;if(l===r){const y=u[h];return y?{x:0,y:r<h?y.top+y.height-(m.top+m.height):y.top-m.top,...Rc}:null}const p=Ex(u,l,r);return l>r&&l<=h?{x:0,y:-m.height-p,...Rc}:l<r&&l>=h?{x:0,y:m.height+p,...Rc}:{x:0,y:0,...Rc}};function Ex(i,t,r){const a=i[t],l=i[t-1],u=i[t+1];return a?r<t?l?a.top-(l.top+l.height):u?u.top-(a.top+a.height):0:u?u.top-(a.top+a.height):l?a.top-(l.top+l.height):0:0}const UT="Sortable",PT=Tn.createContext({activeIndex:-1,containerId:UT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:LT,disabled:{draggable:!1,droppable:!1}});function Tx(i){let{children:t,id:r,items:a,strategy:l=LT,disabled:u=!1}=i;const{active:h,dragOverlay:m,droppableRects:p,over:y,measureDroppableContainers:E}=hx(),S=Wo(UT,r),T=m.rect!==null,C=D.useMemo(()=>a.map(ft=>typeof ft=="object"&&"id"in ft?ft.id:ft),[a]),U=h!=null,B=h?C.indexOf(h.id):-1,P=y?C.indexOf(y.id):-1,K=D.useRef(C),Q=!yx(C,K.current),Z=P!==-1&&B===-1||Q,ut=vx(u);kr(()=>{Q&&U&&E(C)},[Q,C,U,E]),D.useEffect(()=>{K.current=C},[C]);const lt=D.useMemo(()=>({activeIndex:B,containerId:S,disabled:ut,disableTransforms:Z,items:C,overIndex:P,useDragOverlay:T,sortedRects:px(C,p),strategy:l}),[B,S,ut.draggable,ut.droppable,Z,C,P,p,T,l]);return Tn.createElement(PT.Provider,{value:lt},t)}const bx=i=>{let{id:t,items:r,activeIndex:a,overIndex:l}=i;return gg(r,a,l).indexOf(t)},Sx=i=>{let{containerId:t,isSorting:r,wasDragging:a,index:l,items:u,newIndex:h,previousItems:m,previousContainerId:p,transition:y}=i;return!y||!a||m!==u&&l===h?!1:r?!0:h!==l&&t===p},Ax={duration:200,easing:"ease"},zT="transform",wx=qo.Transition.toString({property:zT,duration:0,easing:"linear"}),Rx={roleDescription:"sortable"};function Cx(i){let{disabled:t,index:r,node:a,rect:l}=i;const[u,h]=D.useState(null),m=D.useRef(r);return kr(()=>{if(!t&&r!==m.current&&a.current){const p=l.current;if(p){const y=dl(a.current,{ignoreTransform:!0}),E={x:p.left-y.left,y:p.top-y.top,scaleX:p.width/y.width,scaleY:p.height/y.height};(E.x||E.y)&&h(E)}}r!==m.current&&(m.current=r)},[t,r,a,l]),D.useEffect(()=>{u&&h(null)},[u]),u}function Dx(i){let{animateLayoutChanges:t=Sx,attributes:r,disabled:a,data:l,getNewIndex:u=bx,id:h,strategy:m,resizeObserverConfig:p,transition:y=Ax}=i;const{items:E,containerId:S,activeIndex:T,disabled:C,disableTransforms:U,sortedRects:B,overIndex:P,useDragOverlay:K,strategy:Q}=D.useContext(PT),Z=xx(a,C),ut=E.indexOf(h),lt=D.useMemo(()=>({sortable:{containerId:S,index:ut,items:E},...l}),[S,l,ut,E]),ft=D.useMemo(()=>E.slice(E.indexOf(h)),[E,h]),{rect:I,node:w,isOver:R,setNodeRef:V}=gx({id:h,data:lt,disabled:Z.droppable,resizeObserverConfig:{updateMeasurementsFor:ft,...p}}),{active:M,activatorEvent:z,activeNodeRect:x,attributes:Zt,setNodeRef:Jt,listeners:X,isDragging:at,over:gt,setActivatorNodeRef:Ct,transform:O}=fx({id:h,data:lt,attributes:{...Rx,...r},disabled:Z.draggable}),nt=QC(V,Jt),st=!!M,it=st&&!U&&wc(T)&&wc(P),mt=!K&&at,At=mt&&it?O:null,he=it?At??(m??Q)({rects:B,activeNodeRect:x,activeIndex:T,overIndex:P,index:ut}):null,Pt=wc(T)&&wc(P)?u({id:h,items:E,activeIndex:T,overIndex:P}):ut,Ae=M?.id,It=D.useRef({activeId:Ae,items:E,newIndex:Pt,containerId:S}),dn=E!==It.current.items,He=t({active:M,containerId:S,isDragging:at,isSorting:st,id:h,index:ut,items:E,newIndex:It.current.newIndex,previousItems:It.current.items,previousContainerId:It.current.containerId,transition:y,wasDragging:It.current.activeId!=null}),bn=Cx({disabled:!He,index:ut,node:w,rect:I});return D.useEffect(()=>{st&&It.current.newIndex!==Pt&&(It.current.newIndex=Pt),S!==It.current.containerId&&(It.current.containerId=S),E!==It.current.items&&(It.current.items=E)},[st,Pt,S,E]),D.useEffect(()=>{if(Ae===It.current.activeId)return;if(Ae&&!It.current.activeId){It.current.activeId=Ae;return}const kn=setTimeout(()=>{It.current.activeId=Ae},50);return()=>clearTimeout(kn)},[Ae]),{active:M,activeIndex:T,attributes:Zt,data:lt,rect:I,index:ut,newIndex:Pt,items:E,isOver:R,isSorting:st,isDragging:at,listeners:X,node:w,overIndex:P,over:gt,setNodeRef:nt,setActivatorNodeRef:Ct,setDroppableNodeRef:V,setDraggableNodeRef:Jt,transform:bn??he,transition:Ze()};function Ze(){if(bn||dn&&It.current.newIndex===ut)return wx;if(!(mt&&!cg(z)||!y)&&(st||He))return qo.Transition.toString({...y,property:zT})}}function xx(i,t){var r,a;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(r=i?.draggable)!=null?r:t.draggable,droppable:(a=i?.droppable)!=null?a:t.droppable}}function nf(i){if(!i)return!1;const t=i.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Nx=[zt.Down,zt.Right,zt.Up,zt.Left],Ix=(i,t)=>{let{context:{active:r,collisionRect:a,droppableRects:l,droppableContainers:u,over:h,scrollableAncestors:m}}=t;if(Nx.includes(i.code)){if(i.preventDefault(),!r||!a)return;const p=[];u.getEnabled().forEach(S=>{if(!S||S!=null&&S.disabled)return;const T=l.get(S.id);if(T)switch(i.code){case zt.Down:a.top<T.top&&p.push(S);break;case zt.Up:a.top>T.top&&p.push(S);break;case zt.Left:a.left>T.left&&p.push(S);break;case zt.Right:a.left<T.left&&p.push(S);break}});const y=uD({collisionRect:a,droppableRects:l,droppableContainers:p});let E=bT(y,"id");if(E===h?.id&&y.length>1&&(E=y[1].id),E!=null){const S=u.get(r.id),T=u.get(E),C=T?l.get(T.id):null,U=T?.node.current;if(U&&C&&S&&T){const P=wf(U).some((ft,I)=>m[I]!==ft),K=kT(S,T),Q=Vx(S,T),Z=P||!K?{x:0,y:0}:{x:Q?a.width-C.width:0,y:Q?a.height-C.height:0},ut={x:C.left,y:C.top};return Z.x&&Z.y?ut:jo(ut,Z)}}}};function kT(i,t){return!nf(i)||!nf(t)?!1:i.data.current.sortable.containerId===t.data.current.sortable.containerId}function Vx(i,t){return!nf(i)||!nf(t)||!kT(i,t)?!1:i.data.current.sortable.index<t.data.current.sortable.index}const o0=i=>i.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");function u0(){const{id:i}=K1(),t=T0(),[r,a]=D.useState("multi"),[l,u]=D.useState({title:"",coverUrl:"",type:"collection",volumes:[]});D.useEffect(()=>{i&&(async()=>{const C=To(Qs,"collections",i),U=await PC(C);if(U.exists()){const B=U.data();u({id:U.id,...B}),a(B.type==="single"?"single":"multi")}})()},[i]);const h=T=>{const{name:C,value:U}=T.target;u(B=>({...B,[C]:U}))},m=(T,C,U)=>{const B=[...l.volumes];B[T]={...B[T],[C]:U},u(P=>({...P,volumes:B}))},p=()=>{u(T=>({...T,volumes:[...T.volumes,{id:T.volumes.length+1,title:"",coverUrl:"",owned:!1}]}))},y=T=>{const C=l.volumes.filter((U,B)=>B!==T).map((U,B)=>({...U,id:B+1}));u(U=>({...U,volumes:C}))},E=async()=>{try{const T=o0(l.title),C={...l,type:r==="single"?"single":"collection"};if(i){const U=To(Qs,"collections",i);await pT(U,C)}else{const U=To(Qs,"collections",T);await kC(U,C)}t("/")}catch(T){console.error("Erro ao salvar coleção: ",T)}},S=async()=>{if(window.confirm("Tem certeza que deseja excluir esta coleção?"))try{await BC(To(Qs,"collections",i)),t("/")}catch(T){console.error("Erro ao excluir coleção: ",T)}};return W.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 w-full py-8",children:W.jsx("div",{className:"flex justify-center w-full px-4",children:W.jsxs("div",{className:"w-full max-w-4xl bg-gray-800 rounded-xl shadow-md p-6 border border-gray-700",children:[W.jsxs("div",{className:"flex justify-between items-center mb-6",children:[W.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:i?"Editar Coleção":"Adicionar Nova Coleção"}),W.jsx("button",{onClick:()=>t("/"),className:"text-gray-400 hover:text-gray-100 px-4 py-2 rounded-lg transition-colors",children:"Home"})]}),W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tipo de Coleção"}),W.jsxs("div",{className:"flex space-x-4",children:[W.jsxs("label",{className:"flex items-center",children:[W.jsx("input",{type:"radio",value:"multi",checked:r==="multi",onChange:()=>a("multi"),className:"mr-2"}),"Múltiplos Volumes"]}),W.jsxs("label",{className:"flex items-center",children:[W.jsx("input",{type:"radio",value:"single",checked:r==="single",onChange:()=>a("single"),className:"mr-2"}),"Volume Único"]})]})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nome da Coleção"}),W.jsx("input",{type:"text",name:"title",value:l.title,onChange:h,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"Ex: Chainsaw Man"}),l.title&&W.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["ID da coleção: ",o0(l.title)]})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Link da Capa"}),W.jsx("input",{type:"text",name:"coverUrl",value:l.coverUrl,onChange:h,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"https://exemplo.com/capa.jpg"}),l.coverUrl&&W.jsxs("div",{className:"mt-3",children:[W.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Preview da Capa Principal:"}),W.jsx("img",{src:l.coverUrl,alt:"Preview da capa",className:"h-60 w-44 object-contain border border-gray-600 rounded-md bg-gray-900 mx-auto",onError:T=>{T.target.style.display="none"}})]})]}),r==="multi"?W.jsxs("div",{children:[W.jsxs("div",{className:"flex justify-between items-center mb-4",children:[W.jsx("h3",{className:"text-lg font-medium text-gray-300",children:"Volumes"}),W.jsxs("button",{onClick:p,className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md transition-colors",children:[W.jsx("span",{className:"text-lg mr-1",children:"+"})," Adicionar Volume"]})]}),W.jsx("div",{className:"space-y-4",children:l.volumes.map((T,C)=>W.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 bg-gray-750",children:[W.jsxs("div",{className:"flex justify-between items-center mb-3",children:[W.jsxs("h4",{className:"font-medium text-gray-300",children:["Volume ",T.id]}),W.jsx("button",{onClick:()=>y(C),className:"text-red-400 hover:text-red-300 transition-colors",children:"Remover"})]}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome do Volume"}),W.jsx("input",{type:"text",value:T.title,onChange:U=>m(C,"title",U.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"Ex: Chainsaw Man #1"})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Link da Capa"}),W.jsxs("div",{className:"flex gap-2 items-start",children:[W.jsx("input",{type:"text",value:T.coverUrl,onChange:U=>m(C,"coverUrl",U.target.value),className:"flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-100",placeholder:"https://exemplo.com/volume1.jpg"}),T.coverUrl&&W.jsx("img",{src:T.coverUrl,alt:"Preview",className:"h-16 w-12 object-cover border border-gray-600 rounded ml-2",onError:U=>{U.target.style.display="none"}})]}),T.coverUrl&&W.jsxs("div",{className:"mt-2",children:[W.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Preview Grande:"}),W.jsx("img",{src:T.coverUrl,alt:"Preview grande",className:"h-40 w-28 object-contain border border-gray-600 rounded-md bg-gray-900 mx-auto",onError:U=>{U.target.style.display="none"}})]})]})]})]},C))})]}):W.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 bg-gray-750",children:[W.jsx("h3",{className:"text-lg font-medium text-gray-300 mb-4",children:"Volume Único"}),W.jsx("p",{className:"text-gray-400 text-sm",children:"Para mangás de volume único, as informações da capa e título já foram preenchidas acima."})]}),W.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-700",children:[i&&W.jsx("button",{onClick:S,className:"px-4 py-2 bg-red-700 text-white rounded-md hover:bg-red-600 transition-colors",children:"Excluir Coleção"}),W.jsxs("button",{onClick:E,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-500 transition-colors ml-auto disabled:opacity-50 disabled:cursor-not-allowed",disabled:!l.title||!l.coverUrl||r==="multi"&&l.volumes.length===0,children:[i?"Atualizar":"Salvar"," Coleção"]})]})]})]})})})}function Mx({collection:i,onCollectionClick:t,onEditClick:r}){const{attributes:a,listeners:l,setNodeRef:u,transform:h,transition:m,isDragging:p}=Dx({id:i.id}),y={transform:qo.Transform.toString(h),transition:m,opacity:p?.5:1};return W.jsxs("div",{ref:u,style:y,...a,...l,className:"bg-gray-800 shadow-lg rounded-xl p-4 cursor-pointer hover:scale-105 transition-transform duration-300 group relative border border-gray-700",children:[W.jsx("img",{src:i.coverUrl,alt:i.title,className:"rounded-lg mx-auto object-cover shadow-md",style:{width:"150px",height:"225px"},onClick:()=>t(i)}),W.jsx("h2",{className:"text-center font-bold mt-3 text-gray-100",children:i.title}),W.jsx("p",{className:"text-center text-sm text-gray-400 mt-1",children:i.type==="single"?"Volume Único":`${i.volumes.filter(E=>E.owned).length}/${i.volumes.length} volumes`}),W.jsx("a",{href:`/edit-collection/${i.id}`,className:"absolute top-3 right-3 bg-gray-900 bg-opacity-80 text-gray-100 p-2 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",onClick:E=>{E.stopPropagation(),r(i)},children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})}function Ox(){const[i,t]=D.useState([]),[r,a]=D.useState(null),[l,u]=D.useState("alphabetical"),[h,m]=D.useState(!1),p=sD(K_(mg),K_(hg,{coordinateGetter:Ix}));D.useEffect(()=>{(async()=>{const U=(await zC(bC(Qs,"collections"))).docs.map(B=>({id:B.id,...B.data()}));l==="alphabetical"&&U.sort((B,P)=>B.title.localeCompare(P.title)),t(U)})()},[l]);const y=async(T,C)=>{const U=To(Qs,"collections",T),B=i.find(Q=>Q.id===T),P=B.volumes.map(Q=>Q.id===C?{...Q,owned:!Q.owned}:Q);await pT(U,{volumes:P});const K={...B,volumes:P};t(Q=>Q.map(Z=>Z.id===T?K:Z)),a(K)},E=T=>{const{active:C,over:U}=T;C.id!==U.id&&t(B=>{const P=B.findIndex(Q=>Q.id===C.id),K=B.findIndex(Q=>Q.id===U.id);return gg(B,P,K)})},S=()=>{if(l==="custom"){u("alphabetical"),m(!1);const T=[...i].sort((C,U)=>C.title.localeCompare(U.title));t(T)}else u("custom")};return W.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 w-full max-w-none",children:[W.jsxs("div",{className:"flex flex-col items-center",children:[W.jsx("h1",{className:"text-4xl font-bold text-center mb-2 text-blue-400",children:"MyMangaList"}),W.jsx("p",{className:"text-gray-400 mb-6",children:"Loucura"}),W.jsx("div",{className:"flex gap-4 mb-6",children:W.jsx("a",{href:"/add-collection",className:"bg-blue-600 hover:bg-blue-700 text-white! font-bold! px-6 py-3 rounded-lg text-lg transition-colors shadow-lg",children:"Adicionar Coleção"})}),W.jsxs("div",{className:"flex gap-2 mb-6",children:[W.jsxs("p",{onClick:S,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold px-4 py-2 rounded-lg transition-colors flex items-center gap-2",children:["Name",l==="custom"&&!h?W.jsx("faPencilAlt",{}):null,h?W.jsx("faCheck",{}):null]}),l==="custom"&&W.jsx("button",{onClick:()=>m(!h),className:"bg-purple-600 hover:bg-purple-700 text-white font-bold px-6 py-3 rounded-lg text-lg transition-colors shadow-lg",children:h?"Salvar Ordem":"Editar Ordem"})]}),h&&W.jsx("div",{className:"bg-yellow-900 border border-yellow-600 rounded-lg p-3 mb-4",children:W.jsx("p",{className:"text-yellow-200 text-sm",children:"Arraste e solte para reorganizar as coleções."})})]}),W.jsx("div",{className:"w-full px-4 py-8",children:i.length===0?W.jsxs("div",{className:"text-center py-12",children:[W.jsx("div",{className:"text-gray-500 text-6xl mb-4",children:"📚"}),W.jsx("h2",{className:"text-xl text-gray-400 mb-2",children:"Nenhuma coleção encontrada"}),W.jsx("p",{className:"text-gray-500",children:"Comece adicionando sua primeira coleção de mangás!"})]}):l==="custom"&&h?W.jsx("div",{className:"flex justify-center",children:W.jsx(ox,{sensors:p,collisionDetection:oD,onDragEnd:E,children:W.jsx(Tx,{items:i,strategy:_x,children:W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 w-full max-w-7xl",children:i.map(T=>W.jsx(Mx,{collection:T,onCollectionClick:a,onEditClick:C=>window.location.href=`/edit-collection/${C.id}`},T.id))})})})}):W.jsx("div",{className:"flex justify-center",children:W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 w-full max-w-7xl",children:i.map(T=>W.jsxs("div",{className:"bg-gray-800 shadow-lg rounded-xl p-4 cursor-pointer hover:scale-105 transition-transform duration-300 group relative border border-gray-700",children:[W.jsx("img",{src:T.coverUrl,alt:T.title,className:"rounded-lg mx-auto object-cover shadow-md",style:{width:"150px",height:"225px"},onClick:()=>a(T)}),W.jsx("h2",{className:"text-center font-bold mt-3 text-gray-100",children:T.title}),W.jsx("p",{className:"text-center text-sm text-gray-400 mt-1",children:T.type==="single"?"Volume Único":`${T.volumes.filter(C=>C.owned).length}/${T.volumes.length} volumes`}),W.jsx("a",{href:`/edit-collection/${T.id}`,className:"absolute top-3 right-3 bg-gray-900 bg-opacity-80 text-gray-100 p-2 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 shadow-md",children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]},T.id))})})}),r&&W.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",children:W.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col border border-gray-700 shadow-2xl",children:[W.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-4 mb-4",children:[W.jsxs("div",{children:[W.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:r.title}),W.jsx("p",{className:"text-gray-400",children:r.type==="single"?"Volume Único":`${r.volumes.filter(T=>T.owned).length}/${r.volumes.length} volumes adquiridos`})]}),W.jsx("button",{className:"text-gray-400 hover:text-gray-100 text-3xl transition-colors",onClick:()=>a(null),children:"×"})]}),W.jsx("div",{className:"overflow-y-auto flex-grow",children:W.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6 p-4",children:r.volumes.map(T=>W.jsxs("div",{className:"flex flex-col items-center",children:[W.jsxs("div",{className:"relative",children:[W.jsx("img",{src:T.coverUrl,alt:`Volume ${T.id}`,className:`rounded-md cursor-pointer object-contain transition-all duration-300 ${T.owned?"opacity-100 ring-2 ring-green-500":"opacity-60 hover:opacity-80"}`,style:{height:"160px",width:"140px"},onClick:()=>y(r.id,T.id)}),T.owned&&W.jsx("div",{className:"absolute bottom-2 right-2 bg-green-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-md",children:"✓"})]}),W.jsx("p",{className:"text-sm mt-2 font-medium text-gray-300",children:r.type==="single"?r.title:`Vol. ${T.id}`})]},T.id))})})]})})]})}function Lx(){return W.jsx(VS,{children:W.jsxs(Routes,{children:[W.jsx(Route,{path:"/",element:W.jsx(Ox,{})}),W.jsx(Route,{path:"/add-collection",element:W.jsx(u0,{})}),W.jsx(Route,{path:"/edit-collection/:id",element:W.jsx(u0,{})})]})})}_1.createRoot(document.getElementById("root")).render(W.jsx(Tn.StrictMode,{children:W.jsx(Lx,{})}));
